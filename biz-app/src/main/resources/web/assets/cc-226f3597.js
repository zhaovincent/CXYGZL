import{d as V,h as v,r as y,o as E,D as u,L,ck as O,a as d,c as l,k as i,au as T,f as s,P as z,cl as J,q as N,am as M,n as U,a5 as j,ag as q,ah as F}from"./index-d5547550.js";import{p as H,b as A}from"./const-a11e1fef.js";import G from"./addNode-8159b811.js";import{$ as h}from"./index-a7c7b111.js";import{u as K}from"./index-71f0fd6b.js";import{_ as Q}from"./_plugin-vue_export-helper-c27b6911.js";import"./el-popper-00977718.js";import"./el-popover-07a17928.js";import"./dropdown-b09318e3.js";import"./flow-165b4256.js";const k=e=>(q("data-v-d0a43631"),e=e(),F(),e),R={class:"node-wrap"},W=["placeholder"],X={class:"text"},Y=k(()=>i("i",{class:"anticon anticon-right arrow"},null,-1)),Z={key:0,class:"error_tip"},ee=k(()=>i("i",{class:"anticon anticon-exclamation-circle"},null,-1)),oe=[ee],te=V({__name:"cc",props:{nodeConfig:{type:Object,default:()=>{}}},emits:["updateData"],setup(e,{emit:S}){const n=e;v();let r=y(!1);E(()=>{n.nodeConfig.error=!h.copyerStr(n.nodeConfig)});const b=o=>{r.value=!1,n.nodeConfig.nodeName=n.nodeConfig.nodeName||c};let c=u(()=>H[n.nodeConfig.type]);var f=u(()=>h.copyerStr(n.nodeConfig));const x=o=>{o||o===0?D.value[o]=!0:r.value=!0};let D=y([]);const p=o=>{S("updateData",o)},_=()=>{p(n.nodeConfig.childNode)};let g=K(),{setCopyer:w,setCopyerConfig:I}=g,m=v().uid,P=u(()=>g.copyerConfig1);L(P,o=>{o.flag&&o.id===m&&p(o.value)});const $=()=>{w(!0),I({value:JSON.parse(JSON.stringify(n.nodeConfig)),flag:!1,id:m})};return(o,t)=>{var C;const B=O("focus");return d(),l("div",R,[i("div",{class:U(["node-wrap-box",(e.nodeConfig.type==0?"start-node ":"")+(e.nodeConfig.error?"active error":"")])},[i("div",{class:"title",style:T(`background: rgb(${s(A)[e.nodeConfig.type]});`)},[s(r)?z((d(),l("input",{key:0,type:"text",class:"ant-input editable-title-input",onBlur:t[0]||(t[0]=a=>b()),onFocus:t[1]||(t[1]=a=>a.currentTarget.select()),"onUpdate:modelValue":t[2]||(t[2]=a=>e.nodeConfig.nodeName=a),placeholder:s(c)},null,40,W)),[[B],[J,e.nodeConfig.nodeName]]):(d(),l("span",{key:1,class:"editable-title",onClick:t[3]||(t[3]=a=>x())},N(e.nodeConfig.nodeName),1)),i("i",{class:"anticon anticon-close close",onClick:_})],4),i("div",{class:"content",onClick:$},[i("div",X,N(((C=s(f))==null?void 0:C.length)>0?s(f):"请选择"+s(c)),1),Y]),e.nodeConfig.error?(d(),l("div",Z,oe)):M("",!0)],2),j(G,{"current-node":e.nodeConfig,childNodeP:e.nodeConfig.childNode,"onUpdate:childNodeP":t[4]||(t[4]=a=>e.nodeConfig.childNode=a)},null,8,["current-node","childNodeP"])])}}});const pe=Q(te,[["__scopeId","data-v-d0a43631"]]);export{pe as default};
