import{d as B,r as i,K as S,o as U,D as $,a as _,c as q,a5 as o,w as p,P as F,l as k,f as t,a3 as h,as as N,am as P,k as L,q as M,aB as j}from"./index-e01dade3.js";import{v as K}from"./el-loading-b076b1a7.js";import{E as O}from"./el-drawer-51597e24.js";import{E as Q}from"./el-card-16bdf0d8.js";import{_ as A}from"./index-1cadfa40.js";import{E as G,a as H}from"./el-table-column-7cf019e1.js";import"./el-checkbox-123bf6dd.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-ee5283d6.js";import"./el-scrollbar-f2029ad1.js";import{_ as J,a as W}from"./ViewProcessInstanceImage.vue_vue_type_script_setup_true_lang-80efc83b.js";import{_ as X}from"./position-f826c78d.js";import"./el-tag-929563f7.js";import{_ as Y}from"./FormRender.vue_vue_type_script_setup_true_lang-50f6b849.js";import{_ as Z}from"./FlowNodeFormatData.vue_vue_type_script_setup_true_lang-b8400ff6.js";import{b as oo,c as to}from"./index-3a646217.js";import"./el-dialog-1471a1af.js";import"./refs-dd65b3fd.js";import"./el-select-c154265f.js";import"./strings-6464b592.js";import"./isEqual-47390e81.js";import"./_Uint8Array-aeb50f83.js";import"./debounce-bf37b7f7.js";import"./index-6b517de5.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./_baseClone-59dac119.js";import"./isArrayLikeObject-a5301880.js";import"./_overRest-a79e0547.js";import"./_baseFlatten-6e5398bc.js";import"./flatten-178b99bc.js";/* empty css                */import"./el-form-item-85be6a3a.js";import"./getFormWidget-4084fd80.js";import"./Date-e3a674b4.js";import"./el-date-picker-b8fb5128.js";import"./panel-time-pick-cbec15ad.js";import"./index-f7c59abe.js";import"./DateTime-e4a39557.js";import"./Description-c9397ba1.js";import"./Empty-b60a7a2f.js";import"./Input-741e75d5.js";import"./Money-53354be7.js";import"./el-input-number-182b17d2.js";import"./MultiSelect-f62683ec.js";import"./Number-4a71bbb3.js";import"./SelectDept-e55ebbaf.js";import"./selectAndShow.vue_vue_type_script_setup_true_lang-a708354f.js";import"./employeesDialog-3166dde1.js";import"./selectBox-a8819872.js";import"./el-avatar-63a3488d.js";/* empty css                */import"./index-8f0c79b2.js";import"./index-126d0406.js";import"./flow-2349aa77.js";import"./selectResult-ca10c7f8.js";import"./orgItem-da1d9713.js";import"./SelectMultiDept-865ded1b.js";import"./SelectMultiUser-f2df4170.js";import"./SelectUser-350b1f1c.js";import"./SingleSelect-4f2549a6.js";import"./Textarea-33dea2bf.js";import"./Time-5f63d134.js";import"./el-time-picker-1aa4e9cb.js";import"./UploadFile-9daeda9f.js";import"./el-progress-be452bc9.js";import"./index-f7c9196e.js";import"./UploadImage-8c59ffb5.js";import"./MultiUpload-c72eb43c.js";import"./plus-95522b44.js";import"./el-tab-pane-5b128a44.js";const eo={class:"app-container"},ht=B({__name:"completed",setup(ro){const s=i(!1),c=i(!1);i([]);const l=i(0),n=S({pageNum:1,pageSize:10}),f=i(),u=i(),y=a=>{u.value=a,oo(a.taskId,!0).then(e=>{d.value=e.data.formItems,s.value=!0})},d=i(),v=i(),I=a=>{v.value.view(a)};i(),i();function g(){c.value=!0,to(n).then(({data:a})=>{f.value=a.records,l.value=a.total}).finally(()=>{c.value=!1})}U(()=>{g()});const E=$(()=>{var a={};for(var e of d.value)a[e.id]=e.props.value;return a});return(a,e)=>{const m=G,C=X,w=j,T=W,V=H,D=A,b=Q,x=O,R=K;return _(),q("div",eo,[o(b,{shadow:"never"},{default:p(()=>[F((_(),k(V,{ref:"dataTableRef",data:t(f),"highlight-current-row":"",border:""},{default:p(()=>[o(m,{label:"分组",prop:"groupName",width:"100"}),o(m,{label:"流程",prop:"processName",width:"150"}),o(m,{label:"发起人",prop:"rootUserName",width:"150"}),o(m,{label:"发起时间",prop:"startTime",width:"200"}),o(m,{label:"任务名称",prop:"taskName",width:"200"}),o(m,{label:"任务开始时间",prop:"taskCreateTime",width:"200"}),o(m,{label:"任务结束时间",prop:"taskEndTime",width:"200"}),o(m,{fixed:"right",label:"操作"},{default:p(r=>[o(w,{type:"primary",size:"small",link:"",onClick:z=>y(r.row)},{default:p(()=>[o(C),h(" 查看 ")]),_:2},1032,["onClick"]),o(w,{type:"primary",size:"small",link:"",onClick:z=>I(r.row)},{default:p(()=>[o(T),h(" 流程图 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[R,t(c)]]),t(l)>0?(_(),k(D,{key:0,total:t(l),"onUpdate:total":e[0]||(e[0]=r=>N(l)?l.value=r:null),page:t(n).pageNum,"onUpdate:page":e[1]||(e[1]=r=>t(n).pageNum=r),limit:t(n).pageSize,"onUpdate:limit":e[2]||(e[2]=r=>t(n).pageSize=r),onPagination:g},null,8,["total","page","limit"])):P("",!0)]),_:1}),o(x,{modelValue:t(s),"onUpdate:modelValue":e[3]||(e[3]=r=>N(s)?s.value=r:null),direction:"rtl",size:"400px"},{header:p(()=>{var r;return[L("h3",null,M((r=t(u))==null?void 0:r.processName),1)]}),default:p(()=>[o(b,{class:"box-card"},{default:p(()=>[o(Y,{ref:"formRenderRef","form-list":t(d)},null,8,["form-list"])]),_:1}),o(Z,{disableSelect:!0,formData:t(E),processInstanceId:t(u).processInstanceId,"flow-id":t(u).flowId,ref:"flowNodeFormatRef"},null,8,["formData","processInstanceId","flow-id"])]),_:1},8,["modelValue"]),o(J,{ref_key:"viewImageRef",ref:v},null,512)])}}});export{ht as default};
