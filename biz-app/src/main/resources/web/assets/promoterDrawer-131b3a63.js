import{r as C,D as p,L as c,a as V,l as y,w as f,k as S,a5 as u,f as _,as as h}from"./index-d5547550.js";import{E as k}from"./el-drawer-75c80c60.js";import{E as x,a as B}from"./el-tab-pane-a6cb13f9.js";/* empty css                  *//* empty css                  *//* empty css                    *//* empty css                */import"./selectBox.vue_vue_type_style_index_0_scoped_82c14c6c_lang-f1c14f73.js";/* empty css                                                                     *//* empty css                                                                        */import"./orgItem-a67c9471.js";import{u as F}from"./flow-165b4256.js";import{u as L}from"./index-71f0fd6b.js";import N from"./formPerm-3f783d49.js";import"./use-dialog-27a1e524.js";import"./strings-fbdcd853.js";import"./index-a7c7b111.js";import"./const-a11e1fef.js";import"./el-tag-de6752b8.js";/* empty css                       */import"./el-radio-92787871.js";import"./_plugin-vue_export-helper-c27b6911.js";const T={class:"demo-drawer__content"},ae={__name:"promoterDrawer",setup(z){let i=L(),a=C({}),v=F(),n=p(()=>i.starterConfigData);c(n,o=>{a.value=o.value});const w=p(()=>v.step2),b=()=>{let o=w.value;var e={};let t=a.value.formPerms;console.log(t);for(var r of o)if(e[r.id]="E",t[r.id]&&(e[r.id]=t[r.id]),r.type==="Layout"){let m=r.props.value;for(var s of m)e[s.id]="E",t[s.id]&&(e[s.id]=t[s.id])}a.value.formPerms=e};let{setPromoter:D,setStarterConfig:E}=i,P=p(()=>i.promoterDrawer),l=p({get(){return P.value},set(){d()}});c(n,o=>{a.value=o.value});const g=()=>{E({value:a.value,flag:!0,id:n.value.id}),d()},d=()=>{D(!1)};return(o,e)=>{const t=x,r=B,s=k;return V(),y(s,{"append-to-body":!0,title:"发起人",modelValue:_(l),"onUpdate:modelValue":e[0]||(e[0]=m=>h(l)?l.value=m:l=m),class:"set_promoter","show-close":!1,onOpen:b,size:550,"before-close":g},{default:f(()=>[S("div",T,[u(r,{type:"border-card"},{default:f(()=>[u(t,{label:"表单权限"},{default:f(()=>[u(N,{"form-perm":_(a).formPerms},null,8,["form-perm"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])}}};export{ae as default};
