import{d as D,r as s,a as I,c as y,a5 as u,w as p,k as C,a3 as E,f as c,as as b,aC as T,aD as B}from"./index-d5547550.js";/* empty css                  */import{r as N,c as S}from"./index-8f215b9b.js";import{E as F}from"./index-a6355ec2.js";const L={class:"dialog-footer"},j=D({__name:"agree",emits:["taskSubmitEvent"],setup(R,{expose:g,emit:f}){const t=s(!1),r=s(""),i=s(),m=s(!1),_=s(),k=s("");g({handle:(n,e,a,o)=>{k.value=o,m.value=a,i.value=n,_.value=e,t.value=!0}});const w=()=>{let n=_.value;var e={};for(var a of n)if(e[a.id]=a.props.value,a.type==="Layout"){let d=a.props.value;var o=[];for(var v of d){var l={};for(var V of v){let h=V.props.value;l[V.id]=h}o.push(l)}e[a.id]=o}var x={paramMap:e,approveResult:!0,processInstanceId:i.value.processInstanceId,approveDesc:r.value,taskId:i.value.taskId};m.value?N(x).then(d=>{t.value=!1,f("taskSubmitEvent")}):S(x).then(d=>{t.value=!1,f("taskSubmitEvent")})};return(n,e)=>{const a=T,o=B,v=F;return I(),y("div",null,[u(v,{modelValue:c(t),"onUpdate:modelValue":e[2]||(e[2]=l=>b(t)?t.value=l:null),title:c(k),width:"400px"},{footer:p(()=>[C("span",L,[u(o,{onClick:e[1]||(e[1]=l=>t.value=!1)},{default:p(()=>[E("取消")]),_:1}),u(o,{type:"primary",onClick:w},{default:p(()=>[E(" 确定 ")]),_:1})])]),default:p(()=>[u(a,{modelValue:c(r),"onUpdate:modelValue":e[0]||(e[0]=l=>b(r)?r.value=l:null),type:"textarea",maxlength:"100",rows:5,placeholder:"审核意见","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["modelValue","title"])])}}});export{j as _};
