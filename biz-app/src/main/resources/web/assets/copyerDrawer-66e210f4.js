import{r as L,D as i,L as E,a as D,l as P,w as f,a5 as l,f as u,as as S}from"./index-d5547550.js";import{E as U}from"./el-drawer-75c80c60.js";import{E as V,a as k}from"./el-tab-pane-a6cb13f9.js";import{_ as x}from"./selectAndShow.vue_vue_type_script_setup_true_lang-9eafc7ba.js";import{$ as F}from"./index-a7c7b111.js";import{u as R}from"./index-71f0fd6b.js";import{u as B}from"./flow-165b4256.js";import T from"./formPerm-3f783d49.js";import"./use-dialog-27a1e524.js";import"./strings-fbdcd853.js";import"./employeesDialog-54936475.js";/* empty css                  */import"./selectBox-26a3a753.js";/* empty css                  *//* empty css                    *//* empty css                */import"./selectBox.vue_vue_type_style_index_0_scoped_82c14c6c_lang-f1c14f73.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-222e6800.js";import"./isEqual-fe47b28a.js";import"./_Uint8Array-c7447712.js";import"./flatten-36990bb8.js";import"./_baseFlatten-c80c9ba3.js";import"./_overRest-d3d6b67b.js";import"./index-85bc974f.js";import"./selectResult-4abbf083.js";/* empty css                                                                     *//* empty css                                                                        */import"./index-a6355ec2.js";import"./refs-5fd04da2.js";import"./orgItem-a67c9471.js";import"./el-tag-de6752b8.js";import"./const-a11e1fef.js";/* empty css                       */import"./el-radio-92787871.js";const ye={__name:"copyerDrawer",setup($){let r=L({}),_=B();const v=i(()=>_.step2);let n=R(),{setCopyerConfig:y,setCopyer:w}=n,b=i(()=>n.copyerDrawer),d=i(()=>n.copyerConfig1),m=i({get(){return b.value},set(){c()}});E(d,s=>{r.value=s.value});const g=()=>{let s=v.value;var e={};let t=r.value.formPerms;for(var o of s)if(e[o.id]="R",t[o.id]&&(e[o.id]=t[o.id]),o.type==="Layout"){let p=o.props.value;for(var a of p)e[a.id]="R",t[a.id]&&(e[a.id]=t[a.id])}r.value.formPerms=e},C=()=>{r.value.error=!F.copyerStr(r.value),y({value:r.value,flag:!0,id:d.value.id}),c()},c=()=>{w(!1)};return(s,e)=>{const t=V,o=k,a=U;return D(),P(a,{"append-to-body":!0,title:"抄送人设置",modelValue:u(m),"onUpdate:modelValue":e[1]||(e[1]=p=>S(m)?m.value=p:m=p),onOpen:g,class:"set_copyer","show-close":!1,size:550,"before-close":C},{default:f(()=>[l(o,{type:"border-card"},{default:f(()=>[l(t,{label:"设置抄送人"},{default:f(()=>[l(x,{orgList:u(r).nodeUserList,"onUpdate:orgList":e[0]||(e[0]=p=>u(r).nodeUserList=p),type:"org",multiple:!0},null,8,["orgList"])]),_:1}),l(t,{label:"表单权限"},{default:f(()=>[l(T,{"hide-key":["E"],"form-perm":u(r).formPerms},null,8,["form-perm"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{ye as default};
