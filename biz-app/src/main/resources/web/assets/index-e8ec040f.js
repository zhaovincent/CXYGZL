import{a as m,c as q,k as z,d as G,r as s,K as T,o as J,a5 as t,w as o,f as n,l as _,a3 as l,P as W,q as X,as as Y,am as Z,a7 as g,an as tt,aD as et}from"./index-d5547550.js";import{v as ot}from"./el-loading-7d43f325.js";import{E as rt}from"./el-card-39a9c0d0.js";import{_ as it}from"./index-bc35b8c7.js";import{E as nt,a as at}from"./el-table-column-ec0cff67.js";/* empty css                    */import"./el-tooltip-4ed993c7.js";import"./el-popper-00977718.js";import"./el-scrollbar-cbe0c54f.js";import{_ as lt,a as mt,b as pt}from"./search-f5308daa.js";import{_ as st}from"./position-9c3f4805.js";import{E as _t}from"./el-tag-de6752b8.js";/* empty css                */import{E as N,a as ct}from"./el-form-item-2de9c3c8.js";import{E as ut,a as dt}from"./el-select-46753b34.js";import{_ as ft}from"./task.vue_vue_type_script_setup_true_lang-7960f136.js";import{r as S,q as gt,d as vt}from"./index-84c4f562.js";import"./isEqual-fe47b28a.js";import"./_Uint8Array-c7447712.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./_baseClone-e7eb389f.js";import"./isArrayLikeObject-724a27ce.js";import"./_overRest-d3d6b67b.js";import"./_baseFlatten-c80c9ba3.js";import"./index-222e6800.js";import"./flatten-36990bb8.js";import"./debounce-e2bc871f.js";import"./index-e8e7f773.js";import"./strings-fbdcd853.js";import"./taskUi-5dcac27c.js";import"./el-drawer-75c80c60.js";import"./use-dialog-27a1e524.js";import"./el-dropdown-item-15a84c23.js";import"./dropdown-b09318e3.js";import"./refs-5fd04da2.js";/* empty css                *//* empty css                  */import"./el-text-a7cd3acd.js";import"./refuse-b0e80fe1.js";import"./getFormWidget-6a62e076.js";import"./Area-836e6083.js";import"./area-23a735cb.js";import"./el-radio-92787871.js";import"./arrays-e667dc24.js";import"./cloneDeep-cfc40afc.js";import"./Date-3e356dbd.js";import"./el-date-picker-2b967550.js";import"./panel-time-pick-ae955f65.js";import"./index-da53d962.js";import"./DateTime-de06f21f.js";import"./Description-41c11d92.js";import"./Empty-e21e601f.js";import"./Input-45ba5ba8.js";import"./Money-ca211554.js";import"./el-input-number-f4eeab94.js";import"./MultiSelect-355b84fc.js";import"./Number-040385fc.js";import"./Score-a0ed8d55.js";import"./el-rate-1b1664df.js";import"./SelectDept-15a8e478.js";import"./selectAndShow.vue_vue_type_script_setup_true_lang-9eafc7ba.js";import"./employeesDialog-54936475.js";/* empty css                  */import"./selectBox-26a3a753.js";import"./selectBox.vue_vue_type_style_index_0_scoped_82c14c6c_lang-f1c14f73.js";import"./index-a7c7b111.js";import"./flow-165b4256.js";import"./const-a11e1fef.js";import"./index-85bc974f.js";import"./selectResult-4abbf083.js";/* empty css                                                                     *//* empty css                                                                        */import"./index-a6355ec2.js";import"./orgItem-a67c9471.js";import"./SelectMultiDept-7fbc4ddc.js";import"./SelectMultiUser-a6f17dc4.js";import"./SelectUser-e4906c1f.js";import"./SingleSelect-915a5a36.js";import"./Textarea-466c5ec6.js";import"./Time-1bed9846.js";import"./el-time-picker-f79f3178.js";import"./UploadFile-b7fa1437.js";import"./el-progress-562499f2.js";import"./index-15f47425.js";import"./UploadImage-478fe7ac.js";import"./MultiUpload-acf0a282.js";import"./plus-bafa12a0.js";import"./agree.vue_vue_type_script_setup_true_lang-cc34ff3e.js";import"./index-8f215b9b.js";import"./refuse.vue_vue_type_script_setup_true_lang-59805c7a.js";import"./reject.vue_vue_type_script_setup_true_lang-721eab06.js";import"./frontJoin.vue_vue_type_script_setup_true_lang-48aa8640.js";import"./backJoin.vue_vue_type_script_setup_true_lang-8b7c2a87.js";import"./FlowNodeFormatData.vue_vue_type_script_setup_true_lang-2be44824.js";import"./el-tab-pane-a6cb13f9.js";import"./el-divider-6edec4d7.js";import"./startFlowUI.vue_vue_type_script_setup_true_lang-ed1e2b40.js";import"./el-row-a594fbeb.js";const ht={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},kt=z("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),yt=[kt];function bt(M,v){return m(),q("svg",ht,yt)}const wt={name:"ep-check",render:bt},Et={class:"app-container"},Ct={class:"search"},go=G({name:"Role",inheritAttrs:!1,__name:"index",setup(M){const v=s(N),p=s(!1),k=s([]),c=s(0),a=T({pageNum:1,pageSize:10}),y=s();T({sort:1,status:1,key:"",name:""});function V(){S(w.value.id).then(i=>{u()})}function u(){p.value=!0,gt(a).then(({data:i})=>{y.value=i.records,c.value=i.total}).finally(()=>{p.value=!1})}function h(){v.value.resetFields(),a.pageNum=1,a.readed=void 0,u()}function D(i){const r=[i||k.value].join(",");if(!r){g.warning("请勾选删除项");return}tt.confirm("确认删除已选中的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{p.value=!0,vt(r).then(()=>{g.success("删除成功"),h()}).finally(()=>p.value=!1)})}const b=s(),w=s();function R(i){w.value=i,b.value.deal(i.uniqueId)}function $(i){const r=[i||k.value].join(",");if(!r){g.warning("请勾选删除项");return}p.value=!0,S(r).then(()=>{g.success("删除成功"),h()}).finally(()=>p.value=!1)}return J(()=>{u()}),(i,r)=>{const E=ut,F=dt,C=ct,L=lt,d=et,I=mt,U=N,f=nt,x=_t,P=st,j=wt,H=pt,Q=at,A=it,K=rt,O=ot;return m(),q("div",Et,[z("div",Ct,[t(U,{ref_key:"queryFormRef",ref:v,model:n(a),inline:!0},{default:o(()=>[t(C,{prop:"keywords",label:"是否已读"},{default:o(()=>[t(F,{clearable:"",modelValue:n(a).readed,"onUpdate:modelValue":r[0]||(r[0]=e=>n(a).readed=e),placeholder:"选择"},{default:o(()=>[(m(),_(E,{key:!0,label:"已读",value:!0})),(m(),_(E,{key:!1,label:"未读",value:!1}))]),_:1},8,["modelValue"])]),_:1}),t(C,null,{default:o(()=>[t(d,{type:"primary",onClick:u},{default:o(()=>[t(L),l("搜索")]),_:1}),t(d,{onClick:h},{default:o(()=>[t(I),l("重置")]),_:1})]),_:1})]),_:1},8,["model"])]),t(K,{shadow:"never"},{default:o(()=>[W((m(),_(Q,{ref:"dataTableRef",data:n(y),"highlight-current-row":"",border:""},{default:o(()=>[t(f,{label:"标题",prop:"title",width:"200"}),t(f,{label:"内容",prop:"dataScope","min-width":"250"},{default:o(e=>[l(X(e.row.content),1)]),_:1}),t(f,{label:"时间",prop:"createTime","min-width":"100"}),t(f,{label:"状态",align:"center",width:"100"},{default:o(e=>[e.row.readed?(m(),_(x,{key:0,type:"success"},{default:o(()=>[l("已读")]),_:1})):(m(),_(x,{key:1,type:"info"},{default:o(()=>[l("未读")]),_:1}))]),_:1}),t(f,{fixed:"right",label:"操作",width:"220"},{default:o(e=>[t(d,{type:"primary",size:"small",link:"",onClick:B=>R(e.row)},{default:o(()=>[t(P),l("处理 ")]),_:2},1032,["onClick"]),t(d,{type:"success",size:"small",link:"",disabled:e.row.readed,onClick:B=>$(e.row.id)},{default:o(()=>[t(j),l("已读 ")]),_:2},1032,["disabled","onClick"]),t(d,{type:"danger",size:"small",link:"",onClick:B=>D(e.row.id)},{default:o(()=>[t(H),l("删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[O,n(p)]]),n(c)>0?(m(),_(A,{key:0,total:n(c),"onUpdate:total":r[1]||(r[1]=e=>Y(c)?c.value=e:null),page:n(a).pageNum,"onUpdate:page":r[2]||(r[2]=e=>n(a).pageNum=e),limit:n(a).pageSize,"onUpdate:limit":r[3]||(r[3]=e=>n(a).pageSize=e),onPagination:u},null,8,["total","page","limit"])):Z("",!0)]),_:1}),t(ft,{ref_key:"taskHandler",ref:b,onTaskSubmitEvent:V},null,512)])}}});export{go as default};
