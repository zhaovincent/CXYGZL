import{d as P,D as y,h as R,r as A,a as o,c as p,a5 as C,w as v,R as f,a6 as V,f as l,l as u,am as d,as as q,k as N,aA as z}from"./index-e01dade3.js";import{E as G}from"./el-time-picker-1aa4e9cb.js";import"./el-scrollbar-f2029ad1.js";import"./el-popper-ee5283d6.js";import{E as J}from"./el-date-picker-b8fb5128.js";import{E as K}from"./el-input-number-182b17d2.js";import"./el-tag-929563f7.js";import{E as Q,a as W}from"./el-select-c154265f.js";import{u as X}from"./flow-2349aa77.js";import{_ as T}from"./selectAndShow.vue_vue_type_script_setup_true_lang-a708354f.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";import"./panel-time-pick-cbec15ad.js";import"./isEqual-47390e81.js";import"./_Uint8Array-aeb50f83.js";import"./index-f7c59abe.js";import"./debounce-bf37b7f7.js";import"./_baseFlatten-6e5398bc.js";import"./isArrayLikeObject-a5301880.js";import"./_overRest-a79e0547.js";import"./flatten-178b99bc.js";import"./index-6b517de5.js";import"./strings-6464b592.js";import"./employeesDialog-3166dde1.js";import"./el-dialog-1471a1af.js";import"./refs-dd65b3fd.js";import"./selectBox-a8819872.js";import"./el-avatar-63a3488d.js";import"./el-checkbox-123bf6dd.js";/* empty css                */import"./index-8f0c79b2.js";import"./index-126d0406.js";import"./selectResult-ca10c7f8.js";import"./orgItem-da1d9713.js";const _={style:{"margin-top":"20px"}},ee={style:{"margin-top":"20px"}},te=P({__name:"condition",props:{condition:{type:Object,default:()=>{}}},setup(e){const k=e;let B=X();const F=y(()=>B.step2),{proxy:H}=R(),g=y(()=>{let m=F.value,n=H.$deepCopy(m.filter(i=>i.type!="MultiSelect"&&i.type!="Description"&&i.type!="SelectMultiUser"&&i.type!="SelectMultiDept"&&i.type!="Layout"&&i.type!="UploadImage"&&i.type!="UploadFile"));return n.push({id:"root",name:"发起人",type:"SelectUser",typeName:"用户"}),n}),a=y(()=>{var m={};for(var n of g.value)m[n.id]=n;return m}),s=y({get(){let m=k.condition.value;return m&&m.length>0?m.map(n=>n.key):void 0},set(m){let i=a.value[k.condition.key].props.options.filter(r=>m.indexOf(r.key)>=0);k.condition.value=i}});let O=A({SelectDept:[{key:"in",name:"属于"},{key:"notin",name:"不属于"}],SelectUser:[{key:"in",name:"属于"},{key:"notin",name:"不属于"}],Input:[{key:"==",name:"等于"},{key:"!=",name:"不等于"},{key:"contain",name:"包含"},{key:"notcontain",name:"不包含"}],Textarea:[{key:"==",name:"等于"},{key:"!=",name:"不等于"},{key:"contain",name:"包含"},{key:"notcontain",name:"不包含"}],Number:[{key:"==",name:"等于"},{key:"!=",name:"不等于"},{key:">",name:"大于"},{key:">=",name:"大于等于"},{key:"<",name:"小于"},{key:"<=",name:"小于等于"}],Date:[{key:"==",name:"等于"},{key:"!=",name:"不等于"},{key:">",name:"大于"},{key:">=",name:"大于等于"},{key:"<",name:"小于"},{key:"<=",name:"小于等于"}],DateTime:[{key:"==",name:"等于"},{key:"!=",name:"不等于"},{key:">",name:"大于"},{key:">=",name:"大于等于"},{key:"<",name:"小于"},{key:"<=",name:"小于等于"}],Time:[{key:"==",name:"等于"},{key:"!=",name:"不等于"},{key:">",name:"大于"},{key:">=",name:"大于等于"},{key:"<",name:"小于"},{key:"<=",name:"小于等于"}],Money:[{key:"==",name:"等于"},{key:"!=",name:"不等于"},{key:">",name:"大于"},{key:">=",name:"大于等于"},{key:"<",name:"小于"},{key:"<=",name:"小于等于"}],SingleSelect:[{key:"in",name:"属于"},{key:"notin",name:"不属于"}]});return(m,n)=>{var D,S,U,b,w,E,L,M,I,Y;const i=Q,r=W,h=z,j=K,x=J,$=G;return o(),p("div",null,[C(r,{modelValue:e.condition.key,"onUpdate:modelValue":n[0]||(n[0]=t=>e.condition.key=t),placeholder:"选择表单",style:{width:"100%"}},{default:v(()=>[(o(!0),p(f,null,V(l(g),t=>(o(),u(i,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),C(r,{modelValue:e.condition.expression,"onUpdate:modelValue":n[1]||(n[1]=t=>e.condition.expression=t),placeholder:"选择关系",style:{width:"100%","margin-top":"20px"}},{default:v(()=>{var t;return[(o(!0),p(f,null,V(l(O)[(t=l(a)[e.condition.key])==null?void 0:t.type],c=>(o(),u(i,{key:c.key,label:c.name,value:c.key},null,8,["label","value"]))),128))]}),_:1},8,["modelValue"]),((D=l(a)[e.condition.key])==null?void 0:D.type)==="Input"||((S=l(a)[e.condition.key])==null?void 0:S.type)==="Textarea"?(o(),u(h,{key:0,modelValue:e.condition.value,"onUpdate:modelValue":n[2]||(n[2]=t=>e.condition.value=t),style:{"margin-top":"20px"},placeholder:"条件值"},null,8,["modelValue"])):d("",!0),((U=l(a)[e.condition.key])==null?void 0:U.type)==="Money"||((b=l(a)[e.condition.key])==null?void 0:b.type)==="Number"?(o(),u(j,{key:1,modelValue:e.condition.value,"onUpdate:modelValue":n[3]||(n[3]=t=>e.condition.value=t),placeholder:"条件值",style:{width:"100%","margin-top":"20px"},"controls-position":"right"},null,8,["modelValue"])):d("",!0),((w=l(a)[e.condition.key])==null?void 0:w.type)==="Date"?(o(),u(x,{key:2,"value-format":"YYYY-MM-DD",type:"date",class:"formDate",modelValue:e.condition.value,"onUpdate:modelValue":n[4]||(n[4]=t=>e.condition.value=t),placeholder:"条件值",style:{width:"100%","margin-top":"20px"}},null,8,["modelValue"])):d("",!0),((E=l(a)[e.condition.key])==null?void 0:E.type)==="Time"?(o(),u($,{key:3,"arrow-control":"","value-format":"HH:mm:ss",class:"formDate",modelValue:e.condition.value,"onUpdate:modelValue":n[5]||(n[5]=t=>e.condition.value=t),placeholder:"条件值",style:{width:"100%","margin-top":"20px"}},null,8,["modelValue"])):d("",!0),((L=l(a)[e.condition.key])==null?void 0:L.type)==="DateTime"?(o(),u(x,{key:4,"value-format":"YYYY-MM-DD HH:mm:ss",type:"datetime",class:"formDate",modelValue:e.condition.value,"onUpdate:modelValue":n[6]||(n[6]=t=>e.condition.value=t),placeholder:"条件值",style:{width:"100%","margin-top":"20px"}},null,8,["modelValue"])):d("",!0),((M=l(a)[e.condition.key])==null?void 0:M.type)==="SingleSelect"?(o(),u(r,{key:5,modelValue:l(s),"onUpdate:modelValue":n[7]||(n[7]=t=>q(s)?s.value=t:null),style:{width:"100%","margin-top":"20px"},multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"请选择值"},{default:v(()=>[(o(!0),p(f,null,V(l(a)[e.condition.key].props.options,t=>(o(),u(i,{key:t.key,label:t.value,value:t.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):d("",!0),N("div",_,[((I=l(a)[e.condition.key])==null?void 0:I.type)==="SelectUser"?(o(),u(T,{key:0,orgList:e.condition.value,"onUpdate:orgList":n[8]||(n[8]=t=>e.condition.value=t),type:"org",multiple:!0},null,8,["orgList"])):d("",!0)]),N("div",ee,[((Y=l(a)[e.condition.key])==null?void 0:Y.type)==="SelectDept"?(o(),u(T,{key:0,orgList:e.condition.value,"onUpdate:orgList":n[9]||(n[9]=t=>e.condition.value=t),type:"dept",multiple:!0},null,8,["orgList"])):d("",!0)])])}}});const Fe=Z(te,[["__scopeId","data-v-3e4c5931"]]);export{Fe as default};
