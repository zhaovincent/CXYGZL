import{a as Og,c as _g,k as ef,av as R_,d as I_,r as Wl,a5 as L_,w as z_,f as B_,as as H_}from"./index-d5547550.js";/* empty css                  */import{s as F_}from"./index-8f215b9b.js";import{E as X_}from"./index-a6355ec2.js";const G_={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},U_=ef("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),Y_=ef("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472l122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888l49.92 39.936l-215.808 269.824l-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072l-.64-.512a32 32 0 0 0-44.8 5.952L185.408 876.992z"},null,-1),V_=[U_,Y_];function W_(b,g){return Og(),_g("svg",G_,V_)}const X1={name:"ep-picture",render:W_};var Kl={exports:{}};(function(b,g){(function(c,p){b.exports=p()})(window,function(){return function(c){var p={};function a(f){if(p[f])return p[f].exports;var s=p[f]={i:f,l:!1,exports:{}};return c[f].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=c,a.c=p,a.d=function(f,s,v){a.o(f,s)||Object.defineProperty(f,s,{enumerable:!0,get:v})},a.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},a.t=function(f,s){if(1&s&&(f=a(f)),8&s||4&s&&typeof f=="object"&&f&&f.__esModule)return f;var v=Object.create(null);if(a.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:f}),2&s&&typeof f!="string")for(var O in f)a.d(v,O,(function(x){return f[x]}).bind(null,O));return v},a.n=function(f){var s=f&&f.__esModule?function(){return f.default}:function(){return f};return a.d(s,"a",s),s},a.o=function(f,s){return Object.prototype.hasOwnProperty.call(f,s)},a.p="",a(a.s=215)}([function(c,p,a){a.d(p,"a",function(){return $}),a.d(p,"b",function(){return ie}),a.d(p,"c",function(){return Ce}),a.d(p,"d",function(){return qe}),a.d(p,"e",function(){return I}),a.d(p,"f",function(){return Q}),a.d(p,"g",function(){return I}),a.d(p,"h",function(){return Pe}),a.d(p,"i",function(){return s}),a.d(p,"j",function(){return $e}),a.d(p,"k",function(){return F});var f,s,v,O,x,j,E,T={},A=[],M=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(Z,K){for(var ae in K)Z[ae]=K[ae];return Z}function R(Z){var K=Z.parentNode;K&&K.removeChild(Z)}function I(Z,K,ae){var _e,ke,we,Ze={};for(we in K)we=="key"?_e=K[we]:we=="ref"?ke=K[we]:Ze[we]=K[we];if(arguments.length>2&&(Ze.children=arguments.length>3?f.call(arguments,2):ae),typeof Z=="function"&&Z.defaultProps!=null)for(we in Z.defaultProps)Ze[we]===void 0&&(Ze[we]=Z.defaultProps[we]);return G(Z,Ze,_e,ke,null)}function G(Z,K,ae,_e,ke){var we={type:Z,props:K,key:ae,ref:_e,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:ke??++v};return ke==null&&s.vnode!=null&&s.vnode(we),we}function Q(){return{current:null}}function ie(Z){return Z.children}function $(Z,K){this.props=Z,this.context=K}function Y(Z,K){if(K==null)return Z.__?Y(Z.__,Z.__.__k.indexOf(Z)+1):null;for(var ae;K<Z.__k.length;K++)if((ae=Z.__k[K])!=null&&ae.__e!=null)return ae.__e;return typeof Z.type=="function"?Y(Z):null}function q(Z){var K,ae;if((Z=Z.__)!=null&&Z.__c!=null){for(Z.__e=Z.__c.base=null,K=0;K<Z.__k.length;K++)if((ae=Z.__k[K])!=null&&ae.__e!=null){Z.__e=Z.__c.base=ae.__e;break}return q(Z)}}function B(Z){(!Z.__d&&(Z.__d=!0)&&O.push(Z)&&!D.__r++||j!==s.debounceRendering)&&((j=s.debounceRendering)||x)(D)}function D(){for(var Z;D.__r=O.length;)Z=O.sort(function(K,ae){return K.__v.__b-ae.__v.__b}),O=[],Z.some(function(K){var ae,_e,ke,we,Ze,nt;K.__d&&(Ze=(we=(ae=K).__v).__e,(nt=ae.__P)&&(_e=[],(ke=N({},we)).__v=we.__v+1,ge(nt,we,ke,ae.__n,nt.ownerSVGElement!==void 0,we.__h!=null?[Ze]:null,_e,Ze??Y(we),we.__h),ue(_e,we),we.__e!=Ze&&q(we)))})}function z(Z,K,ae,_e,ke,we,Ze,nt,Je,Ye){var ve,Fe,ee,Le,ut,vt,it,yt=_e&&_e.__k||A,jt=yt.length;for(ae.__k=[],ve=0;ve<K.length;ve++)if((Le=ae.__k[ve]=(Le=K[ve])==null||typeof Le=="boolean"?null:typeof Le=="string"||typeof Le=="number"||typeof Le=="bigint"?G(null,Le,null,null,Le):Array.isArray(Le)?G(ie,{children:Le},null,null,null):Le.__b>0?G(Le.type,Le.props,Le.key,null,Le.__v):Le)!=null){if(Le.__=ae,Le.__b=ae.__b+1,(ee=yt[ve])===null||ee&&Le.key==ee.key&&Le.type===ee.type)yt[ve]=void 0;else for(Fe=0;Fe<jt;Fe++){if((ee=yt[Fe])&&Le.key==ee.key&&Le.type===ee.type){yt[Fe]=void 0;break}ee=null}ge(Z,Le,ee=ee||T,ke,we,Ze,nt,Je,Ye),ut=Le.__e,(Fe=Le.ref)&&ee.ref!=Fe&&(it||(it=[]),ee.ref&&it.push(ee.ref,null,Le),it.push(Fe,Le.__c||ut,Le)),ut!=null?(vt==null&&(vt=ut),typeof Le.type=="function"&&Le.__k===ee.__k?Le.__d=Je=L(Le,Je,Z):Je=te(Z,Le,ee,yt,ut,Je),typeof ae.type=="function"&&(ae.__d=Je)):Je&&ee.__e==Je&&Je.parentNode!=Z&&(Je=Y(ee))}for(ae.__e=vt,ve=jt;ve--;)yt[ve]!=null&&(typeof ae.type=="function"&&yt[ve].__e!=null&&yt[ve].__e==ae.__d&&(ae.__d=Y(_e,ve+1)),je(yt[ve],yt[ve]));if(it)for(ve=0;ve<it.length;ve++)be(it[ve],it[++ve],it[++ve])}function L(Z,K,ae){for(var _e,ke=Z.__k,we=0;ke&&we<ke.length;we++)(_e=ke[we])&&(_e.__=Z,K=typeof _e.type=="function"?L(_e,K,ae):te(ae,_e,_e,ke,_e.__e,K));return K}function F(Z,K){return K=K||[],Z==null||typeof Z=="boolean"||(Array.isArray(Z)?Z.some(function(ae){F(ae,K)}):K.push(Z)),K}function te(Z,K,ae,_e,ke,we){var Ze,nt,Je;if(K.__d!==void 0)Ze=K.__d,K.__d=void 0;else if(ae==null||ke!=we||ke.parentNode==null)e:if(we==null||we.parentNode!==Z)Z.appendChild(ke),Ze=null;else{for(nt=we,Je=0;(nt=nt.nextSibling)&&Je<_e.length;Je+=2)if(nt==ke)break e;Z.insertBefore(ke,we),Ze=we}return Ze!==void 0?Ze:ke.nextSibling}function fe(Z,K,ae){K[0]==="-"?Z.setProperty(K,ae):Z[K]=ae==null?"":typeof ae!="number"||M.test(K)?ae:ae+"px"}function se(Z,K,ae,_e,ke){var we;e:if(K==="style")if(typeof ae=="string")Z.style.cssText=ae;else{if(typeof _e=="string"&&(Z.style.cssText=_e=""),_e)for(K in _e)ae&&K in ae||fe(Z.style,K,"");if(ae)for(K in ae)_e&&ae[K]===_e[K]||fe(Z.style,K,ae[K])}else if(K[0]==="o"&&K[1]==="n")we=K!==(K=K.replace(/Capture$/,"")),K=K.toLowerCase()in Z?K.toLowerCase().slice(2):K.slice(2),Z.l||(Z.l={}),Z.l[K+we]=ae,ae?_e||Z.addEventListener(K,we?xe:ye,we):Z.removeEventListener(K,we?xe:ye,we);else if(K!=="dangerouslySetInnerHTML"){if(ke)K=K.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(K!=="href"&&K!=="list"&&K!=="form"&&K!=="tabIndex"&&K!=="download"&&K in Z)try{Z[K]=ae??"";break e}catch{}typeof ae=="function"||(ae!=null&&(ae!==!1||K[0]==="a"&&K[1]==="r")?Z.setAttribute(K,ae):Z.removeAttribute(K))}}function ye(Z){this.l[Z.type+!1](s.event?s.event(Z):Z)}function xe(Z){this.l[Z.type+!0](s.event?s.event(Z):Z)}function ge(Z,K,ae,_e,ke,we,Ze,nt,Je){var Ye,ve,Fe,ee,Le,ut,vt,it,yt,jt,Pt,at=K.type;if(K.constructor!==void 0)return null;ae.__h!=null&&(Je=ae.__h,nt=K.__e=ae.__e,K.__h=null,we=[nt]),(Ye=s.__b)&&Ye(K);try{e:if(typeof at=="function"){if(it=K.props,yt=(Ye=at.contextType)&&_e[Ye.__c],jt=Ye?yt?yt.props.value:Ye.__:_e,ae.__c?vt=(ve=K.__c=ae.__c).__=ve.__E:("prototype"in at&&at.prototype.render?K.__c=ve=new at(it,jt):(K.__c=ve=new $(it,jt),ve.constructor=at,ve.render=Ie),yt&&yt.sub(ve),ve.props=it,ve.state||(ve.state={}),ve.context=jt,ve.__n=_e,Fe=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),at.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=N({},ve.__s)),N(ve.__s,at.getDerivedStateFromProps(it,ve.__s))),ee=ve.props,Le=ve.state,Fe)at.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(at.getDerivedStateFromProps==null&&it!==ee&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(it,jt),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(it,ve.__s,jt)===!1||K.__v===ae.__v){ve.props=it,ve.state=ve.__s,K.__v!==ae.__v&&(ve.__d=!1),ve.__v=K,K.__e=ae.__e,K.__k=ae.__k,K.__k.forEach(function(Nt){Nt&&(Nt.__=K)}),ve.__h.length&&Ze.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(it,ve.__s,jt),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(ee,Le,ut)})}ve.context=jt,ve.props=it,ve.state=ve.__s,(Ye=s.__r)&&Ye(K),ve.__d=!1,ve.__v=K,ve.__P=Z,Ye=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(_e=N(N({},_e),ve.getChildContext())),Fe||ve.getSnapshotBeforeUpdate==null||(ut=ve.getSnapshotBeforeUpdate(ee,Le)),Pt=Ye!=null&&Ye.type===ie&&Ye.key==null?Ye.props.children:Ye,z(Z,Array.isArray(Pt)?Pt:[Pt],K,ae,_e,ke,we,Ze,nt,Je),ve.base=K.__e,K.__h=null,ve.__h.length&&Ze.push(ve),vt&&(ve.__E=ve.__=null),ve.__e=!1}else we==null&&K.__v===ae.__v?(K.__k=ae.__k,K.__e=ae.__e):K.__e=he(ae.__e,K,ae,_e,ke,we,Ze,Je);(Ye=s.diffed)&&Ye(K)}catch(Nt){K.__v=null,(Je||we!=null)&&(K.__e=nt,K.__h=!!Je,we[we.indexOf(nt)]=null),s.__e(Nt,K,ae)}}function ue(Z,K){s.__c&&s.__c(K,Z),Z.some(function(ae){try{Z=ae.__h,ae.__h=[],Z.some(function(_e){_e.call(ae)})}catch(_e){s.__e(_e,ae.__v)}})}function he(Z,K,ae,_e,ke,we,Ze,nt){var Je,Ye,ve,Fe=ae.props,ee=K.props,Le=K.type,ut=0;if(Le==="svg"&&(ke=!0),we!=null){for(;ut<we.length;ut++)if((Je=we[ut])&&"setAttribute"in Je==!!Le&&(Le?Je.localName===Le:Je.nodeType===3)){Z=Je,we[ut]=null;break}}if(Z==null){if(Le===null)return document.createTextNode(ee);Z=ke?document.createElementNS("http://www.w3.org/2000/svg",Le):document.createElement(Le,ee.is&&ee),we=null,nt=!1}if(Le===null)Fe===ee||nt&&Z.data===ee||(Z.data=ee);else{if(we=we&&f.call(Z.childNodes),Ye=(Fe=ae.props||T).dangerouslySetInnerHTML,ve=ee.dangerouslySetInnerHTML,!nt){if(we!=null)for(Fe={},ut=0;ut<Z.attributes.length;ut++)Fe[Z.attributes[ut].name]=Z.attributes[ut].value;(ve||Ye)&&(ve&&(Ye&&ve.__html==Ye.__html||ve.__html===Z.innerHTML)||(Z.innerHTML=ve&&ve.__html||""))}if(function(vt,it,yt,jt,Pt){var at;for(at in yt)at==="children"||at==="key"||at in it||se(vt,at,null,yt[at],jt);for(at in it)Pt&&typeof it[at]!="function"||at==="children"||at==="key"||at==="value"||at==="checked"||yt[at]===it[at]||se(vt,at,it[at],yt[at],jt)}(Z,ee,Fe,ke,nt),ve)K.__k=[];else if(ut=K.props.children,z(Z,Array.isArray(ut)?ut:[ut],K,ae,_e,ke&&Le!=="foreignObject",we,Ze,we?we[0]:ae.__k&&Y(ae,0),nt),we!=null)for(ut=we.length;ut--;)we[ut]!=null&&R(we[ut]);nt||("value"in ee&&(ut=ee.value)!==void 0&&(ut!==Fe.value||ut!==Z.value||Le==="progress"&&!ut)&&se(Z,"value",ut,Fe.value,!1),"checked"in ee&&(ut=ee.checked)!==void 0&&ut!==Z.checked&&se(Z,"checked",ut,Fe.checked,!1))}return Z}function be(Z,K,ae){try{typeof Z=="function"?Z(K):Z.current=K}catch(_e){s.__e(_e,ae)}}function je(Z,K,ae){var _e,ke;if(s.unmount&&s.unmount(Z),(_e=Z.ref)&&(_e.current&&_e.current!==Z.__e||be(_e,null,K)),(_e=Z.__c)!=null){if(_e.componentWillUnmount)try{_e.componentWillUnmount()}catch(we){s.__e(we,K)}_e.base=_e.__P=null}if(_e=Z.__k)for(ke=0;ke<_e.length;ke++)_e[ke]&&je(_e[ke],K,typeof Z.type!="function");ae||Z.__e==null||R(Z.__e),Z.__e=Z.__d=void 0}function Ie(Z,K,ae){return this.constructor(Z,ae)}function $e(Z,K,ae){var _e,ke,we;s.__&&s.__(Z,K),ke=(_e=typeof ae=="function")?null:ae&&ae.__k||K.__k,we=[],ge(K,Z=(!_e&&ae||K).__k=I(ie,null,[Z]),ke||T,T,K.ownerSVGElement!==void 0,!_e&&ae?[ae]:ke?null:K.firstChild?f.call(K.childNodes):null,we,!_e&&ae?ae:ke?ke.__e:K.firstChild,_e),ue(we,Z)}function Pe(Z,K){$e(Z,K,Pe)}function Ce(Z,K,ae){var _e,ke,we,Ze=N({},Z.props);for(we in K)we=="key"?_e=K[we]:we=="ref"?ke=K[we]:Ze[we]=K[we];return arguments.length>2&&(Ze.children=arguments.length>3?f.call(arguments,2):ae),G(Z.type,Ze,_e||Z.key,ke||Z.ref,null)}function qe(Z,K){var ae={__c:K="__cC"+E++,__:Z,Consumer:function(_e,ke){return _e.children(ke)},Provider:function(_e){var ke,we;return this.getChildContext||(ke=[],(we={})[K]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function(Ze){this.props.value!==Ze.value&&ke.some(B)},this.sub=function(Ze){ke.push(Ze);var nt=Ze.componentWillUnmount;Ze.componentWillUnmount=function(){ke.splice(ke.indexOf(Ze),1),nt&&nt.call(Ze)}}),_e.children}};return ae.Provider.__=ae.Consumer.contextType=ae}f=A.slice,s={__e:function(Z,K){for(var ae,_e,ke;K=K.__;)if((ae=K.__c)&&!ae.__)try{if((_e=ae.constructor)&&_e.getDerivedStateFromError!=null&&(ae.setState(_e.getDerivedStateFromError(Z)),ke=ae.__d),ae.componentDidCatch!=null&&(ae.componentDidCatch(Z),ke=ae.__d),ke)return ae.__E=ae}catch(we){Z=we}throw Z}},v=0,$.prototype.setState=function(Z,K){var ae;ae=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof Z=="function"&&(Z=Z(N({},ae),this.props)),Z&&N(ae,Z),Z!=null&&this.__v&&(K&&this.__h.push(K),B(this))},$.prototype.forceUpdate=function(Z){this.__v&&(this.__e=!0,Z&&this.__h.push(Z),B(this))},$.prototype.render=ie,O=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,D.__r=0,E=0},function(c,p,a){(function(f,s){a.d(p,"a",function(){return B}),a.d(p,"b",function(){return Yo}),a.d(p,"c",function(){return In}),a.d(p,"d",function(){return et}),a.d(p,"e",function(){return Me}),a.d(p,"f",function(){return De}),a.d(p,"g",function(){return We}),a.d(p,"h",function(){return Ar}),a.d(p,"i",function(){return Pt}),a.d(p,"j",function(){return ze}),a.d(p,"k",function(){return Yn}),a.d(p,"l",function(){return Xo}),a.d(p,"m",function(){return vt}),a.d(p,"n",function(){return Pr}),a.d(p,"o",function(){return L}),a.d(p,"p",function(){return Bi}),a.d(p,"q",function(){return Vn}),a.d(p,"r",function(){return Ii}),a.d(p,"s",function(){return _n}),a.d(p,"t",function(){return Ur}),a.d(p,"u",function(){return ao}),a.d(p,"v",function(){return Nu}),a.d(p,"w",function(){return zi}),a.d(p,"x",function(){return Vr}),a.d(p,"y",function(){return Dn}),a.d(p,"z",function(){return It}),a.d(p,"A",function(){return hn}),a.d(p,"B",function(){return Wn}),a.d(p,"C",function(){return Ye}),a.d(p,"D",function(){return Fi}),a.d(p,"E",function(){return Sr}),a.d(p,"F",function(){return jr}),a.d(p,"G",function(){return Tu}),a.d(p,"H",function(){return ki}),a.d(p,"I",function(){return Ru}),a.d(p,"J",function(){return mn}),a.d(p,"K",function(){return ne}),a.d(p,"L",function(){return Zt}),a.d(p,"M",function(){return Xi});var v=[];Object.freeze(v);var O={};function x(){return++Ge.mobxGuid}function j(h){throw E(!1,h),"X"}function E(h,y){if(!h)throw new Error("[mobx] "+(y||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(O);function T(h){var y=!1;return function(){if(!y)return y=!0,h.apply(this,arguments)}}var A=function(){};function M(h){return h!==null&&typeof h=="object"}function N(h){if(h===null||typeof h!="object")return!1;var y=Object.getPrototypeOf(h);return y===Object.prototype||y===null}function R(h,y,w){Object.defineProperty(h,y,{enumerable:!1,writable:!0,configurable:!0,value:w})}function I(h,y){var w="isMobX"+h;return y.prototype[w]=!0,function(k){return M(k)&&k[w]===!0}}function G(h){return h instanceof Map}function Q(h){return h instanceof Set}function ie(h){var y=new Set;for(var w in h)y.add(w);return Object.getOwnPropertySymbols(h).forEach(function(k){Object.getOwnPropertyDescriptor(h,k).enumerable&&y.add(k)}),Array.from(y)}function $(h){return h&&h.toString?h.toString():new String(h).toString()}function Y(h){return h===null?null:typeof h=="object"?""+h:h}var q=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:Object.getOwnPropertyNames,B=Symbol("mobx administration"),D=function(){function h(y){y===void 0&&(y="Atom@"+x()),this.name=y,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Fe.NOT_TRACKING}return h.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(y){return y()})},h.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(y){return y()})},h.prototype.reportObserved=function(){return Si(this)},h.prototype.reportChanged=function(){vn(),function(y){y.lowestObserverState!==Fe.STALE&&(y.lowestObserverState=Fe.STALE,y.observers.forEach(function(w){w.dependenciesState===Fe.UP_TO_DATE&&(w.isTracing!==ee.NONE&&Un(w,y),w.onBecomeStale()),w.dependenciesState=Fe.STALE}))}(this),bn()},h.prototype.toString=function(){return this.name},h}(),z=I("Atom",D);function L(h,y,w){y===void 0&&(y=A),w===void 0&&(w=A);var k,H=new D(h);return y!==A&&Di("onBecomeObserved",H,y,k),w!==A&&Sr(H,w),H}var F={identity:function(h,y){return h===y},structural:function(h,y){return Wo(h,y)},default:function(h,y){return Object.is(h,y)},shallow:function(h,y){return Wo(h,y,1)}},te=function(h,y){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,k){w.__proto__=k}||function(w,k){for(var H in k)k.hasOwnProperty(H)&&(w[H]=k[H])},te(h,y)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var fe=function(){return fe=Object.assign||function(h){for(var y,w=1,k=arguments.length;w<k;w++)for(var H in y=arguments[w])Object.prototype.hasOwnProperty.call(y,H)&&(h[H]=y[H]);return h},fe.apply(this,arguments)};function se(h){var y=typeof Symbol=="function"&&h[Symbol.iterator],w=0;return y?y.call(h):{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}}}function ye(h,y){var w=typeof Symbol=="function"&&h[Symbol.iterator];if(!w)return h;var k,H,J=w.call(h),pe=[];try{for(;(y===void 0||y-- >0)&&!(k=J.next()).done;)pe.push(k.value)}catch(Se){H={error:Se}}finally{try{k&&!k.done&&(w=J.return)&&w.call(J)}finally{if(H)throw H.error}}return pe}function xe(){for(var h=[],y=0;y<arguments.length;y++)h=h.concat(ye(arguments[y]));return h}var ge=Symbol("mobx did run lazy initializers"),ue=Symbol("mobx pending decorators"),he={},be={};function je(h,y){var w=y?he:be;return w[h]||(w[h]={configurable:!0,enumerable:y,get:function(){return Ie(this),this[h]},set:function(k){Ie(this),this[h]=k}})}function Ie(h){var y,w;if(h[ge]!==!0){var k=h[ue];if(k){R(h,ge,!0);var H=xe(Object.getOwnPropertySymbols(k),Object.keys(k));try{for(var J=se(H),pe=J.next();!pe.done;pe=J.next()){var Se=k[pe.value];Se.propertyCreator(h,Se.prop,Se.descriptor,Se.decoratorTarget,Se.decoratorArguments)}}catch(He){y={error:He}}finally{try{pe&&!pe.done&&(w=J.return)&&w.call(J)}finally{if(y)throw y.error}}}}}function $e(h,y){return function(){var w,k=function(H,J,pe,Se){if(Se===!0)return y(H,J,pe,H,w),null;if(!Object.prototype.hasOwnProperty.call(H,ue)){var He=H[ue];R(H,ue,fe({},He))}return H[ue][J]={prop:J,propertyCreator:y,descriptor:pe,decoratorTarget:H,decoratorArguments:w},je(J,h)};return Pe(arguments)?(w=v,k.apply(null,arguments)):(w=Array.prototype.slice.call(arguments),k)}}function Pe(h){return(h.length===2||h.length===3)&&(typeof h[1]=="string"||typeof h[1]=="symbol")||h.length===4&&h[3]===!0}function Ce(h,y,w){return Vr(h)?h:Array.isArray(h)?Ye.array(h,{name:w}):N(h)?Ye.object(h,void 0,{name:w}):G(h)?Ye.map(h,{name:w}):Q(h)?Ye.set(h,{name:w}):h}function qe(h){return h}function Z(h){E(h);var y=$e(!0,function(k,H,J,pe,Se){var He=J?J.initializer?J.initializer.call(k):J.value:void 0;Kr(k).addObservableProp(H,He,h)}),w=(f!==void 0&&f.env,y);return w.enhancer=h,w}var K={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ae(h){return h==null?K:typeof h=="string"?{name:h,deep:!0,proxy:!0}:h}Object.freeze(K);var _e=Z(Ce),ke=Z(function(h,y,w){return h==null||hn(h)||Dn(h)||It(h)||dn(h)?h:Array.isArray(h)?Ye.array(h,{name:w,deep:!1}):N(h)?Ye.object(h,void 0,{name:w,deep:!1}):G(h)?Ye.map(h,{name:w,deep:!1}):Q(h)?Ye.set(h,{name:w,deep:!1}):j(!1)}),we=Z(qe),Ze=Z(function(h,y,w){return Wo(h,y)?y:h});function nt(h){return h.defaultDecorator?h.defaultDecorator.enhancer:h.deep===!1?qe:Ce}var Je={box:function(h,y){arguments.length>2&&ve("box");var w=ae(y);return new Dt(h,nt(w),w.name,!0,w.equals)},array:function(h,y){arguments.length>2&&ve("array");var w=ae(y);return Uo(h,nt(w),w.name)},map:function(h,y){arguments.length>2&&ve("map");var w=ae(y);return new Yo(h,nt(w),w.name)},set:function(h,y){arguments.length>2&&ve("set");var w=ae(y);return new so(h,nt(w),w.name)},object:function(h,y,w){typeof arguments[1]=="string"&&ve("object");var k=ae(w);if(k.proxy===!1)return Vn({},h,y,k);var H=Mi(k),J=Vn({},void 0,void 0,k),pe=Lu(J);return Ni(pe,h,y,H),pe},ref:we,shallow:ke,deep:_e,struct:Ze},Ye=function(h,y,w){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return _e.apply(null,arguments);if(Vr(h))return h;var k=N(h)?Ye.object(h,y,w):Array.isArray(h)?Ye.array(h,y):G(h)?Ye.map(h,y):Q(h)?Ye.set(h,y):h;if(k!==h)return k;j(!1)};function ve(h){j("Expected one or two arguments to observable."+h+". Did you accidentally try to use observable."+h+" as decorator?")}Object.keys(Je).forEach(function(h){return Ye[h]=Je[h]});var Fe,ee,Le=$e(!1,function(h,y,w,k,H){var J=w.get,pe=w.set,Se=H[0]||{};Kr(h).addComputedProp(h,y,fe({get:J,set:pe,context:h},Se))}),ut=Le({equals:F.structural}),vt=function(h,y,w){if(typeof y=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return Le.apply(null,arguments);var k=typeof y=="object"?y:{};return k.get=h,k.set=typeof y=="function"?y:k.set,k.name=k.name||h.name||"",new Xn(k)};vt.struct=ut,function(h){h[h.NOT_TRACKING=-1]="NOT_TRACKING",h[h.UP_TO_DATE=0]="UP_TO_DATE",h[h.POSSIBLY_STALE=1]="POSSIBLY_STALE",h[h.STALE=2]="STALE"}(Fe||(Fe={})),function(h){h[h.NONE=0]="NONE",h[h.LOG=1]="LOG",h[h.BREAK=2]="BREAK"}(ee||(ee={}));var it=function(h){this.cause=h};function yt(h){return h instanceof it}function jt(h){switch(h.dependenciesState){case Fe.UP_TO_DATE:return!1;case Fe.NOT_TRACKING:case Fe.STALE:return!0;case Fe.POSSIBLY_STALE:for(var y=De(!0),w=V(),k=h.observing,H=k.length,J=0;J<H;J++){var pe=k[J];if(Gn(pe)){if(Ge.disableErrorBoundaries)pe.get();else try{pe.get()}catch{return ce(w),Me(y),!0}if(h.dependenciesState===Fe.STALE)return ce(w),Me(y),!0}}return Ue(h),ce(w),Me(y),!1}}function Pt(){return Ge.trackingDerivation!==null}function at(h){var y=h.observers.size>0;Ge.computationDepth>0&&y&&j(!1),Ge.allowStateChanges||!y&&Ge.enforceActions!=="strict"||j(!1)}function Nt(h,y,w){var k=De(!0);Ue(h),h.newObserving=new Array(h.observing.length+100),h.unboundDepsCount=0,h.runId=++Ge.runId;var H,J=Ge.trackingDerivation;if(Ge.trackingDerivation=h,Ge.disableErrorBoundaries===!0)H=y.call(w);else try{H=y.call(w)}catch(pe){H=new it(pe)}return Ge.trackingDerivation=J,function(pe){for(var Se=pe.observing,He=pe.observing=pe.newObserving,dt=Fe.UP_TO_DATE,ot=0,xt=pe.unboundDepsCount,st=0;st<xt;st++)(Ot=He[st]).diffValue===0&&(Ot.diffValue=1,ot!==st&&(He[ot]=Ot),ot++),Ot.dependenciesState>dt&&(dt=Ot.dependenciesState);for(He.length=ot,pe.newObserving=null,xt=Se.length;xt--;)(Ot=Se[xt]).diffValue===0&&Ei(Ot,pe),Ot.diffValue=0;for(;ot--;){var Ot;(Ot=He[ot]).diffValue===1&&(Ot.diffValue=0,Su(Ot,pe))}dt!==Fe.UP_TO_DATE&&(pe.dependenciesState=dt,pe.onBecomeStale())}(h),Me(k),H}function X(h){var y=h.observing;h.observing=[];for(var w=y.length;w--;)Ei(y[w],h);h.dependenciesState=Fe.NOT_TRACKING}function ne(h){var y=V();try{return h()}finally{ce(y)}}function V(){var h=Ge.trackingDerivation;return Ge.trackingDerivation=null,h}function ce(h){Ge.trackingDerivation=h}function De(h){var y=Ge.allowStateReads;return Ge.allowStateReads=h,y}function Me(h){Ge.allowStateReads=h}function Ue(h){if(h.dependenciesState!==Fe.UP_TO_DATE){h.dependenciesState=Fe.UP_TO_DATE;for(var y=h.observing,w=y.length;w--;)y[w].lowestObserverState=Fe.UP_TO_DATE}}var ft=0,Ft=1,Kt=Object.getOwnPropertyDescriptor(function(){},"name");Kt&&Kt.configurable;function Ct(h,y,w){var k=function(){return Rt(h,y,w||this,arguments)};return k.isMobxAction=!0,k}function Rt(h,y,w,k){var H=ze();try{return y.apply(w,k)}catch(J){throw H.error=J,J}finally{We(H)}}function ze(h,y,w){var k=0,H=V();vn();var J={prevDerivation:H,prevAllowStateChanges:rt(!0),prevAllowStateReads:De(!0),notifySpy:!1,startTime:k,actionId:Ft++,parentActionId:ft};return ft=J.actionId,J}function We(h){ft!==h.actionId&&j("invalid action stack. did you forget to finish an action?"),ft=h.parentActionId,h.error!==void 0&&(Ge.suppressReactionErrors=!0),wt(h.prevAllowStateChanges),Me(h.prevAllowStateReads),bn(),ce(h.prevDerivation),h.notifySpy,Ge.suppressReactionErrors=!1}function et(h,y){var w,k=rt(h);try{w=y()}finally{wt(k)}return w}function rt(h){var y=Ge.allowStateChanges;return Ge.allowStateChanges=h,y}function wt(h){Ge.allowStateChanges=h}var Dt=function(h){function y(w,k,H,J,pe){H===void 0&&(H="ObservableValue@"+x()),pe===void 0&&(pe=F.default);var Se=h.call(this,H)||this;return Se.enhancer=k,Se.name=H,Se.equals=pe,Se.hasUnreportedChange=!1,Se.value=k(w,void 0,H),Se}return function(w,k){function H(){this.constructor=w}te(w,k),w.prototype=k===null?Object.create(k):(H.prototype=k.prototype,new H)}(y,h),y.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},y.prototype.set=function(w){this.value,(w=this.prepareNewValue(w))!==Ge.UNCHANGED&&this.setNewValue(w)},y.prototype.prepareNewValue=function(w){if(at(this),rn(this)){var k=gt(this,{object:this,type:"update",newValue:w});if(!k)return Ge.UNCHANGED;w=k.newValue}return w=this.enhancer(w,this.value,this.name),this.equals(this.value,w)?Ge.UNCHANGED:w},y.prototype.setNewValue=function(w){var k=this.value;this.value=w,this.reportChanged(),On(this)&&$t(this,{type:"update",object:this,newValue:w,oldValue:k})},y.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},y.prototype.intercept=function(w){return lr(this,w)},y.prototype.observe=function(w,k){return k&&w({object:this,type:"update",newValue:this.value,oldValue:void 0}),fr(this,w)},y.prototype.toJSON=function(){return this.get()},y.prototype.toString=function(){return this.name+"["+this.value+"]"},y.prototype.valueOf=function(){return Y(this.get())},y.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},y}(D),ur=I("ObservableValue",Dt),Xn=function(){function h(y){this.dependenciesState=Fe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Fe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+x(),this.value=new it(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ee.NONE,E(y.get,"missing option for computed: get"),this.derivation=y.get,this.name=y.name||"ComputedValue@"+x(),y.set&&(this.setter=Ct(this.name+"-setter",y.set)),this.equals=y.equals||(y.compareStructural||y.struct?F.structural:F.default),this.scope=y.context,this.requiresReaction=!!y.requiresReaction,this.keepAlive=!!y.keepAlive}return h.prototype.onBecomeStale=function(){(function(y){y.lowestObserverState===Fe.UP_TO_DATE&&(y.lowestObserverState=Fe.POSSIBLY_STALE,y.observers.forEach(function(w){w.dependenciesState===Fe.UP_TO_DATE&&(w.dependenciesState=Fe.POSSIBLY_STALE,w.isTracing!==ee.NONE&&Un(w,y),w.onBecomeStale())}))})(this)},h.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(y){return y()})},h.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(y){return y()})},h.prototype.get=function(){this.isComputing&&j("Cycle detected in computation "+this.name+": "+this.derivation),Ge.inBatch!==0||this.observers.size!==0||this.keepAlive?(Si(this),jt(this)&&this.trackAndCompute()&&function(w){w.lowestObserverState!==Fe.STALE&&(w.lowestObserverState=Fe.STALE,w.observers.forEach(function(k){k.dependenciesState===Fe.POSSIBLY_STALE?k.dependenciesState=Fe.STALE:k.dependenciesState===Fe.UP_TO_DATE&&(w.lowestObserverState=Fe.UP_TO_DATE)}))}(this)):jt(this)&&(this.warnAboutUntrackedRead(),vn(),this.value=this.computeValue(!1),bn());var y=this.value;if(yt(y))throw y.cause;return y},h.prototype.peek=function(){var y=this.computeValue(!1);if(yt(y))throw y.cause;return y},h.prototype.set=function(y){if(this.setter){E(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,y)}finally{this.isRunningSetter=!1}}else E(!1,!1)},h.prototype.trackAndCompute=function(){var y=this.value,w=this.dependenciesState===Fe.NOT_TRACKING,k=this.computeValue(!0),H=w||yt(y)||yt(k)||!this.equals(y,k);return H&&(this.value=k),H},h.prototype.computeValue=function(y){var w;if(this.isComputing=!0,Ge.computationDepth++,y)w=Nt(this,this.derivation,this.scope);else if(Ge.disableErrorBoundaries===!0)w=this.derivation.call(this.scope);else try{w=this.derivation.call(this.scope)}catch(k){w=new it(k)}return Ge.computationDepth--,this.isComputing=!1,w},h.prototype.suspend=function(){this.keepAlive||(X(this),this.value=void 0)},h.prototype.observe=function(y,w){var k=this,H=!0,J=void 0;return Xo(function(){var pe=k.get();if(!H||w){var Se=V();y({type:"update",object:k,newValue:pe,oldValue:J}),ce(Se)}H=!1,J=pe})},h.prototype.warnAboutUntrackedRead=function(){},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},h.prototype.valueOf=function(){return Y(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(),Gn=I("ComputedValue",Xn),Gr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ju={};function Bo(){return typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:ju}var Pn=!0,xi=!1,Ge=function(){var h=Bo();return h.__mobxInstanceCount>0&&!h.__mobxGlobals&&(Pn=!1),h.__mobxGlobals&&h.__mobxGlobals.version!==new Gr().version&&(Pn=!1),Pn?h.__mobxGlobals?(h.__mobxInstanceCount+=1,h.__mobxGlobals.UNCHANGED||(h.__mobxGlobals.UNCHANGED={}),h.__mobxGlobals):(h.__mobxInstanceCount=1,h.__mobxGlobals=new Gr):(setTimeout(function(){xi||j("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Gr)}();function Su(h,y){h.observers.add(y),h.lowestObserverState>y.dependenciesState&&(h.lowestObserverState=y.dependenciesState)}function Ei(h,y){h.observers.delete(y),h.observers.size===0&&ji(h)}function ji(h){h.isPendingUnobservation===!1&&(h.isPendingUnobservation=!0,Ge.pendingUnobservations.push(h))}function vn(){Ge.inBatch++}function bn(){if(--Ge.inBatch==0){Pi();for(var h=Ge.pendingUnobservations,y=0;y<h.length;y++){var w=h[y];w.isPendingUnobservation=!1,w.observers.size===0&&(w.isBeingObserved&&(w.isBeingObserved=!1,w.onBecomeUnobserved()),w instanceof Xn&&w.suspend())}Ge.pendingUnobservations=[]}}function Si(h){var y=Ge.trackingDerivation;return y!==null?(y.runId!==h.lastAccessedBy&&(h.lastAccessedBy=y.runId,y.newObserving[y.unboundDepsCount++]=h,h.isBeingObserved||(h.isBeingObserved=!0,h.onBecomeObserved())),!0):(h.observers.size===0&&Ge.inBatch>0&&ji(h),!1)}function Un(h,y){if(h.isTracing===ee.BREAK){var w=[];Er(Ur(h),w,1),new Function(`debugger;
/*
Tracing '`+h.name+`'

You are entering this break point because derivation '`+h.name+"' is being traced and '"+y.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(h instanceof Xn?h.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+w.join(`
`)+`
*/
    `)()}}function Er(h,y,w){y.length>=1e3?y.push("(and many more)"):(y.push(""+new Array(w).join("	")+h.name),h.dependencies&&h.dependencies.forEach(function(k){return Er(k,y,w+1)}))}var In=function(){function h(y,w,k,H){y===void 0&&(y="Reaction@"+x()),H===void 0&&(H=!1),this.name=y,this.onInvalidate=w,this.errorHandler=k,this.requiresObservable=H,this.observing=[],this.newObserving=[],this.dependenciesState=Fe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+x(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ee.NONE}return h.prototype.onBecomeStale=function(){this.schedule()},h.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ge.pendingReactions.push(this),Pi())},h.prototype.isScheduled=function(){return this._isScheduled},h.prototype.runReaction=function(){if(!this.isDisposed){if(vn(),this._isScheduled=!1,jt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(y){this.reportExceptionInDerivation(y)}}bn()}},h.prototype.track=function(y){if(!this.isDisposed){vn(),this._isRunning=!0;var w=Nt(this,y,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&X(this),yt(w)&&this.reportExceptionInDerivation(w.cause),bn()}},h.prototype.reportExceptionInDerivation=function(y){var w=this;if(this.errorHandler)this.errorHandler(y,this);else{if(Ge.disableErrorBoundaries)throw y;Ge.suppressReactionErrors,Ge.globalReactionErrorHandlers.forEach(function(k){return k(y,w)})}},h.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(vn(),X(this),bn()))},h.prototype.getDisposer=function(){var y=this.dispose.bind(this);return y[B]=this,y},h.prototype.toString=function(){return"Reaction["+this.name+"]"},h.prototype.trace=function(y){y===void 0&&(y=!1),function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];var H=!1;typeof w[w.length-1]=="boolean"&&(H=w.pop());var J=An(w);if(!J)return j(!1);J.isTracing,ee.NONE,J.isTracing=H?ee.BREAK:ee.LOG}(this,y)},h}(),Ho=function(h){return h()};function Pi(){Ge.inBatch>0||Ge.isRunningReactions||Ho(Pu)}function Pu(){Ge.isRunningReactions=!0;for(var h=Ge.pendingReactions,y=0;h.length>0;){++y==100&&h.splice(0);for(var w=h.splice(0),k=0,H=w.length;k<H;k++)w[k].runReaction()}Ge.isRunningReactions=!1}var io=I("Reaction",In);function ku(h){var y=Ho;Ho=function(w){return h(function(){return y(w)})}}function ki(h){return function(){}}function Au(){j(!1)}function cr(h){return function(y,w,k){if(k){if(k.value)return{value:Ct(h,k.value),enumerable:!1,configurable:!0,writable:!0};var H=k.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Ct(h,H.call(this))}}}return Ai(h).apply(this,arguments)}}function Ai(h){return function(y,w,k){Object.defineProperty(y,w,{configurable:!0,enumerable:!1,get:function(){},set:function(H){R(this,w,Yn(h,H))}})}}var Yn=function(h,y,w,k){return arguments.length===1&&typeof h=="function"?Ct(h.name||"<unnamed action>",h):arguments.length===2&&typeof y=="function"?Ct(h,y):arguments.length===1&&typeof h=="string"?cr(h):k!==!0?cr(y).apply(null,arguments):void R(h,y,Ct(h.name||y,w.value,this))};function Tu(h,y){return Rt(typeof h=="string"?h:h.name||"<unnamed action>",typeof h=="function"?h:y,this,void 0)}function ao(h){return typeof h=="function"&&h.isMobxAction===!0}function Fo(h,y,w){R(h,y,Ct(y,w.bind(h)))}function Xo(h,y){y===void 0&&(y=O);var w,k=y&&y.name||h.name||"Autorun@"+x();if(!y.scheduler&&!y.delay)w=new In(k,function(){this.track(pe)},y.onError,y.requiresObservable);else{var H=Ti(y),J=!1;w=new In(k,function(){J||(J=!0,H(function(){J=!1,w.isDisposed||w.track(pe)}))},y.onError,y.requiresObservable)}function pe(){h(w)}return w.schedule(),w.getDisposer()}Yn.bound=function(h,y,w,k){return k===!0?(Fo(h,y,w.value),null):w?{configurable:!0,enumerable:!1,get:function(){return Fo(this,y,w.value||w.initializer.call(this)),this[y]},set:Au}:{enumerable:!1,configurable:!0,set:function(H){Fo(this,y,H)},get:function(){}}};var Du=function(h){return h()};function Ti(h){return h.scheduler?h.scheduler:h.delay?function(y){return setTimeout(y,h.delay)}:Du}function jr(h,y,w){w===void 0&&(w=O);var k,H,J,pe=w.name||"Reaction@"+x(),Se=Yn(pe,w.onError?(k=w.onError,H=y,function(){try{return H.apply(this,arguments)}catch(At){k.call(this,At)}}):y),He=!w.scheduler&&!w.delay,dt=Ti(w),ot=!0,xt=!1,st=w.compareStructural?F.structural:w.equals||F.default,Ot=new In(pe,function(){ot||He?wn():xt||(xt=!0,dt(wn))},w.onError,w.requiresObservable);function wn(){if(xt=!1,!Ot.isDisposed){var At=!1;Ot.track(function(){var on=h(Ot);At=ot||!st(J,on),J=on}),ot&&w.fireImmediately&&Se(J,Ot),ot||At!==!0||Se(J,Ot),ot&&(ot=!1)}}return Ot.schedule(),Ot.getDisposer()}function Sr(h,y,w){return Di("onBecomeUnobserved",h,y,w)}function Di(h,y,w,k){var H=typeof k=="function"?_n(y,w):_n(y),J=typeof k=="function"?k:w,pe=h+"Listeners";return H[pe]?H[pe].add(J):H[pe]=new Set([J]),typeof H[h]!="function"?j(!1):function(){var Se=H[pe];Se&&(Se.delete(J),Se.size===0&&delete H[pe])}}function Pr(h){var y=h.enforceActions,w=h.computedRequiresReaction,k=h.computedConfigurable,H=h.disableErrorBoundaries,J=h.reactionScheduler,pe=h.reactionRequiresObservable,Se=h.observableRequiresReaction;if(h.isolateGlobalState===!0&&((Ge.pendingReactions.length||Ge.inBatch||Ge.isRunningReactions)&&j("isolateGlobalState should be called before MobX is running any reactions"),xi=!0,Pn&&(--Bo().__mobxInstanceCount==0&&(Bo().__mobxGlobals=void 0),Ge=new Gr)),y!==void 0){var He=void 0;switch(y){case!0:case"observed":He=!0;break;case!1:case"never":He=!1;break;case"strict":case"always":He="strict";break;default:j("Invalid value for 'enforceActions': '"+y+"', expected 'never', 'always' or 'observed'")}Ge.enforceActions=He,Ge.allowStateChanges=He!==!0&&He!=="strict"}w!==void 0&&(Ge.computedRequiresReaction=!!w),pe!==void 0&&(Ge.reactionRequiresObservable=!!pe),Se!==void 0&&(Ge.observableRequiresReaction=!!Se,Ge.allowStateReads=!Ge.observableRequiresReaction),k!==void 0&&(Ge.computedConfigurable=!!k),H!==void 0&&(Ge.disableErrorBoundaries=!!H),J&&ku(J)}function Vn(h,y,w,k){var H=Mi(k=ae(k));return Ie(h),Kr(h,k.name,H.enhancer),y&&Ni(h,y,w,H),h}function Mi(h){return h.defaultDecorator||(h.deep===!1?we:_e)}function Ni(h,y,w,k){var H,J;vn();try{var pe=q(y);try{for(var Se=se(pe),He=Se.next();!He.done;He=Se.next()){var dt=He.value,ot=Object.getOwnPropertyDescriptor(y,dt),xt=(w&&dt in w?w[dt]:ot.get?Le:k)(h,dt,ot,!0);xt&&Object.defineProperty(h,dt,xt)}}catch(st){H={error:st}}finally{try{He&&!He.done&&(J=Se.return)&&J.call(Se)}finally{if(H)throw H.error}}}finally{bn()}}function Ur(h,y){return Ci(_n(h,y))}function Ci(h){var y,w,k={name:h.name};return h.observing&&h.observing.length>0&&(k.dependencies=(y=h.observing,w=[],y.forEach(function(H){w.indexOf(H)===-1&&w.push(H)}),w).map(Ci)),k}var Mu=0;function Ri(){this.message="FLOW_CANCELLED"}function Ii(h){arguments.length!==1&&j("Flow expects 1 argument and cannot be used as decorator");var y=h.name||"<unnamed flow>";return function(){var w,k=this,H=arguments,J=++Mu,pe=Yn(y+" - runid: "+J+" - init",h).apply(k,H),Se=void 0,He=new Promise(function(dt,ot){var xt=0;function st(At){var on;Se=void 0;try{on=Yn(y+" - runid: "+J+" - yield "+xt++,pe.next).call(pe,At)}catch($r){return ot($r)}wn(on)}function Ot(At){var on;Se=void 0;try{on=Yn(y+" - runid: "+J+" - yield "+xt++,pe.throw).call(pe,At)}catch($r){return ot($r)}wn(on)}function wn(At){if(!At||typeof At.then!="function")return At.done?dt(At.value):(Se=Promise.resolve(At.value)).then(st,Ot);At.then(wn,ot)}w=ot,st(void 0)});return He.cancel=Yn(y+" - runid: "+J+" - cancel",function(){try{Se&&Yr(Se);var dt=pe.return(void 0),ot=Promise.resolve(dt.value);ot.then(A,A),Yr(ot),w(new Ri)}catch(xt){w(xt)}}),He}}function Yr(h){typeof h.cancel=="function"&&h.cancel()}function Li(h,y){if(h==null)return!1;if(y!==void 0){if(hn(h)===!1||!h[B].values.has(y))return!1;var w=_n(h,y);return Gn(w)}return Gn(h)}function Nu(h){return arguments.length>1?j(!1):Li(h)}function zi(h,y){return typeof y!="string"?j(!1):Li(h,y)}function Go(h,y){return h!=null&&(y!==void 0?!!hn(h)&&h[B].values.has(y):hn(h)||!!h[B]||z(h)||io(h)||Gn(h))}function Vr(h){return arguments.length!==1&&j(!1),Go(h)}function Wn(h){return hn(h)?h[B].getKeys():It(h)||dn(h)?Array.from(h.keys()):Dn(h)?h.map(function(y,w){return w}):j(!1)}function Zt(h){return hn(h)?Wn(h).map(function(y){return h[y]}):It(h)?Wn(h).map(function(y){return h.get(y)}):dn(h)?Array.from(h.values()):Dn(h)?h.slice():j(!1)}function Bi(h){return hn(h)?Wn(h).map(function(y){return[y,h[y]]}):It(h)?Wn(h).map(function(y){return[y,h.get(y)]}):dn(h)?Array.from(h.entries()):Dn(h)?h.map(function(y,w){return[w,y]}):j(!1)}function Hi(h,y,w){if(arguments.length!==2||dn(h))if(hn(h)){var k=h[B],H=k.values.get(y);H?k.write(y,w):k.addObservableProp(y,w,k.defaultEnhancer)}else if(It(h))h.set(y,w);else if(dn(h))h.add(y);else{if(!Dn(h))return j(!1);typeof y!="number"&&(y=parseInt(y,10)),E(y>=0,"Not a valid index: '"+y+"'"),vn(),y>=h.length&&(h.length=y+1),h[y]=w,bn()}else{vn();var J=y;try{for(var pe in J)Hi(h,pe,J[pe])}finally{bn()}}}function Fi(h,y,w,k){return typeof w=="function"?function(H,J,pe,Se){return Ar(H,J).observe(pe,Se)}(h,y,w,k):function(H,J,pe){return Ar(H).observe(J,pe)}(h,y,w)}Ri.prototype=Object.create(Error.prototype);var Cu={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function sr(h,y,w,k){return k.detectCycles&&h.set(y,w),w}function kn(h,y,w){if(!y.recurseEverything&&!Vr(h)||typeof h!="object")return h;if(h===null)return null;if(h instanceof Date)return h;if(ur(h))return kn(h.get(),y,w);if(Vr(h)&&Wn(h),y.detectCycles===!0&&h!==null&&w.has(h))return w.get(h);if(Dn(h)||Array.isArray(h)){var k=sr(w,h,[],y),H=h.map(function(st){return kn(st,y,w)});k.length=H.length;for(var J=0,pe=H.length;J<pe;J++)k[J]=H[J];return k}if(dn(h)||Object.getPrototypeOf(h)===Set.prototype){if(y.exportMapsAsObjects===!1){var Se=sr(w,h,new Set,y);return h.forEach(function(st){Se.add(kn(st,y,w))}),Se}var He=sr(w,h,[],y);return h.forEach(function(st){He.push(kn(st,y,w))}),He}if(It(h)||Object.getPrototypeOf(h)===Map.prototype){if(y.exportMapsAsObjects===!1){var dt=sr(w,h,new Map,y);return h.forEach(function(st,Ot){dt.set(Ot,kn(st,y,w))}),dt}var ot=sr(w,h,{},y);return h.forEach(function(st,Ot){ot[Ot]=kn(st,y,w)}),ot}var xt=sr(w,h,{},y);return ie(h).forEach(function(st){xt[st]=kn(h[st],y,w)}),xt}function Ru(h,y){var w;return typeof y=="boolean"&&(y={detectCycles:y}),y||(y=Cu),y.detectCycles=y.detectCycles===void 0?y.recurseEverything===!0:y.detectCycles===!0,y.detectCycles&&(w=new Map),kn(h,y,w)}function An(h){switch(h.length){case 0:return Ge.trackingDerivation;case 1:return _n(h[0]);case 2:return _n(h[0],h[1])}}function mn(h,y){y===void 0&&(y=void 0),vn();try{return h.apply(y)}finally{bn()}}function Xi(h,y,w){return arguments.length===1||y&&typeof y=="object"?Iu(h,y):Gi(h,y,w||{})}function Gi(h,y,w){var k;typeof w.timeout=="number"&&(k=setTimeout(function(){if(!J[B].isDisposed){J();var pe=new Error("WHEN_TIMEOUT");if(!w.onError)throw pe;w.onError(pe)}},w.timeout)),w.name=w.name||"When@"+x();var H=Ct(w.name+"-effect",y),J=Xo(function(pe){h()&&(pe.dispose(),k&&clearTimeout(k),H())},w);return J}function Iu(h,y){var w,k=new Promise(function(H,J){var pe=Gi(h,H,fe(fe({},y),{onError:J}));w=function(){pe(),J("WHEN_CANCELLED")}});return k.cancel=w,k}function uo(h){return h[B]}function Kn(h){return typeof h=="string"||typeof h=="number"||typeof h=="symbol"}var Wr={has:function(h,y){if(y===B||y==="constructor"||y===ge)return!0;var w=uo(h);return Kn(y)?w.has(y):y in h},get:function(h,y){if(y===B||y==="constructor"||y===ge)return h[y];var w=uo(h),k=w.values.get(y);if(k instanceof D){var H=k.get();return H===void 0&&w.has(y),H}return Kn(y)&&w.has(y),h[y]},set:function(h,y,w){return!!Kn(y)&&(Hi(h,y,w),!0)},deleteProperty:function(h,y){return!!Kn(y)&&(uo(h).remove(y),!0)},ownKeys:function(h){return uo(h).keysAtom.reportObserved(),Reflect.ownKeys(h)},preventExtensions:function(h){return j("Dynamic observable objects cannot be frozen"),!1}};function Lu(h){var y=new Proxy(h,Wr);return h[B].proxy=y,y}function rn(h){return h.interceptors!==void 0&&h.interceptors.length>0}function lr(h,y){var w=h.interceptors||(h.interceptors=[]);return w.push(y),T(function(){var k=w.indexOf(y);k!==-1&&w.splice(k,1)})}function gt(h,y){var w=V();try{for(var k=xe(h.interceptors||[]),H=0,J=k.length;H<J&&(E(!(y=k[H](y))||y.type,"Intercept handlers should return nothing or a change object"),y);H++);return y}finally{ce(w)}}function On(h){return h.changeListeners!==void 0&&h.changeListeners.length>0}function fr(h,y){var w=h.changeListeners||(h.changeListeners=[]);return w.push(y),T(function(){var k=w.indexOf(y);k!==-1&&w.splice(k,1)})}function $t(h,y){var w=V(),k=h.changeListeners;if(k){for(var H=0,J=(k=k.slice()).length;H<J;H++)k[H](y);ce(w)}}var Ui={get:function(h,y){return y===B?h[B]:y==="length"?h[B].getArrayLength():typeof y=="number"?Tn.get.call(h,y):typeof y!="string"||isNaN(y)?Tn.hasOwnProperty(y)?Tn[y]:h[y]:Tn.get.call(h,parseInt(y))},set:function(h,y,w){return y==="length"&&h[B].setArrayLength(w),typeof y=="number"&&Tn.set.call(h,y,w),typeof y=="symbol"||isNaN(y)?h[y]=w:Tn.set.call(h,parseInt(y),w),!0},preventExtensions:function(h){return j("Observable arrays cannot be frozen"),!1}};function Uo(h,y,w,k){w===void 0&&(w="ObservableArray@"+x()),k===void 0&&(k=!1);var H,J,pe,Se=new Yi(w,y,k);H=Se.values,J=B,pe=Se,Object.defineProperty(H,J,{enumerable:!1,writable:!1,configurable:!0,value:pe});var He=new Proxy(Se.values,Ui);if(Se.proxy=He,h&&h.length){var dt=rt(!0);Se.spliceWithArray(0,0,h),wt(dt)}return He}var Yi=function(){function h(y,w,k){this.owned=k,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new D(y||"ObservableArray@"+x()),this.enhancer=function(H,J){return w(H,J,y+"[..]")}}return h.prototype.dehanceValue=function(y){return this.dehancer!==void 0?this.dehancer(y):y},h.prototype.dehanceValues=function(y){return this.dehancer!==void 0&&y.length>0?y.map(this.dehancer):y},h.prototype.intercept=function(y){return lr(this,y)},h.prototype.observe=function(y,w){return w===void 0&&(w=!1),w&&y({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),fr(this,y)},h.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},h.prototype.setArrayLength=function(y){if(typeof y!="number"||y<0)throw new Error("[mobx.array] Out of range: "+y);var w=this.values.length;if(y!==w)if(y>w){for(var k=new Array(y-w),H=0;H<y-w;H++)k[H]=void 0;this.spliceWithArray(w,0,k)}else this.spliceWithArray(y,w-y)},h.prototype.updateArrayLength=function(y,w){if(y!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=w},h.prototype.spliceWithArray=function(y,w,k){var H=this;at(this.atom);var J=this.values.length;if(y===void 0?y=0:y>J?y=J:y<0&&(y=Math.max(0,J+y)),w=arguments.length===1?J-y:w==null?0:Math.max(0,Math.min(w,J-y)),k===void 0&&(k=v),rn(this)){var pe=gt(this,{object:this.proxy,type:"splice",index:y,removedCount:w,added:k});if(!pe)return v;w=pe.removedCount,k=pe.added}k=k.length===0?k:k.map(function(He){return H.enhancer(He,void 0)});var Se=this.spliceItemsIntoValues(y,w,k);return w===0&&k.length===0||this.notifyArraySplice(y,k,Se),this.dehanceValues(Se)},h.prototype.spliceItemsIntoValues=function(y,w,k){var H;if(k.length<1e4)return(H=this.values).splice.apply(H,xe([y,w],k));var J=this.values.slice(y,y+w);return this.values=this.values.slice(0,y).concat(k,this.values.slice(y+w)),J},h.prototype.notifyArrayChildUpdate=function(y,w,k){var H=!this.owned&&!1,J=On(this),pe=J||H?{object:this.proxy,type:"update",index:y,newValue:w,oldValue:k}:null;this.atom.reportChanged(),J&&$t(this,pe)},h.prototype.notifyArraySplice=function(y,w,k){var H=!this.owned&&!1,J=On(this),pe=J||H?{object:this.proxy,type:"splice",index:y,removed:k,added:w,removedCount:k.length,addedCount:w.length}:null;this.atom.reportChanged(),J&&$t(this,pe)},h}(),Tn={intercept:function(h){return this[B].intercept(h)},observe:function(h,y){return y===void 0&&(y=!1),this[B].observe(h,y)},clear:function(){return this.splice(0)},replace:function(h){var y=this[B];return y.spliceWithArray(0,y.values.length,h)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(h,y){for(var w=[],k=2;k<arguments.length;k++)w[k-2]=arguments[k];var H=this[B];switch(arguments.length){case 0:return[];case 1:return H.spliceWithArray(h);case 2:return H.spliceWithArray(h,y)}return H.spliceWithArray(h,y,w)},spliceWithArray:function(h,y,w){return this[B].spliceWithArray(h,y,w)},push:function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];var w=this[B];return w.spliceWithArray(w.values.length,0,h),w.values.length},pop:function(){return this.splice(Math.max(this[B].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];var w=this[B];return w.spliceWithArray(0,0,h),w.values.length},reverse:function(){var h=this.slice();return h.reverse.apply(h,arguments)},sort:function(h){var y=this.slice();return y.sort.apply(y,arguments)},remove:function(h){var y=this[B],w=y.dehanceValues(y.values).indexOf(h);return w>-1&&(this.splice(w,1),!0)},get:function(h){var y=this[B];if(y&&h<y.values.length)return y.atom.reportObserved(),y.dehanceValue(y.values[h])},set:function(h,y){var w=this[B],k=w.values;if(h<k.length){at(w.atom);var H=k[h];if(rn(w)){var J=gt(w,{type:"update",object:w.proxy,index:h,newValue:y});if(!J)return;y=J.newValue}(y=w.enhancer(y,H))!==H&&(k[h]=y,w.notifyArrayChildUpdate(h,y,H))}else{if(h!==k.length)throw new Error("[mobx.array] Index out of bounds, "+h+" is larger than "+k.length);w.spliceWithArray(h,0,[y])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(h){typeof Array.prototype[h]=="function"&&(Tn[h]=function(){var y=this[B];y.atom.reportObserved();var w=y.dehanceValues(y.values);return w[h].apply(w,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(h){typeof Array.prototype[h]=="function"&&(Tn[h]=function(y,w){var k=this,H=this[B];return H.atom.reportObserved(),H.dehanceValues(H.values)[h](function(J,pe){return y.call(w,J,pe,k)},w)})}),["reduce","reduceRight"].forEach(function(h){Tn[h]=function(){var y=this,w=this[B];w.atom.reportObserved();var k=arguments[0];return arguments[0]=function(H,J,pe){return J=w.dehanceValue(J),k(H,J,pe,y)},w.values[h].apply(w.values,arguments)}});var Vi,co=I("ObservableArrayAdministration",Yi);function Dn(h){return M(h)&&co(h[B])}var Wi,zu={},Yo=function(){function h(y,w,k){if(w===void 0&&(w=Ce),k===void 0&&(k="ObservableMap@"+x()),this.enhancer=w,this.name=k,this[Vi]=zu,this._keysAtom=L(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(y)}return h.prototype._has=function(y){return this._data.has(y)},h.prototype.has=function(y){var w=this;if(!Ge.trackingDerivation)return this._has(y);var k=this._hasMap.get(y);if(!k){var H=k=new Dt(this._has(y),qe,this.name+"."+$(y)+"?",!1);this._hasMap.set(y,H),Sr(H,function(){return w._hasMap.delete(y)})}return k.get()},h.prototype.set=function(y,w){var k=this._has(y);if(rn(this)){var H=gt(this,{type:k?"update":"add",object:this,newValue:w,name:y});if(!H)return this;w=H.newValue}return k?this._updateValue(y,w):this._addValue(y,w),this},h.prototype.delete=function(y){var w=this;if(at(this._keysAtom),rn(this)&&!(H=gt(this,{type:"delete",object:this,name:y})))return!1;if(this._has(y)){var k=On(this),H=k?{type:"delete",object:this,oldValue:this._data.get(y).value,name:y}:null;return mn(function(){w._keysAtom.reportChanged(),w._updateHasMapEntry(y,!1),w._data.get(y).setNewValue(void 0),w._data.delete(y)}),k&&$t(this,H),!0}return!1},h.prototype._updateHasMapEntry=function(y,w){var k=this._hasMap.get(y);k&&k.setNewValue(w)},h.prototype._updateValue=function(y,w){var k=this._data.get(y);if((w=k.prepareNewValue(w))!==Ge.UNCHANGED){var H=On(this),J=H?{type:"update",object:this,oldValue:k.value,name:y,newValue:w}:null;k.setNewValue(w),H&&$t(this,J)}},h.prototype._addValue=function(y,w){var k=this;at(this._keysAtom),mn(function(){var pe=new Dt(w,k.enhancer,k.name+"."+$(y),!1);k._data.set(y,pe),w=pe.value,k._updateHasMapEntry(y,!0),k._keysAtom.reportChanged()});var H=On(this),J=H?{type:"add",object:this,name:y,newValue:w}:null;H&&$t(this,J)},h.prototype.get=function(y){return this.has(y)?this.dehanceValue(this._data.get(y).get()):this.dehanceValue(void 0)},h.prototype.dehanceValue=function(y){return this.dehancer!==void 0?this.dehancer(y):y},h.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},h.prototype.values=function(){var y=this,w=this.keys();return ho({next:function(){var k=w.next(),H=k.done,J=k.value;return{done:H,value:H?void 0:y.get(J)}}})},h.prototype.entries=function(){var y=this,w=this.keys();return ho({next:function(){var k=w.next(),H=k.done,J=k.value;return{done:H,value:H?void 0:[J,y.get(J)]}}})},h.prototype[Vi=B,Symbol.iterator]=function(){return this.entries()},h.prototype.forEach=function(y,w){var k,H;try{for(var J=se(this),pe=J.next();!pe.done;pe=J.next()){var Se=ye(pe.value,2),He=Se[0],dt=Se[1];y.call(w,dt,He,this)}}catch(ot){k={error:ot}}finally{try{pe&&!pe.done&&(H=J.return)&&H.call(J)}finally{if(k)throw k.error}}},h.prototype.merge=function(y){var w=this;return It(y)&&(y=y.toJS()),mn(function(){var k=rt(!0);try{N(y)?ie(y).forEach(function(H){return w.set(H,y[H])}):Array.isArray(y)?y.forEach(function(H){var J=ye(H,2),pe=J[0],Se=J[1];return w.set(pe,Se)}):G(y)?(y.constructor!==Map&&j("Cannot initialize from classes that inherit from Map: "+y.constructor.name),y.forEach(function(H,J){return w.set(J,H)})):y!=null&&j("Cannot initialize map from "+y)}finally{wt(k)}}),this},h.prototype.clear=function(){var y=this;mn(function(){ne(function(){var w,k;try{for(var H=se(y.keys()),J=H.next();!J.done;J=H.next()){var pe=J.value;y.delete(pe)}}catch(Se){w={error:Se}}finally{try{J&&!J.done&&(k=H.return)&&k.call(H)}finally{if(w)throw w.error}}})})},h.prototype.replace=function(y){var w=this;return mn(function(){var k,H,J,pe,Se=function(an){if(G(an)||It(an))return an;if(Array.isArray(an))return new Map(an);if(N(an)){var Qi=new Map;for(var qr in an)Qi.set(qr,an[qr]);return Qi}return j("Cannot convert to map from '"+an+"'")}(y),He=new Map,dt=!1;try{for(var ot=se(w._data.keys()),xt=ot.next();!xt.done;xt=ot.next()){var st=xt.value;if(!Se.has(st))if(w.delete(st))dt=!0;else{var Ot=w._data.get(st);He.set(st,Ot)}}}catch(an){k={error:an}}finally{try{xt&&!xt.done&&(H=ot.return)&&H.call(ot)}finally{if(k)throw k.error}}try{for(var wn=se(Se.entries()),At=wn.next();!At.done;At=wn.next()){var on=ye(At.value,2),$r=(st=on[0],Ot=on[1],w._data.has(st));if(w.set(st,Ot),w._data.has(st)){var Hu=w._data.get(st);He.set(st,Hu),$r||(dt=!0)}}}catch(an){J={error:an}}finally{try{At&&!At.done&&(pe=wn.return)&&pe.call(wn)}finally{if(J)throw J.error}}if(!dt)if(w._data.size!==He.size)w._keysAtom.reportChanged();else for(var Zi=w._data.keys(),Ji=He.keys(),yo=Zi.next(),$o=Ji.next();!yo.done;){if(yo.value!==$o.value){w._keysAtom.reportChanged();break}yo=Zi.next(),$o=Ji.next()}w._data=He}),this},Object.defineProperty(h.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.toPOJO=function(){var y,w,k={};try{for(var H=se(this),J=H.next();!J.done;J=H.next()){var pe=ye(J.value,2),Se=pe[0],He=pe[1];k[typeof Se=="symbol"?Se:$(Se)]=He}}catch(dt){y={error:dt}}finally{try{J&&!J.done&&(w=H.return)&&w.call(H)}finally{if(y)throw y.error}}return k},h.prototype.toJS=function(){return new Map(this)},h.prototype.toJSON=function(){return this.toPOJO()},h.prototype.toString=function(){var y=this;return this.name+"[{ "+Array.from(this.keys()).map(function(w){return $(w)+": "+y.get(w)}).join(", ")+" }]"},h.prototype.observe=function(y,w){return fr(this,y)},h.prototype.intercept=function(y){return lr(this,y)},h}(),It=I("ObservableMap",Yo),kr={},so=function(){function h(y,w,k){if(w===void 0&&(w=Ce),k===void 0&&(k="ObservableSet@"+x()),this.name=k,this[Wi]=kr,this._data=new Set,this._atom=L(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(H,J){return w(H,J,k)},y&&this.replace(y)}return h.prototype.dehanceValue=function(y){return this.dehancer!==void 0?this.dehancer(y):y},h.prototype.clear=function(){var y=this;mn(function(){ne(function(){var w,k;try{for(var H=se(y._data.values()),J=H.next();!J.done;J=H.next()){var pe=J.value;y.delete(pe)}}catch(Se){w={error:Se}}finally{try{J&&!J.done&&(k=H.return)&&k.call(H)}finally{if(w)throw w.error}}})})},h.prototype.forEach=function(y,w){var k,H;try{for(var J=se(this),pe=J.next();!pe.done;pe=J.next()){var Se=pe.value;y.call(w,Se,Se,this)}}catch(He){k={error:He}}finally{try{pe&&!pe.done&&(H=J.return)&&H.call(J)}finally{if(k)throw k.error}}},Object.defineProperty(h.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.add=function(y){var w=this;if(at(this._atom),rn(this)&&!(H=gt(this,{type:"add",object:this,newValue:y})))return this;if(!this.has(y)){mn(function(){w._data.add(w.enhancer(y,void 0)),w._atom.reportChanged()});var k=On(this),H=k?{type:"add",object:this,newValue:y}:null;k&&$t(this,H)}return this},h.prototype.delete=function(y){var w=this;if(rn(this)&&!(H=gt(this,{type:"delete",object:this,oldValue:y})))return!1;if(this.has(y)){var k=On(this),H=k?{type:"delete",object:this,oldValue:y}:null;return mn(function(){w._atom.reportChanged(),w._data.delete(y)}),k&&$t(this,H),!0}return!1},h.prototype.has=function(y){return this._atom.reportObserved(),this._data.has(this.dehanceValue(y))},h.prototype.entries=function(){var y=0,w=Array.from(this.keys()),k=Array.from(this.values());return ho({next:function(){var H=y;return y+=1,H<k.length?{value:[w[H],k[H]],done:!1}:{done:!0}}})},h.prototype.keys=function(){return this.values()},h.prototype.values=function(){this._atom.reportObserved();var y=this,w=0,k=Array.from(this._data.values());return ho({next:function(){return w<k.length?{value:y.dehanceValue(k[w++]),done:!1}:{done:!0}}})},h.prototype.replace=function(y){var w=this;return dn(y)&&(y=y.toJS()),mn(function(){var k=rt(!0);try{Array.isArray(y)||Q(y)?(w.clear(),y.forEach(function(H){return w.add(H)})):y!=null&&j("Cannot initialize set from "+y)}finally{wt(k)}}),this},h.prototype.observe=function(y,w){return fr(this,y)},h.prototype.intercept=function(y){return lr(this,y)},h.prototype.toJS=function(){return new Set(this)},h.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},h.prototype[Wi=B,Symbol.iterator]=function(){return this.values()},h}(),dn=I("ObservableSet",so),Ki=function(){function h(y,w,k,H){w===void 0&&(w=new Map),this.target=y,this.values=w,this.name=k,this.defaultEnhancer=H,this.keysAtom=new D(k+".keys")}return h.prototype.read=function(y){return this.values.get(y).get()},h.prototype.write=function(y,w){var k=this.target,H=this.values.get(y);if(H instanceof Xn)H.set(w);else{if(rn(this)){if(!(pe=gt(this,{type:"update",object:this.proxy||k,name:y,newValue:w})))return;w=pe.newValue}if((w=H.prepareNewValue(w))!==Ge.UNCHANGED){var J=On(this),pe=J?{type:"update",object:this.proxy||k,oldValue:H.value,name:y,newValue:w}:null;H.setNewValue(w),J&&$t(this,pe)}}},h.prototype.has=function(y){var w=this.pendingKeys||(this.pendingKeys=new Map),k=w.get(y);if(k)return k.get();var H=!!this.values.get(y);return k=new Dt(H,qe,this.name+"."+$(y)+"?",!1),w.set(y,k),k.get()},h.prototype.addObservableProp=function(y,w,k){k===void 0&&(k=this.defaultEnhancer);var H=this.target;if(rn(this)){var J=gt(this,{object:this.proxy||H,name:y,type:"add",newValue:w});if(!J)return;w=J.newValue}var pe=new Dt(w,k,this.name+"."+$(y),!1);this.values.set(y,pe),w=pe.value,Object.defineProperty(H,y,function(Se){return lo[Se]||(lo[Se]={configurable:!0,enumerable:!0,get:function(){return this[B].read(Se)},set:function(He){this[B].write(Se,He)}})}(y)),this.notifyPropertyAddition(y,w)},h.prototype.addComputedProp=function(y,w,k){var H,J,pe,Se=this.target;k.name=k.name||this.name+"."+$(w),this.values.set(w,new Xn(k)),(y===Se||(H=y,J=w,!(pe=Object.getOwnPropertyDescriptor(H,J))||pe.configurable!==!1&&pe.writable!==!1))&&Object.defineProperty(y,w,function(He){return fo[He]||(fo[He]={configurable:Ge.computedConfigurable,enumerable:!1,get:function(){return po(this).read(He)},set:function(dt){po(this).write(He,dt)}})}(w))},h.prototype.remove=function(y){if(this.values.has(y)){var w=this.target;if(rn(this)&&!(He=gt(this,{object:this.proxy||w,name:y,type:"remove"})))return;try{vn();var k=On(this),H=!1,J=this.values.get(y),pe=J&&J.get();if(J&&J.set(void 0),this.keysAtom.reportChanged(),this.values.delete(y),this.pendingKeys){var Se=this.pendingKeys.get(y);Se&&Se.set(!1)}delete this.target[y];var He=k?{type:"remove",object:this.proxy||w,oldValue:pe,name:y}:null;k&&$t(this,He)}finally{bn()}}},h.prototype.illegalAccess=function(y,w){},h.prototype.observe=function(y,w){return fr(this,y)},h.prototype.intercept=function(y){return lr(this,y)},h.prototype.notifyPropertyAddition=function(y,w){var k=On(this),H=k?{type:"add",object:this.proxy||this.target,name:y,newValue:w}:null;if(k&&$t(this,H),this.pendingKeys){var J=this.pendingKeys.get(y);J&&J.set(!0)}this.keysAtom.reportChanged()},h.prototype.getKeys=function(){var y,w;this.keysAtom.reportObserved();var k=[];try{for(var H=se(this.values),J=H.next();!J.done;J=H.next()){var pe=ye(J.value,2),Se=pe[0];pe[1]instanceof Dt&&k.push(Se)}}catch(He){y={error:He}}finally{try{J&&!J.done&&(w=H.return)&&w.call(H)}finally{if(y)throw y.error}}return k},h}();function Kr(h,y,w){if(y===void 0&&(y=""),w===void 0&&(w=Ce),Object.prototype.hasOwnProperty.call(h,B))return h[B];N(h)||(y=(h.constructor.name||"ObservableObject")+"@"+x()),y||(y="ObservableObject@"+x());var k=new Ki(h,new Map,$(y),w);return R(h,B,k),k}var lo=Object.create(null),fo=Object.create(null);function po(h){var y=h[B];return y||(Ie(h),h[B])}var $i=I("ObservableObjectAdministration",Ki);function hn(h){return!!M(h)&&(Ie(h),$i(h[B]))}function _n(h,y){if(typeof h=="object"&&h!==null){if(Dn(h))return y!==void 0&&j(!1),h[B].atom;if(dn(h))return h[B];if(It(h)){var w=h;return y===void 0?w._keysAtom:((k=w._data.get(y)||w._hasMap.get(y))||j(!1),k)}var k;if(Ie(h),y&&!h[B]&&h[y],hn(h))return y?((k=h[B].values.get(y))||j(!1),k):j(!1);if(z(h)||Gn(h)||io(h))return h}else if(typeof h=="function"&&io(h[B]))return h[B];return j(!1)}function Ar(h,y){return h||j("Expecting some object"),y!==void 0?Ar(_n(h,y)):z(h)||Gn(h)||io(h)||It(h)||dn(h)?h:(Ie(h),h[B]?h[B]:void j(!1))}var Vo=Object.prototype.toString;function Wo(h,y,w){return w===void 0&&(w=-1),Ko(h,y,w)}function Ko(h,y,w,k,H){if(h===y)return h!==0||1/h==1/y;if(h==null||y==null)return!1;if(h!=h)return y!=y;var J=typeof h;if(J!=="function"&&J!=="object"&&typeof y!="object")return!1;var pe=Vo.call(h);if(pe!==Vo.call(y))return!1;switch(pe){case"[object RegExp]":case"[object String]":return""+h==""+y;case"[object Number]":return+h!=+h?+y!=+y:+h==0?1/+h==1/y:+h==+y;case"[object Date]":case"[object Boolean]":return+h==+y;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(h)===Symbol.valueOf.call(y);case"[object Map]":case"[object Set]":w>=0&&w++}h=qi(h),y=qi(y);var Se=pe==="[object Array]";if(!Se){if(typeof h!="object"||typeof y!="object")return!1;var He=h.constructor,dt=y.constructor;if(He!==dt&&!(typeof He=="function"&&He instanceof He&&typeof dt=="function"&&dt instanceof dt)&&"constructor"in h&&"constructor"in y)return!1}if(w===0)return!1;w<0&&(w=-1),H=H||[];for(var ot=(k=k||[]).length;ot--;)if(k[ot]===h)return H[ot]===y;if(k.push(h),H.push(y),Se){if((ot=h.length)!==y.length)return!1;for(;ot--;)if(!Ko(h[ot],y[ot],w-1,k,H))return!1}else{var xt=Object.keys(h),st=void 0;if(ot=xt.length,Object.keys(y).length!==ot)return!1;for(;ot--;)if(!Bu(y,st=xt[ot])||!Ko(h[st],y[st],w-1,k,H))return!1}return k.pop(),H.pop(),!0}function qi(h){return Dn(h)?h.slice():G(h)||It(h)||Q(h)||dn(h)?Array.from(h.entries()):h}function Bu(h,y){return Object.prototype.hasOwnProperty.call(h,y)}function ho(h){return h[Symbol.iterator]=pr,h}function pr(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ki,extras:{getDebugName:function(h,y){return(y!==void 0?_n(h,y):hn(h)||It(h)||dn(h)?Ar(h):_n(h)).name}},$mobx:B})}).call(this,a(155),a(82))},function(c,p,a){var f=a(116),s=a(44),v=a(179);f||s(Object.prototype,"toString",v,{unsafe:!0})},function(c,p,a){var f=a(40),s=a(83),v=a(70),O=a(56),x=a(111),j="Array Iterator",E=O.set,T=O.getterFor(j);c.exports=x(Array,"Array",function(A,M){E(this,{type:j,target:f(A),index:0,kind:M})},function(){var A=T(this),M=A.target,N=A.kind,R=A.index++;return!M||R>=M.length?(A.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:R,done:!1}:N=="values"?{value:M[R],done:!1}:{value:[R,M[R]],done:!1}},"values"),v.Arguments=v.Array,s("keys"),s("values"),s("entries")},function(c,p,a){var f=a(7),s=a(147),v=a(148),O=a(3),x=a(57),j=a(27),E=j("iterator"),T=j("toStringTag"),A=O.values,M=function(R,I){if(R){if(R[E]!==A)try{x(R,E,A)}catch{R[E]=A}if(R[T]||x(R,T,I),s[I]){for(var G in O)if(R[G]!==O[G])try{x(R,G,O[G])}catch{R[G]=O[G]}}}};for(var N in s)M(f[N]&&f[N].prototype,N);M(v,"DOMTokenList")},function(c,p,a){var f=a(17),s=a(7),v=a(46),O=a(76),x=a(35),j=a(15),E=a(64),T=a(36),A=a(109),M=a(19),N=a(34),R=a(99),I=a(28),G=a(33),Q=a(58),ie=a(88),$=a(32),Y=a(38),q=a(40),B=a(87),D=a(41),z=a(71),L=a(54),F=a(66),te=a(72),fe=a(139),se=a(112),ye=a(51),xe=a(37),ge=a(93),ue=a(101),he=a(44),be=a(84),je=a(91),Ie=a(69),$e=a(85),Pe=a(27),Ce=a(149),qe=a(150),Z=a(73),K=a(56),ae=a(74).forEach,_e=je("hidden"),ke="Symbol",we=Pe("toPrimitive"),Ze=K.set,nt=K.getterFor(ke),Je=Object.prototype,Ye=s.Symbol,ve=Ye&&Ye.prototype,Fe=s.TypeError,ee=s.QObject,Le=v("JSON","stringify"),ut=ye.f,vt=xe.f,it=fe.f,yt=ge.f,jt=j([].push),Pt=be("symbols"),at=be("op-symbols"),Nt=be("string-to-symbol-registry"),X=be("symbol-to-string-registry"),ne=be("wks"),V=!ee||!ee.prototype||!ee.prototype.findChild,ce=T&&M(function(){return L(vt({},"a",{get:function(){return vt(this,"a",{value:7}).a}})).a!=7})?function(ze,We,et){var rt=ut(Je,We);rt&&delete Je[We],vt(ze,We,et),rt&&ze!==Je&&vt(Je,We,rt)}:vt,De=function(ze,We){var et=Pt[ze]=L(ve);return Ze(et,{type:ke,tag:ze,description:We}),T||(et.description=We),et},Me=function(ze,We,et){ze===Je&&Me(at,We,et),$(ze);var rt=B(We);return $(et),N(Pt,rt)?(et.enumerable?(N(ze,_e)&&ze[_e][rt]&&(ze[_e][rt]=!1),et=L(et,{enumerable:z(0,!1)})):(N(ze,_e)||vt(ze,_e,z(1,{})),ze[_e][rt]=!0),ce(ze,rt,et)):vt(ze,rt,et)},Ue=function(ze,We){$(ze);var et=q(We),rt=F(et).concat(Ct(et));return ae(rt,function(wt){T&&!x(ft,et,wt)||Me(ze,wt,et[wt])}),ze},ft=function(ze){var We=B(ze),et=x(yt,this,We);return!(this===Je&&N(Pt,We)&&!N(at,We))&&(!(et||!N(this,We)||!N(Pt,We)||N(this,_e)&&this[_e][We])||et)},Ft=function(ze,We){var et=q(ze),rt=B(We);if(et!==Je||!N(Pt,rt)||N(at,rt)){var wt=ut(et,rt);return!wt||!N(Pt,rt)||N(et,_e)&&et[_e][rt]||(wt.enumerable=!0),wt}},Kt=function(ze){var We=it(q(ze)),et=[];return ae(We,function(rt){N(Pt,rt)||N(Ie,rt)||jt(et,rt)}),et},Ct=function(ze){var We=ze===Je,et=it(We?at:q(ze)),rt=[];return ae(et,function(wt){!N(Pt,wt)||We&&!N(Je,wt)||jt(rt,Pt[wt])}),rt};if(A||(Ye=function(){if(Q(ve,this))throw Fe("Symbol is not a constructor");var ze=arguments.length&&arguments[0]!==void 0?D(arguments[0]):void 0,We=$e(ze),et=function(rt){this===Je&&x(et,at,rt),N(this,_e)&&N(this[_e],We)&&(this[_e][We]=!1),ce(this,We,z(1,rt))};return T&&V&&ce(Je,We,{configurable:!0,set:et}),De(We,ze)},he(ve=Ye.prototype,"toString",function(){return nt(this).tag}),he(Ye,"withoutSetter",function(ze){return De($e(ze),ze)}),ge.f=ft,xe.f=Me,ye.f=Ft,te.f=fe.f=Kt,se.f=Ct,Ce.f=function(ze){return De(Pe(ze),ze)},T&&(vt(ve,"description",{configurable:!0,get:function(){return nt(this).description}}),E||he(Je,"propertyIsEnumerable",ft,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:Ye}),ae(F(ne),function(ze){qe(ze)}),f({target:ke,stat:!0,forced:!A},{for:function(ze){var We=D(ze);if(N(Nt,We))return Nt[We];var et=Ye(We);return Nt[We]=et,X[et]=We,et},keyFor:function(ze){if(!ie(ze))throw Fe(ze+" is not a symbol");if(N(X,ze))return X[ze]},useSetter:function(){V=!0},useSimple:function(){V=!1}}),f({target:"Object",stat:!0,forced:!A,sham:!T},{create:function(ze,We){return We===void 0?L(ze):Ue(L(ze),We)},defineProperty:Me,defineProperties:Ue,getOwnPropertyDescriptor:Ft}),f({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:Kt,getOwnPropertySymbols:Ct}),f({target:"Object",stat:!0,forced:M(function(){se.f(1)})},{getOwnPropertySymbols:function(ze){return se.f(Y(ze))}}),Le&&f({target:"JSON",stat:!0,forced:!A||M(function(){var ze=Ye();return Le([ze])!="[null]"||Le({a:ze})!="{}"||Le(Object(ze))!="{}"})},{stringify:function(ze,We,et){var rt=ue(arguments),wt=We;if((G(We)||ze!==void 0)&&!ie(ze))return R(We)||(We=function(Dt,ur){if(I(wt)&&(ur=x(wt,this,Dt,ur)),!ie(ur))return ur}),rt[1]=We,O(Le,null,rt)}}),!ve[we]){var Rt=ve.valueOf;he(ve,we,function(ze){return x(Rt,this)})}Z(Ye,ke),Ie[_e]=!0},function(c,p,a){var f=a(146).charAt,s=a(41),v=a(56),O=a(111),x="String Iterator",j=v.set,E=v.getterFor(x);O(String,"String",function(T){j(this,{type:x,string:s(T),index:0})},function(){var T,A=E(this),M=A.string,N=A.index;return N>=M.length?{value:void 0,done:!0}:(T=f(M,N),A.index+=T.length,{value:T,done:!1})})},function(c,p,a){(function(f){var s=function(v){return v&&v.Math==Math&&v};c.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,a(82))},function(c,p,a){var f=a(17),s=a(36),v=a(7),O=a(15),x=a(34),j=a(28),E=a(58),T=a(41),A=a(37).f,M=a(134),N=v.Symbol,R=N&&N.prototype;if(s&&j(N)&&(!("description"in R)||N().description!==void 0)){var I={},G=function(){var D=arguments.length<1||arguments[0]===void 0?void 0:T(arguments[0]),z=E(R,this)?new N(D):D===void 0?N():N(D);return D===""&&(I[z]=!0),z};M(G,N),G.prototype=R,R.constructor=G;var Q=String(N("test"))=="Symbol(test)",ie=O(R.toString),$=O(R.valueOf),Y=/^Symbol\((.*)\)[^)]+$/,q=O("".replace),B=O("".slice);A(R,"description",{configurable:!0,get:function(){var D=$(this),z=ie(D);if(x(I,D))return"";var L=Q?B(z,7,-1):q(z,Y,"$1");return L===""?void 0:L}}),f({global:!0,forced:!0},{Symbol:G})}},function(c,p,a){a(150)("iterator")},function(c,p,a){a.d(p,"a",function(){return O.a}),a.d(p,"c",function(){return O.e}),a.d(p,"h",function(){return Y}),a.d(p,"i",function(){return Q}),a.d(p,"j",function(){return I}),a.d(p,"b",function(){return ye}),a.d(p,"e",function(){return he}),a.d(p,"f",function(){return xe}),a.d(p,"g",function(){return Pt});var f,s,v,O=a(0),x=0,j=[],E=O.i.__b,T=O.i.__r,A=O.i.diffed,M=O.i.__c,N=O.i.unmount;function R(X,ne){O.i.__h&&O.i.__h(s,X,x||ne),x=0;var V=s.__H||(s.__H={__:[],__h:[]});return X>=V.__.length&&V.__.push({}),V.__[X]}function I(X){return x=1,G(te,X)}function G(X,ne,V){var ce=R(f++,2);return ce.t=X,ce.__c||(ce.__=[V?V(ne):te(void 0,ne),function(De){var Me=ce.t(ce.__[0],De);ce.__[0]!==Me&&(ce.__=[Me,ce.__[1]],ce.__c.setState({}))}],ce.__c=s),ce.__}function Q(X,ne){var V=R(f++,3);!O.i.__s&&F(V.__H,ne)&&(V.__=X,V.__H=ne,s.__H.__h.push(V))}function ie(X,ne){var V=R(f++,4);!O.i.__s&&F(V.__H,ne)&&(V.__=X,V.__H=ne,s.__h.push(V))}function $(X,ne){var V=R(f++,7);return F(V.__H,ne)&&(V.__=X(),V.__H=ne,V.__h=X),V.__}function Y(X,ne){return x=8,$(function(){return X},ne)}function q(){var X;for(j.sort(function(ne,V){return ne.__v.__b-V.__v.__b});X=j.pop();)if(X.__P)try{X.__H.__h.forEach(z),X.__H.__h.forEach(L),X.__H.__h=[]}catch(ne){X.__H.__h=[],O.i.__e(ne,X.__v)}}O.i.__b=function(X){s=null,E&&E(X)},O.i.__r=function(X){T&&T(X),f=0;var ne=(s=X.__c).__H;ne&&(ne.__h.forEach(z),ne.__h.forEach(L),ne.__h=[])},O.i.diffed=function(X){A&&A(X);var ne=X.__c;ne&&ne.__H&&ne.__H.__h.length&&(j.push(ne)!==1&&v===O.i.requestAnimationFrame||((v=O.i.requestAnimationFrame)||D)(q)),s=null},O.i.__c=function(X,ne){ne.some(function(V){try{V.__h.forEach(z),V.__h=V.__h.filter(function(ce){return!ce.__||L(ce)})}catch(ce){ne.some(function(De){De.__h&&(De.__h=[])}),ne=[],O.i.__e(ce,V.__v)}}),M&&M(X,ne)},O.i.unmount=function(X){N&&N(X);var ne,V=X.__c;V&&V.__H&&(V.__H.__.forEach(function(ce){try{z(ce)}catch(De){ne=De}}),ne&&O.i.__e(ne,V.__v))};var B=typeof requestAnimationFrame=="function";function D(X){var ne,V=function(){clearTimeout(ce),B&&cancelAnimationFrame(ne),setTimeout(X)},ce=setTimeout(V,100);B&&(ne=requestAnimationFrame(V))}function z(X){var ne=s,V=X.__c;typeof V=="function"&&(X.__c=void 0,V()),s=ne}function L(X){var ne=s;X.__c=X.__(),s=ne}function F(X,ne){return!X||X.length!==ne.length||ne.some(function(V,ce){return V!==X[ce]})}function te(X,ne){return typeof ne=="function"?ne(X):ne}function fe(X,ne){for(var V in ne)X[V]=ne[V];return X}function se(X,ne){for(var V in X)if(V!=="__source"&&!(V in ne))return!0;for(var ce in ne)if(ce!=="__source"&&X[ce]!==ne[ce])return!0;return!1}function ye(X){this.props=X}function xe(X,ne){function V(De){var Me=this.props.ref,Ue=Me==De.ref;return!Ue&&Me&&(Me.call?Me(null):Me.current=null),ne?!ne(this.props,De)||!Ue:se(this.props,De)}function ce(De){return this.shouldComponentUpdate=V,Object(O.e)(X,De)}return ce.displayName="Memo("+(X.displayName||X.name)+")",ce.prototype.isReactComponent=!0,ce.__f=!0,ce}(ye.prototype=new O.a).isPureReactComponent=!0,ye.prototype.shouldComponentUpdate=function(X,ne){return se(this.props,X)||se(this.state,ne)};var ge=O.i.__b;O.i.__b=function(X){X.type&&X.type.__f&&X.ref&&(X.props.ref=X.ref,X.ref=null),ge&&ge(X)};var ue=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function he(X){function ne(V,ce){var De=fe({},V);return delete De.ref,X(De,!(ce=V.ref||ce)||typeof ce=="object"&&!("current"in ce)?null:ce)}return ne.$$typeof=ue,ne.render=ne,ne.prototype.isReactComponent=ne.__f=!0,ne.displayName="ForwardRef("+(X.displayName||X.name)+")",ne}var be=function(X,ne){return X==null?null:Object(O.k)(Object(O.k)(X).map(ne))},je={map:be,forEach:be,count:function(X){return X?Object(O.k)(X).length:0},only:function(X){var ne=Object(O.k)(X);if(ne.length!==1)throw"Children.only";return ne[0]},toArray:O.k},Ie=O.i.__e;O.i.__e=function(X,ne,V){if(X.then){for(var ce,De=ne;De=De.__;)if((ce=De.__c)&&ce.__c)return ne.__e==null&&(ne.__e=V.__e,ne.__k=V.__k),ce.__c(X,ne)}Ie(X,ne,V)};var $e=O.i.unmount;function Pe(X,ne,V){return X&&(X.__c&&X.__c.__H&&(X.__c.__H.__.forEach(function(ce){typeof ce.__c=="function"&&ce.__c()}),X.__c.__H=null),(X=fe({},X)).__c!=null&&(X.__c.__P===V&&(X.__c.__P=ne),X.__c=null),X.__k=X.__k&&X.__k.map(function(ce){return Pe(ce,ne,V)})),X}function Ce(X,ne,V){return X&&(X.__v=null,X.__k=X.__k&&X.__k.map(function(ce){return Ce(ce,ne,V)}),X.__c&&X.__c.__P===ne&&(X.__e&&V.insertBefore(X.__e,X.__d),X.__c.__e=!0,X.__c.__P=V)),X}function qe(){this.__u=0,this.t=null,this.__b=null}function Z(X){var ne=X.__.__c;return ne&&ne.__e&&ne.__e(X)}function K(){this.u=null,this.o=null}O.i.unmount=function(X){var ne=X.__c;ne&&ne.__R&&ne.__R(),ne&&X.__h===!0&&(X.type=null),$e&&$e(X)},(qe.prototype=new O.a).__c=function(X,ne){var V=ne.__c,ce=this;ce.t==null&&(ce.t=[]),ce.t.push(V);var De=Z(ce.__v),Me=!1,Ue=function(){Me||(Me=!0,V.__R=null,De?De(ft):ft())};V.__R=Ue;var ft=function(){if(!--ce.__u){if(ce.state.__e){var Kt=ce.state.__e;ce.__v.__k[0]=Ce(Kt,Kt.__c.__P,Kt.__c.__O)}var Ct;for(ce.setState({__e:ce.__b=null});Ct=ce.t.pop();)Ct.forceUpdate()}},Ft=ne.__h===!0;ce.__u++||Ft||ce.setState({__e:ce.__b=ce.__v.__k[0]}),X.then(Ue,Ue)},qe.prototype.componentWillUnmount=function(){this.t=[]},qe.prototype.render=function(X,ne){if(this.__b){if(this.__v.__k){var V=document.createElement("div"),ce=this.__v.__k[0].__c;this.__v.__k[0]=Pe(this.__b,V,ce.__O=ce.__P)}this.__b=null}var De=ne.__e&&Object(O.e)(O.b,null,X.fallback);return De&&(De.__h=null),[Object(O.e)(O.b,null,ne.__e?null:X.children),De]};var ae=function(X,ne,V){if(++V[1]===V[0]&&X.o.delete(ne),X.props.revealOrder&&(X.props.revealOrder[0]!=="t"||!X.o.size))for(V=X.u;V;){for(;V.length>3;)V.pop()();if(V[1]<V[0])break;X.u=V=V[2]}};function _e(X){return this.getChildContext=function(){return X.context},X.children}function ke(X){var ne=this,V=X.i;ne.componentWillUnmount=function(){Object(O.j)(null,ne.l),ne.l=null,ne.i=null},ne.i&&ne.i!==V&&ne.componentWillUnmount(),X.__v?(ne.l||(ne.i=V,ne.l={nodeType:1,parentNode:V,childNodes:[],appendChild:function(ce){this.childNodes.push(ce),ne.i.appendChild(ce)},insertBefore:function(ce,De){this.childNodes.push(ce),ne.i.appendChild(ce)},removeChild:function(ce){this.childNodes.splice(this.childNodes.indexOf(ce)>>>1,1),ne.i.removeChild(ce)}}),Object(O.j)(Object(O.e)(_e,{context:ne.context},X.__v),ne.l)):ne.l&&ne.componentWillUnmount()}(K.prototype=new O.a).__e=function(X){var ne=this,V=Z(ne.__v),ce=ne.o.get(X);return ce[0]++,function(De){var Me=function(){ne.props.revealOrder?(ce.push(De),ae(ne,X,ce)):De()};V?V(Me):Me()}},K.prototype.render=function(X){this.u=null,this.o=new Map;var ne=Object(O.k)(X.children);X.revealOrder&&X.revealOrder[0]==="b"&&ne.reverse();for(var V=ne.length;V--;)this.o.set(ne[V],this.u=[1,0,this.u]);return X.children},K.prototype.componentDidUpdate=K.prototype.componentDidMount=function(){var X=this;this.o.forEach(function(ne,V){ae(X,V,ne)})};var we=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ze=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,nt=typeof document<"u",Je=function(X){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(X)};O.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(X){Object.defineProperty(O.a.prototype,X,{configurable:!0,get:function(){return this["UNSAFE_"+X]},set:function(ne){Object.defineProperty(this,X,{configurable:!0,writable:!0,value:ne})}})});var Ye=O.i.event;function ve(){}function Fe(){return this.cancelBubble}function ee(){return this.defaultPrevented}O.i.event=function(X){return Ye&&(X=Ye(X)),X.persist=ve,X.isPropagationStopped=Fe,X.isDefaultPrevented=ee,X.nativeEvent=X};var Le,ut={configurable:!0,get:function(){return this.class}},vt=O.i.vnode;O.i.vnode=function(X){var ne=X.type,V=X.props,ce=V;if(typeof ne=="string"){var De=ne.indexOf("-")===-1;for(var Me in ce={},V){var Ue=V[Me];nt&&Me==="children"&&ne==="noscript"||Me==="value"&&"defaultValue"in V&&Ue==null||(Me==="defaultValue"&&"value"in V&&V.value==null?Me="value":Me==="download"&&Ue===!0?Ue="":/ondoubleclick/i.test(Me)?Me="ondblclick":/^onchange(textarea|input)/i.test(Me+ne)&&!Je(V.type)?Me="oninput":/^onfocus$/i.test(Me)?Me="onfocusin":/^onblur$/i.test(Me)?Me="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Me)?Me=Me.toLowerCase():De&&Ze.test(Me)?Me=Me.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ue===null&&(Ue=void 0),ce[Me]=Ue)}ne=="select"&&ce.multiple&&Array.isArray(ce.value)&&(ce.value=Object(O.k)(V.children).forEach(function(ft){ft.props.selected=ce.value.indexOf(ft.props.value)!=-1})),ne=="select"&&ce.defaultValue!=null&&(ce.value=Object(O.k)(V.children).forEach(function(ft){ft.props.selected=ce.multiple?ce.defaultValue.indexOf(ft.props.value)!=-1:ce.defaultValue==ft.props.value})),X.props=ce,V.class!=V.className&&(ut.enumerable="className"in V,V.className!=null&&(ce.class=V.className),Object.defineProperty(ce,"className",ut))}X.$$typeof=we,vt&&vt(X)};var it=O.i.__r;O.i.__r=function(X){it&&it(X),Le=X.__c};var yt={ReactCurrentDispatcher:{current:{readContext:function(X){return Le.__n[X.__c].props.value}}}};function jt(X){return!!X&&X.$$typeof===we}var Pt=function(X,ne){return X(ne)},at=O.b,Nt={useState:I,useReducer:G,useEffect:Q,useLayoutEffect:ie,useRef:function(X){return x=5,$(function(){return{current:X}},[])},useImperativeHandle:function(X,ne,V){x=6,ie(function(){typeof X=="function"?X(ne()):X&&(X.current=ne())},V==null?V:V.concat(X))},useMemo:$,useCallback:Y,useContext:function(X){var ne=s.context[X.__c],V=R(f++,9);return V.c=X,ne?(V.__==null&&(V.__=!0,ne.sub(s)),ne.props.value):X.__},useDebugValue:function(X,ne){O.i.useDebugValue&&O.i.useDebugValue(ne?ne(X):X)},version:"17.0.2",Children:je,render:function(X,ne,V){return ne.__k==null&&(ne.textContent=""),Object(O.j)(X,ne),typeof V=="function"&&V(),X?X.__c:null},hydrate:function(X,ne,V){return Object(O.h)(X,ne),typeof V=="function"&&V(),X?X.__c:null},unmountComponentAtNode:function(X){return!!X.__k&&(Object(O.j)(null,X),!0)},createPortal:function(X,ne){return Object(O.e)(ke,{__v:X,i:ne})},createElement:O.e,createContext:O.d,createFactory:function(X){return O.e.bind(null,X)},cloneElement:function(X){return jt(X)?O.c.apply(null,arguments):X},createRef:O.f,Fragment:O.b,isValidElement:jt,findDOMNode:function(X){return X&&(X.base||X.nodeType===1&&X)||null},Component:O.a,PureComponent:ye,memo:xe,forwardRef:he,flushSync:function(X,ne){return X(ne)},unstable_batchedUpdates:Pt,StrictMode:at,Suspense:qe,SuspenseList:K,lazy:function(X){var ne,V,ce;function De(Me){if(ne||(ne=X()).then(function(Ue){V=Ue.default||Ue},function(Ue){ce=Ue}),ce)throw ce;if(!V)throw ne;return Object(O.e)(V,Me)}return De.displayName="Lazy",De.__f=!0,De},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:yt};p.d=Nt},function(c,p,a){var f=a(7),s=a(147),v=a(148),O=a(180),x=a(57),j=function(T){if(T&&T.forEach!==O)try{x(T,"forEach",O)}catch{T.forEach=O}};for(var E in s)s[E]&&j(f[E]&&f[E].prototype);j(v)},function(c,p,a){a(17)({target:"Object",stat:!0},{setPrototypeOf:a(97)})},function(c,p,a){var f=a(17),s=a(19),v=a(38),O=a(96),x=a(137);f({target:"Object",stat:!0,forced:s(function(){O(1)}),sham:!x},{getPrototypeOf:function(j){return O(v(j))}})},function(c,p,a){var f=a(17),s=a(46),v=a(76),O=a(200),x=a(157),j=a(32),E=a(33),T=a(54),A=a(19),M=s("Reflect","construct"),N=Object.prototype,R=[].push,I=A(function(){function ie(){}return!(M(function(){},[],ie)instanceof ie)}),G=!A(function(){M(function(){})}),Q=I||G;f({target:"Reflect",stat:!0,forced:Q,sham:Q},{construct:function(ie,$){x(ie),j($);var Y=arguments.length<3?ie:x(arguments[2]);if(G&&!I)return M(ie,$,Y);if(ie==Y){switch($.length){case 0:return new ie;case 1:return new ie($[0]);case 2:return new ie($[0],$[1]);case 3:return new ie($[0],$[1],$[2]);case 4:return new ie($[0],$[1],$[2],$[3])}var q=[null];return v(R,q,$),new(v(O,ie,q))}var B=Y.prototype,D=T(E(B)?B:N),z=v(ie,D,$);return E(z)?z:D}})},function(c,p){var a=Function.prototype,f=a.bind,s=a.call,v=f&&f.bind(s);c.exports=f?function(O){return O&&v(s,O)}:function(O){return O&&function(){return s.apply(O,arguments)}}},function(c,p,a){var f=a(17),s=a(7),v=a(99),O=a(100),x=a(33),j=a(67),E=a(43),T=a(40),A=a(61),M=a(27),N=a(75),R=a(101),I=N("slice"),G=M("species"),Q=s.Array,ie=Math.max;f({target:"Array",proto:!0,forced:!I},{slice:function($,Y){var q,B,D,z=T(this),L=E(z),F=j($,L),te=j(Y===void 0?L:Y,L);if(v(z)&&(q=z.constructor,(O(q)&&(q===Q||v(q.prototype))||x(q)&&(q=q[G])===null)&&(q=void 0),q===Q||q===void 0))return R(z,F,te);for(B=new(q===void 0?Q:q)(ie(te-F,0)),D=0;F<te;F++,D++)F in z&&A(B,D,z[F]);return B.length=D,B}})},function(c,p,a){var f=a(7),s=a(51).f,v=a(57),O=a(44),x=a(108),j=a(134),E=a(95);c.exports=function(T,A){var M,N,R,I,G,Q=T.target,ie=T.global,$=T.stat;if(M=ie?f:$?f[Q]||x(Q,{}):(f[Q]||{}).prototype)for(N in A){if(I=A[N],R=T.noTargetGet?(G=s(M,N))&&G.value:M[N],!E(ie?N:Q+($?".":"#")+N,T.forced)&&R!==void 0){if(typeof I==typeof R)continue;j(I,R)}(T.sham||R&&R.sham)&&v(I,"sham",!0),O(M,N,I,T)}}},function(c,p,a){var f=a(17),s=a(102);f({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(c,p){c.exports=function(a){try{return!!a()}catch{return!0}}},function(c,p,a){var f=a(17),s=a(38),v=a(66);f({target:"Object",stat:!0,forced:a(19)(function(){v(1)})},{keys:function(O){return v(s(O))}})},function(c,p,a){var f=a(17),s=a(19),v=a(40),O=a(51).f,x=a(36),j=s(function(){O(1)});f({target:"Object",stat:!0,forced:!x||j,sham:!x},{getOwnPropertyDescriptor:function(E,T){return O(v(E),T)}})},function(c,p,a){var f=a(36),s=a(94).EXISTS,v=a(15),O=a(37).f,x=Function.prototype,j=v(x.toString),E=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,T=v(E.exec);f&&!s&&O(x,"name",{configurable:!0,get:function(){try{return T(E,j(this))[1]}catch{return""}}})},function(c,p,a){var f=a(17),s=a(74).filter;f({target:"Array",proto:!0,forced:!a(75)("filter")},{filter:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){var f=a(17),s=a(183);f({target:"Array",stat:!0,forced:!a(118)(function(v){Array.from(v)})},{from:s})},function(c,p,a){var f=a(17),s=a(36),v=a(135),O=a(40),x=a(51),j=a(61);f({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(E){for(var T,A,M=O(E),N=x.f,R=v(M),I={},G=0;R.length>G;)(A=N(M,T=R[G++]))!==void 0&&j(I,T,A);return I}})},,function(c,p,a){var f=a(7),s=a(84),v=a(34),O=a(85),x=a(109),j=a(128),E=s("wks"),T=f.Symbol,A=T&&T.for,M=j?T:T&&T.withoutSetter||O;c.exports=function(N){if(!v(E,N)||!x&&typeof E[N]!="string"){var R="Symbol."+N;x&&v(T,N)?E[N]=T[N]:E[N]=j&&A?A(R):M(R)}return E[N]}},function(c,p){c.exports=function(a){return typeof a=="function"}},function(c,p,a){var f=a(17),s=a(7),v=a(19),O=a(99),x=a(33),j=a(38),E=a(43),T=a(61),A=a(119),M=a(75),N=a(27),R=a(65),I=N("isConcatSpreadable"),G=9007199254740991,Q="Maximum allowed index exceeded",ie=s.TypeError,$=R>=51||!v(function(){var B=[];return B[I]=!1,B.concat()[0]!==B}),Y=M("concat"),q=function(B){if(!x(B))return!1;var D=B[I];return D!==void 0?!!D:O(B)};f({target:"Array",proto:!0,forced:!$||!Y},{concat:function(B){var D,z,L,F,te,fe=j(this),se=A(fe,0),ye=0;for(D=-1,L=arguments.length;D<L;D++)if(q(te=D===-1?fe:arguments[D])){if(ye+(F=E(te))>G)throw ie(Q);for(z=0;z<F;z++,ye++)z in te&&T(se,ye,te[z])}else{if(ye>=G)throw ie(Q);T(se,ye++,te)}return se.length=ye,se}})},function(c,p,a){var f=a(17),s=a(199);f({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(c,p,a){var f=a(105),s=typeof self=="object"&&self&&self.Object===Object&&self,v=f.a||s||Function("return this")();p.a=v},function(c,p,a){var f=a(7),s=a(33),v=f.String,O=f.TypeError;c.exports=function(x){if(s(x))return x;throw O(v(x)+" is not an object")}},function(c,p,a){var f=a(28);c.exports=function(s){return typeof s=="object"?s!==null:f(s)}},function(c,p,a){var f=a(15),s=a(38),v=f({}.hasOwnProperty);c.exports=Object.hasOwn||function(O,x){return v(s(O),x)}},function(c,p){var a=Function.prototype.call;c.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(c,p,a){var f=a(19);c.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,p,a){var f=a(7),s=a(36),v=a(129),O=a(32),x=a(87),j=f.TypeError,E=Object.defineProperty;p.f=s?E:function(T,A,M){if(O(T),A=x(A),O(M),v)try{return E(T,A,M)}catch{}if("get"in M||"set"in M)throw j("Accessors not supported");return"value"in M&&(T[A]=M.value),T}},function(c,p,a){var f=a(7),s=a(45),v=f.Object;c.exports=function(O){return v(s(O))}},function(c,p,a){var f=a(17),s=a(74).map;f({target:"Array",proto:!0,forced:!a(75)("map")},{map:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){var f=a(81),s=a(45);c.exports=function(v){return f(s(v))}},function(c,p,a){var f=a(7),s=a(98),v=f.String;c.exports=function(O){if(s(O)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return v(O)}},function(c,p,a){(function(f){a.d(p,"d",function(){return O}),a.d(p,"c",function(){return x}),a.d(p,"b",function(){return j}),a.d(p,"a",function(){return T});var s=a(10),v=function(A,M){var N=typeof Symbol=="function"&&A[Symbol.iterator];if(!N)return A;var R,I,G=N.call(A),Q=[];try{for(;(M===void 0||M-- >0)&&!(R=G.next()).done;)Q.push(R.value)}catch(ie){I={error:ie}}finally{try{R&&!R.done&&(N=G.return)&&N.call(G)}finally{if(I)throw I.error}}return Q};function O(){var A=v(Object(s.j)(0),2)[1];return Object(s.h)(function(){A(function(M){return M+1})},[])}function x(A){if(!A||typeof A!="object")return!1;var M=Object.getPrototypeOf(A);return!M||M===Object.prototype}function j(A){return typeof Symbol=="function"?Symbol.for(A):"__$mobx-react "+A+"__"}var E={};function T(){return typeof window<"u"?window:f!==void 0?f:typeof self<"u"?self:E}}).call(this,a(82))},function(c,p,a){var f=a(90);c.exports=function(s){return f(s.length)}},function(c,p,a){var f=a(7),s=a(28),v=a(34),O=a(57),x=a(108),j=a(92),E=a(56),T=a(94).CONFIGURABLE,A=E.get,M=E.enforce,N=String(String).split("String");(c.exports=function(R,I,G,Q){var ie,$=!!Q&&!!Q.unsafe,Y=!!Q&&!!Q.enumerable,q=!!Q&&!!Q.noTargetGet,B=Q&&Q.name!==void 0?Q.name:I;s(G)&&(String(B).slice(0,7)==="Symbol("&&(B="["+String(B).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!v(G,"name")||T&&G.name!==B)&&O(G,"name",B),(ie=M(G)).source||(ie.source=N.join(typeof B=="string"?B:""))),R!==f?($?!q&&R[I]&&(Y=!0):delete R[I],Y?R[I]=G:O(R,I,G)):Y?R[I]=G:x(I,G)})(Function.prototype,"toString",function(){return s(this)&&A(this).source||j(this)})},function(c,p,a){var f=a(7).TypeError;c.exports=function(s){if(s==null)throw f("Can't call method on "+s);return s}},function(c,p,a){var f=a(7),s=a(28),v=function(O){return s(O)?O:void 0};c.exports=function(O,x){return arguments.length<2?v(f[O]):f[O]&&f[O][x]}},function(c,p,a){var f=a(17),s=a(35),v=a(33),O=a(32),x=a(201),j=a(51),E=a(96);f({target:"Reflect",stat:!0},{get:function T(A,M){var N,R,I=arguments.length<3?A:arguments[2];return O(A)===I?A[M]:(N=j.f(A,M))?x(N)?N.value:N.get===void 0?void 0:s(N.get,I):v(R=E(A))?T(R,M,I):void 0}})},function(c,p,a){(function(f){var s=a(31),v=a(166),O=g&&!g.nodeType&&g,x=O&&typeof f=="object"&&f&&!f.nodeType&&f,j=x&&x.exports===O?s.a.Buffer:void 0,E=(j?j.isBuffer:void 0)||v.a;p.a=E}).call(this,a(121)(c))},function(c,p,a){(function(f){var s=a(105),v=g&&!g.nodeType&&g,O=v&&typeof f=="object"&&f&&!f.nodeType&&f,x=O&&O.exports===v&&s.a.process,j=function(){try{var E=O&&O.require&&O.require("util").types;return E||x&&x.binding&&x.binding("util")}catch{}}();p.a=j}).call(this,a(121)(c))},function(c,p,a){var f=a(15),s=f({}.toString),v=f("".slice);c.exports=function(O){return v(s(O),8,-1)}},function(c,p,a){var f=a(36),s=a(35),v=a(93),O=a(71),x=a(40),j=a(87),E=a(34),T=a(129),A=Object.getOwnPropertyDescriptor;p.f=f?A:function(M,N){if(M=x(M),N=j(N),T)try{return A(M,N)}catch{}if(E(M,N))return O(!s(v.f,M,N),M[N])}},function(c,p,a){var f=a(17),s=a(213).entries;f({target:"Object",stat:!0},{entries:function(v){return s(v)}})},function(c,p,a){var f=a(46);c.exports=f("navigator","userAgent")||""},function(c,p,a){var f,s=a(32),v=a(169),O=a(110),x=a(69),j=a(133),E=a(86),T=a(91),A=T("IE_PROTO"),M=function(){},N=function(G){return"<script>"+G+"<\/script>"},R=function(G){G.write(N("")),G.close();var Q=G.parentWindow.Object;return G=null,Q},I=function(){try{f=new ActiveXObject("htmlfile")}catch{}var G,Q;I=typeof document<"u"?document.domain&&f?R(f):((Q=E("iframe")).style.display="none",j.appendChild(Q),Q.src="javascript:",(G=Q.contentWindow.document).open(),G.write(N("document.F=Object")),G.close(),G.F):R(f);for(var ie=O.length;ie--;)delete I.prototype[O[ie]];return I()};x[A]=!0,c.exports=Object.create||function(G,Q){var ie;return G!==null?(M.prototype=s(G),ie=new M,M.prototype=null,ie[A]=G):ie=I(),Q===void 0?ie:v(ie,Q)}},function(c,p,a){var f=a(7),s=a(28),v=a(89),O=f.TypeError;c.exports=function(x){if(s(x))return x;throw O(v(x)+" is not a function")}},function(c,p,a){var f,s,v,O=a(171),x=a(7),j=a(15),E=a(33),T=a(57),A=a(34),M=a(107),N=a(91),R=a(69),I="Object already initialized",G=x.TypeError,Q=x.WeakMap;if(O||M.state){var ie=M.state||(M.state=new Q),$=j(ie.get),Y=j(ie.has),q=j(ie.set);f=function(D,z){if(Y(ie,D))throw new G(I);return z.facade=D,q(ie,D,z),z},s=function(D){return $(ie,D)||{}},v=function(D){return Y(ie,D)}}else{var B=N("state");R[B]=!0,f=function(D,z){if(A(D,B))throw new G(I);return z.facade=D,T(D,B,z),z},s=function(D){return A(D,B)?D[B]:{}},v=function(D){return A(D,B)}}c.exports={set:f,get:s,has:v,enforce:function(D){return v(D)?s(D):f(D,{})},getterFor:function(D){return function(z){var L;if(!E(z)||(L=s(z)).type!==D)throw G("Incompatible receiver, "+D+" required");return L}}}},function(c,p,a){var f=a(36),s=a(37),v=a(71);c.exports=f?function(O,x,j){return s.f(O,x,v(1,j))}:function(O,x,j){return O[x]=j,O}},function(c,p,a){var f=a(15);c.exports=f({}.isPrototypeOf)},function(c,p,a){var f=a(55);c.exports=function(s,v){var O=s[v];return O==null?void 0:f(O)}},function(c,p,a){a(174)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},a(178))},function(c,p,a){var f=a(87),s=a(37),v=a(71);c.exports=function(O,x,j){var E=f(x);E in O?s.f(O,E,v(0,j)):O[E]=j}},function(c,p,a){var f=a(15),s=a(55),v=f(f.bind);c.exports=function(O,x){return s(O),x===void 0?O:v?v(O,x):function(){return O.apply(x,arguments)}}},function(c,p,a){var f=a(17),s=a(15),v=a(81),O=a(40),x=a(120),j=s([].join),E=v!=Object,T=x("join",",");f({target:"Array",proto:!0,forced:E||!T},{join:function(A){return j(O(this),A===void 0?",":A)}})},function(c,p){c.exports=!1},function(c,p,a){var f,s,v=a(7),O=a(53),x=v.process,j=v.Deno,E=x&&x.versions||j&&j.version,T=E&&E.v8;T&&(s=(f=T.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!s&&O&&(!(f=O.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=O.match(/Chrome\/(\d+)/))&&(s=+f[1]),c.exports=s},function(c,p,a){var f=a(131),s=a(110);c.exports=Object.keys||function(v){return f(v,s)}},function(c,p,a){var f=a(68),s=Math.max,v=Math.min;c.exports=function(O,x){var j=f(O);return j<0?s(j+x,0):v(j,x)}},function(c,p){var a=Math.ceil,f=Math.floor;c.exports=function(s){var v=+s;return v!=v||v===0?0:(v>0?f:a)(v)}},function(c,p){c.exports={}},function(c,p){c.exports={}},function(c,p){c.exports=function(a,f){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:f}}},function(c,p,a){var f=a(131),s=a(110).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(v){return f(v,s)}},function(c,p,a){var f=a(37).f,s=a(34),v=a(27)("toStringTag");c.exports=function(O,x,j){O&&!s(O=j?O:O.prototype,v)&&f(O,v,{configurable:!0,value:x})}},function(c,p,a){var f=a(62),s=a(15),v=a(81),O=a(38),x=a(43),j=a(119),E=s([].push),T=function(A){var M=A==1,N=A==2,R=A==3,I=A==4,G=A==6,Q=A==7,ie=A==5||G;return function($,Y,q,B){for(var D,z,L=O($),F=v(L),te=f(Y,q),fe=x(F),se=0,ye=B||j,xe=M?ye($,fe):N||Q?ye($,0):void 0;fe>se;se++)if((ie||se in F)&&(z=te(D=F[se],se,L),A))if(M)xe[se]=z;else if(z)switch(A){case 3:return!0;case 5:return D;case 6:return se;case 2:E(xe,D)}else switch(A){case 4:return!1;case 7:E(xe,D)}return G?-1:R||I?I:xe}};c.exports={forEach:T(0),map:T(1),filter:T(2),some:T(3),every:T(4),find:T(5),findIndex:T(6),filterReject:T(7)}},function(c,p,a){var f=a(19),s=a(27),v=a(65),O=s("species");c.exports=function(x){return v>=51||!f(function(){var j=[];return(j.constructor={})[O]=function(){return{foo:1}},j[x](Boolean).foo!==1})}},function(c,p){var a=Function.prototype,f=a.apply,s=a.bind,v=a.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(s?v.bind(f):function(){return v.apply(f,arguments)})},function(c,p,a){var f=a(76),s=a(35),v=a(15),O=a(122),x=a(154),j=a(32),E=a(45),T=a(156),A=a(123),M=a(90),N=a(41),R=a(59),I=a(113),G=a(124),Q=a(102),ie=a(151),$=a(19),Y=ie.UNSUPPORTED_Y,q=4294967295,B=Math.min,D=[].push,z=v(/./.exec),L=v(D),F=v("".slice),te=!$(function(){var fe=/(?:)/,se=fe.exec;fe.exec=function(){return se.apply(this,arguments)};var ye="ab".split(fe);return ye.length!==2||ye[0]!=="a"||ye[1]!=="b"});O("split",function(fe,se,ye){var xe;return xe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(ge,ue){var he=N(E(this)),be=ue===void 0?q:ue>>>0;if(be===0)return[];if(ge===void 0)return[he];if(!x(ge))return s(se,he,ge,be);for(var je,Ie,$e,Pe=[],Ce=(ge.ignoreCase?"i":"")+(ge.multiline?"m":"")+(ge.unicode?"u":"")+(ge.sticky?"y":""),qe=0,Z=new RegExp(ge.source,Ce+"g");(je=s(Q,Z,he))&&!((Ie=Z.lastIndex)>qe&&(L(Pe,F(he,qe,je.index)),je.length>1&&je.index<he.length&&f(D,Pe,I(je,1)),$e=je[0].length,qe=Ie,Pe.length>=be));)Z.lastIndex===je.index&&Z.lastIndex++;return qe===he.length?!$e&&z(Z,"")||L(Pe,""):L(Pe,F(he,qe)),Pe.length>be?I(Pe,0,be):Pe}:"0".split(void 0,0).length?function(ge,ue){return ge===void 0&&ue===0?[]:s(se,this,ge,ue)}:se,[function(ge,ue){var he=E(this),be=ge==null?void 0:R(ge,fe);return be?s(be,ge,he,ue):s(xe,N(he),ge,ue)},function(ge,ue){var he=j(this),be=N(ge),je=ye(xe,he,be,ue,xe!==se);if(je.done)return je.value;var Ie=T(he,RegExp),$e=he.unicode,Pe=(he.ignoreCase?"i":"")+(he.multiline?"m":"")+(he.unicode?"u":"")+(Y?"g":"y"),Ce=new Ie(Y?"^(?:"+he.source+")":he,Pe),qe=ue===void 0?q:ue>>>0;if(qe===0)return[];if(be.length===0)return G(Ce,be)===null?[be]:[];for(var Z=0,K=0,ae=[];K<be.length;){Ce.lastIndex=Y?0:K;var _e,ke=G(Ce,Y?F(be,K):be);if(ke===null||(_e=B(M(Ce.lastIndex+(Y?K:0)),be.length))===Z)K=A(be,K,$e);else{if(L(ae,F(be,Z,K)),ae.length===qe)return ae;for(var we=1;we<=ke.length-1;we++)if(L(ae,ke[we]),ae.length===qe)return ae;K=Z=_e}}return L(ae,F(be,Z)),ae}]},!te,Y)},function(c,p,a){var f=a(36),s=a(7),v=a(15),O=a(95),x=a(44),j=a(34),E=a(143),T=a(58),A=a(88),M=a(130),N=a(19),R=a(72).f,I=a(51).f,G=a(37).f,Q=a(197),ie=a(159).trim,$="Number",Y=s.Number,q=Y.prototype,B=s.TypeError,D=v("".slice),z=v("".charCodeAt),L=function(xe){var ge=M(xe,"number");return typeof ge=="bigint"?ge:F(ge)},F=function(xe){var ge,ue,he,be,je,Ie,$e,Pe,Ce=M(xe,"number");if(A(Ce))throw B("Cannot convert a Symbol value to a number");if(typeof Ce=="string"&&Ce.length>2){if(Ce=ie(Ce),(ge=z(Ce,0))===43||ge===45){if((ue=z(Ce,2))===88||ue===120)return NaN}else if(ge===48){switch(z(Ce,1)){case 66:case 98:he=2,be=49;break;case 79:case 111:he=8,be=55;break;default:return+Ce}for(Ie=(je=D(Ce,2)).length,$e=0;$e<Ie;$e++)if((Pe=z(je,$e))<48||Pe>be)return NaN;return parseInt(je,he)}}return+Ce};if(O($,!Y(" 0o1")||!Y("0b1")||Y("+0x1"))){for(var te,fe=function(xe){var ge=arguments.length<1?0:Y(L(xe)),ue=this;return T(q,ue)&&N(function(){Q(ue)})?E(Object(ge),ue,fe):ge},se=f?R(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ye=0;se.length>ye;ye++)j(Y,te=se[ye])&&!j(fe,te)&&G(fe,te,I(Y,te));fe.prototype=q,q.constructor=fe,x(s,$,fe)}},function(c,p,a){a(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,p,a){var f=a(17),s=a(214),v=a(83);f({target:"Array",proto:!0},{fill:s}),v("fill")},function(c,p,a){var f=a(7),s=a(15),v=a(19),O=a(50),x=f.Object,j=s("".split);c.exports=v(function(){return!x("z").propertyIsEnumerable(0)})?function(E){return O(E)=="String"?j(E,""):x(E)}:x},function(c,p){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}c.exports=a},function(c,p,a){var f=a(27),s=a(54),v=a(37),O=f("unscopables"),x=Array.prototype;x[O]==null&&v.f(x,O,{configurable:!0,value:s(null)}),c.exports=function(j){x[O][j]=!0}},function(c,p,a){var f=a(64),s=a(107);(c.exports=function(v,O){return s[v]||(s[v]=O!==void 0?O:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(c,p,a){var f=a(15),s=0,v=Math.random(),O=f(1 .toString);c.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+O(++s+v,36)}},function(c,p,a){var f=a(7),s=a(33),v=f.document,O=s(v)&&s(v.createElement);c.exports=function(x){return O?v.createElement(x):{}}},function(c,p,a){var f=a(130),s=a(88);c.exports=function(v){var O=f(v,"string");return s(O)?O:O+""}},function(c,p,a){var f=a(7),s=a(46),v=a(28),O=a(58),x=a(128),j=f.Object;c.exports=x?function(E){return typeof E=="symbol"}:function(E){var T=s("Symbol");return v(T)&&O(T.prototype,j(E))}},function(c,p,a){var f=a(7).String;c.exports=function(s){try{return f(s)}catch{return"Object"}}},function(c,p,a){var f=a(68),s=Math.min;c.exports=function(v){return v>0?s(f(v),9007199254740991):0}},function(c,p,a){var f=a(84),s=a(85),v=f("keys");c.exports=function(O){return v[O]||(v[O]=s(O))}},function(c,p,a){var f=a(15),s=a(28),v=a(107),O=f(Function.toString);s(v.inspectSource)||(v.inspectSource=function(x){return O(x)}),c.exports=v.inspectSource},function(c,p,a){var f={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,v=s&&!f.call({1:2},1);p.f=v?function(O){var x=s(this,O);return!!x&&x.enumerable}:f},function(c,p,a){var f=a(36),s=a(34),v=Function.prototype,O=f&&Object.getOwnPropertyDescriptor,x=s(v,"name"),j=x&&(function(){}).name==="something",E=x&&(!f||f&&O(v,"name").configurable);c.exports={EXISTS:x,PROPER:j,CONFIGURABLE:E}},function(c,p,a){var f=a(19),s=a(28),v=/#|\.prototype\./,O=function(A,M){var N=j[x(A)];return N==T||N!=E&&(s(M)?f(M):!!M)},x=O.normalize=function(A){return String(A).replace(v,".").toLowerCase()},j=O.data={},E=O.NATIVE="N",T=O.POLYFILL="P";c.exports=O},function(c,p,a){var f=a(7),s=a(34),v=a(28),O=a(38),x=a(91),j=a(137),E=x("IE_PROTO"),T=f.Object,A=T.prototype;c.exports=j?T.getPrototypeOf:function(M){var N=O(M);if(s(N,E))return N[E];var R=N.constructor;return v(R)&&N instanceof R?R.prototype:N instanceof T?A:null}},function(c,p,a){var f=a(15),s=a(32),v=a(173);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var O,x=!1,j={};try{(O=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(j,[]),x=j instanceof Array}catch{}return function(E,T){return s(E),v(T),x?O(E,T):E.__proto__=T,E}}():void 0)},function(c,p,a){var f=a(7),s=a(116),v=a(28),O=a(50),x=a(27)("toStringTag"),j=f.Object,E=O(function(){return arguments}())=="Arguments";c.exports=s?O:function(T){var A,M,N;return T===void 0?"Undefined":T===null?"Null":typeof(M=function(R,I){try{return R[I]}catch{}}(A=j(T),x))=="string"?M:E?O(A):(N=O(A))=="Object"&&v(A.callee)?"Arguments":N}},function(c,p,a){var f=a(50);c.exports=Array.isArray||function(s){return f(s)=="Array"}},function(c,p,a){var f=a(15),s=a(19),v=a(28),O=a(98),x=a(46),j=a(92),E=function(){},T=[],A=x("Reflect","construct"),M=/^\s*(?:class|function)\b/,N=f(M.exec),R=!M.exec(E),I=function(G){if(!v(G))return!1;try{return A(E,T,G),!0}catch{return!1}};c.exports=!A||s(function(){var G;return I(I.call)||!I(Object)||!I(function(){G=!0})||G})?function(G){if(!v(G))return!1;switch(O(G)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return R||!!N(M,j(G))}:I},function(c,p,a){var f=a(15);c.exports=f([].slice)},function(c,p,a){var f,s,v=a(35),O=a(15),x=a(41),j=a(185),E=a(151),T=a(84),A=a(54),M=a(56).get,N=a(186),R=a(187),I=T("native-string-replace",String.prototype.replace),G=RegExp.prototype.exec,Q=G,ie=O("".charAt),$=O("".indexOf),Y=O("".replace),q=O("".slice),B=(s=/b*/g,v(G,f=/a/,"a"),v(G,s,"a"),f.lastIndex!==0||s.lastIndex!==0),D=E.BROKEN_CARET,z=/()??/.exec("")[1]!==void 0;(B||z||D||N||R)&&(Q=function(L){var F,te,fe,se,ye,xe,ge,ue=this,he=M(ue),be=x(L),je=he.raw;if(je)return je.lastIndex=ue.lastIndex,F=v(Q,je,be),ue.lastIndex=je.lastIndex,F;var Ie=he.groups,$e=D&&ue.sticky,Pe=v(j,ue),Ce=ue.source,qe=0,Z=be;if($e&&(Pe=Y(Pe,"y",""),$(Pe,"g")===-1&&(Pe+="g"),Z=q(be,ue.lastIndex),ue.lastIndex>0&&(!ue.multiline||ue.multiline&&ie(be,ue.lastIndex-1)!==`
`)&&(Ce="(?: "+Ce+")",Z=" "+Z,qe++),te=new RegExp("^(?:"+Ce+")",Pe)),z&&(te=new RegExp("^"+Ce+"$(?!\\s)",Pe)),B&&(fe=ue.lastIndex),se=v(G,$e?te:ue,Z),$e?se?(se.input=q(se.input,qe),se[0]=q(se[0],qe),se.index=ue.lastIndex,ue.lastIndex+=se[0].length):ue.lastIndex=0:B&&se&&(ue.lastIndex=ue.global?se.index+se[0].length:fe),z&&se&&se.length>1&&v(I,se[0],te,function(){for(ye=1;ye<arguments.length-2;ye++)arguments[ye]===void 0&&(se[ye]=void 0)}),se&&Ie)for(se.groups=xe=A(null),ye=0;ye<Ie.length;ye++)xe[(ge=Ie[ye])[0]]=se[ge[1]];return se}),c.exports=Q},function(c,p,a){var f=a(17),s=a(7),v=a(67),O=a(68),x=a(43),j=a(38),E=a(119),T=a(61),A=a(75)("splice"),M=s.TypeError,N=Math.max,R=Math.min,I=9007199254740991,G="Maximum allowed length exceeded";f({target:"Array",proto:!0,forced:!A},{splice:function(Q,ie){var $,Y,q,B,D,z,L=j(this),F=x(L),te=v(Q,F),fe=arguments.length;if(fe===0?$=Y=0:fe===1?($=0,Y=F-te):($=fe-2,Y=R(N(O(ie),0),F-te)),F+$-Y>I)throw M(G);for(q=E(L,Y),B=0;B<Y;B++)(D=te+B)in L&&T(q,B,L[D]);if(q.length=Y,$<Y){for(B=te;B<F-Y;B++)z=B+$,(D=B+Y)in L?L[z]=L[D]:delete L[z];for(B=F;B>F-Y+$;B--)delete L[B-1]}else if($>Y)for(B=F-Y;B>te;B--)z=B+$-1,(D=B+Y-1)in L?L[z]=L[D]:delete L[z];for(B=0;B<$;B++)L[B+te]=arguments[B+2];return L.length=F-Y+$,q}})},function(c,p,a){var f=a(17),s=a(202);f({target:"String",proto:!0,forced:a(203)("anchor")},{anchor:function(v){return s(this,"a","name",v)}})},function(c,p,a){(function(f){var s=typeof f=="object"&&f&&f.Object===Object&&f;p.a=s}).call(this,a(82))},function(c,p,a){(function(f){var s=a(31),v=g&&!g.nodeType&&g,O=v&&typeof f=="object"&&f&&!f.nodeType&&f,x=O&&O.exports===v?s.a.Buffer:void 0,j=x?x.allocUnsafe:void 0;p.a=function(E,T){if(T)return E.slice();var A=E.length,M=j?j(A):new E.constructor(A);return E.copy(M),M}}).call(this,a(121)(c))},function(c,p,a){var f=a(7),s=a(108),v="__core-js_shared__",O=f[v]||s(v,{});c.exports=O},function(c,p,a){var f=a(7),s=Object.defineProperty;c.exports=function(v,O){try{s(f,v,{value:O,configurable:!0,writable:!0})}catch{f[v]=O}return O}},function(c,p,a){var f=a(65),s=a(19);c.exports=!!Object.getOwnPropertySymbols&&!s(function(){var v=Symbol();return!String(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(c,p){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,p,a){var f=a(17),s=a(35),v=a(64),O=a(94),x=a(28),j=a(172),E=a(96),T=a(97),A=a(73),M=a(57),N=a(44),R=a(27),I=a(70),G=a(136),Q=O.PROPER,ie=O.CONFIGURABLE,$=G.IteratorPrototype,Y=G.BUGGY_SAFARI_ITERATORS,q=R("iterator"),B="keys",D="values",z="entries",L=function(){return this};c.exports=function(F,te,fe,se,ye,xe,ge){j(fe,te,se);var ue,he,be,je=function(K){if(K===ye&&qe)return qe;if(!Y&&K in Pe)return Pe[K];switch(K){case B:case D:case z:return function(){return new fe(this,K)}}return function(){return new fe(this)}},Ie=te+" Iterator",$e=!1,Pe=F.prototype,Ce=Pe[q]||Pe["@@iterator"]||ye&&Pe[ye],qe=!Y&&Ce||je(ye),Z=te=="Array"&&Pe.entries||Ce;if(Z&&(ue=E(Z.call(new F)))!==Object.prototype&&ue.next&&(v||E(ue)===$||(T?T(ue,$):x(ue[q])||N(ue,q,L)),A(ue,Ie,!0,!0),v&&(I[Ie]=L)),Q&&ye==D&&Ce&&Ce.name!==D&&(!v&&ie?M(Pe,"name",D):($e=!0,qe=function(){return s(Ce,this)})),ye)if(he={values:je(D),keys:xe?qe:je(B),entries:je(z)},ge)for(be in he)(Y||$e||!(be in Pe))&&N(Pe,be,he[be]);else f({target:te,proto:!0,forced:Y||$e},he);return v&&!ge||Pe[q]===qe||N(Pe,q,qe,{name:ye}),I[te]=qe,he}},function(c,p){p.f=Object.getOwnPropertySymbols},function(c,p,a){var f=a(7),s=a(67),v=a(43),O=a(61),x=f.Array,j=Math.max;c.exports=function(E,T,A){for(var M=v(E),N=s(T,M),R=s(A===void 0?M:A,M),I=x(j(R-N,0)),G=0;N<R;N++,G++)O(I,G,E[N]);return I.length=G,I}},function(c,p,a){var f=a(7),s=a(62),v=a(35),O=a(32),x=a(89),j=a(140),E=a(43),T=a(58),A=a(141),M=a(115),N=a(142),R=f.TypeError,I=function(Q,ie){this.stopped=Q,this.result=ie},G=I.prototype;c.exports=function(Q,ie,$){var Y,q,B,D,z,L,F,te=$&&$.that,fe=!(!$||!$.AS_ENTRIES),se=!(!$||!$.IS_ITERATOR),ye=!(!$||!$.INTERRUPTED),xe=s(ie,te),ge=function(he){return Y&&N(Y,"normal",he),new I(!0,he)},ue=function(he){return fe?(O(he),ye?xe(he[0],he[1],ge):xe(he[0],he[1])):ye?xe(he,ge):xe(he)};if(se)Y=Q;else{if(!(q=M(Q)))throw R(x(Q)+" is not iterable");if(j(q)){for(B=0,D=E(Q);D>B;B++)if((z=ue(Q[B]))&&T(G,z))return z;return new I(!1)}Y=A(Q,q)}for(L=Y.next;!(F=v(L,Y)).done;){try{z=ue(F.value)}catch(he){N(Y,"throw",he)}if(typeof z=="object"&&z&&T(G,z))return z}return new I(!1)}},function(c,p,a){var f=a(98),s=a(59),v=a(70),O=a(27)("iterator");c.exports=function(x){if(x!=null)return s(x,O)||s(x,"@@iterator")||v[f(x)]}},function(c,p,a){var f={};f[a(27)("toStringTag")]="z",c.exports=String(f)==="[object z]"},function(c,p,a){var f=a(7),s=a(58),v=f.TypeError;c.exports=function(O,x){if(s(x,O))return O;throw v("Incorrect invocation")}},function(c,p,a){var f=a(27)("iterator"),s=!1;try{var v=0,O={next:function(){return{done:!!v++}},return:function(){s=!0}};O[f]=function(){return this},Array.from(O,function(){throw 2})}catch{}c.exports=function(x,j){if(!j&&!s)return!1;var E=!1;try{var T={};T[f]=function(){return{next:function(){return{done:E=!0}}}},x(T)}catch{}return E}},function(c,p,a){var f=a(181);c.exports=function(s,v){return new(f(s))(v===0?0:v)}},function(c,p,a){var f=a(19);c.exports=function(s,v){var O=[][s];return!!O&&f(function(){O.call(null,v||function(){throw 1},1)})}},function(c,p){c.exports=function(a){if(!a.webpackPolyfill){var f=Object.create(a);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(c,p,a){a(18);var f=a(15),s=a(44),v=a(102),O=a(19),x=a(27),j=a(57),E=x("species"),T=RegExp.prototype;c.exports=function(A,M,N,R){var I=x(A),G=!O(function(){var Y={};return Y[I]=function(){return 7},""[A](Y)!=7}),Q=G&&!O(function(){var Y=!1,q=/a/;return A==="split"&&((q={}).constructor={},q.constructor[E]=function(){return q},q.flags="",q[I]=/./[I]),q.exec=function(){return Y=!0,null},q[I](""),!Y});if(!G||!Q||N){var ie=f(/./[I]),$=M(I,""[A],function(Y,q,B,D,z){var L=f(Y),F=q.exec;return F===v||F===T.exec?G&&!z?{done:!0,value:ie(q,B,D)}:{done:!0,value:L(B,q,D)}:{done:!1}});s(String.prototype,A,$[0]),s(T,I,$[1])}R&&j(T[I],"sham",!0)}},function(c,p,a){var f=a(146).charAt;c.exports=function(s,v,O){return v+(O?f(s,v).length:1)}},function(c,p,a){var f=a(7),s=a(35),v=a(32),O=a(28),x=a(50),j=a(102),E=f.TypeError;c.exports=function(T,A){var M=T.exec;if(O(M)){var N=s(M,T,A);return N!==null&&v(N),N}if(x(T)==="RegExp")return s(j,T,A);throw E("RegExp#exec called on incompatible receiver")}},function(c,p,a){var f=a(76),s=a(35),v=a(15),O=a(122),x=a(19),j=a(32),E=a(28),T=a(68),A=a(90),M=a(41),N=a(45),R=a(123),I=a(59),G=a(198),Q=a(124),ie=a(27)("replace"),$=Math.max,Y=Math.min,q=v([].concat),B=v([].push),D=v("".indexOf),z=v("".slice),L="a".replace(/./,"$0")==="$0",F=!!/./[ie]&&/./[ie]("a","$0")==="";O("replace",function(te,fe,se){var ye=F?"$":"$0";return[function(xe,ge){var ue=N(this),he=xe==null?void 0:I(xe,ie);return he?s(he,xe,ue,ge):s(fe,M(ue),xe,ge)},function(xe,ge){var ue=j(this),he=M(xe);if(typeof ge=="string"&&D(ge,ye)===-1&&D(ge,"$<")===-1){var be=se(fe,ue,he,ge);if(be.done)return be.value}var je=E(ge);je||(ge=M(ge));var Ie=ue.global;if(Ie){var $e=ue.unicode;ue.lastIndex=0}for(var Pe=[];;){var Ce=Q(ue,he);if(Ce===null||(B(Pe,Ce),!Ie))break;M(Ce[0])===""&&(ue.lastIndex=R(he,A(ue.lastIndex),$e))}for(var qe,Z="",K=0,ae=0;ae<Pe.length;ae++){for(var _e=M((Ce=Pe[ae])[0]),ke=$(Y(T(Ce.index),he.length),0),we=[],Ze=1;Ze<Ce.length;Ze++)B(we,(qe=Ce[Ze])===void 0?qe:String(qe));var nt=Ce.groups;if(je){var Je=q([_e],we,ke,he);nt!==void 0&&B(Je,nt);var Ye=M(f(ge,void 0,Je))}else Ye=G(_e,he,ke,we,nt,ge);ke>=K&&(Z+=z(he,K,ke)+Ye,K=ke+_e.length)}return Z+z(he,K)}]},!!x(function(){var te=/./;return te.exec=function(){var fe=[];return fe.groups={a:"7"},fe},"".replace(te,"$<a>")!=="7"})||!L||F)},function(c,p,a){var f=a(50),s=a(7);c.exports=f(s.process)=="process"},function(c,p,a){a(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,p,a){var f=a(109);c.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,p,a){var f=a(36),s=a(19),v=a(86);c.exports=!f&&!s(function(){return Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a!=7})},function(c,p,a){var f=a(7),s=a(35),v=a(33),O=a(88),x=a(59),j=a(170),E=a(27),T=f.TypeError,A=E("toPrimitive");c.exports=function(M,N){if(!v(M)||O(M))return M;var R,I=x(M,A);if(I){if(N===void 0&&(N="default"),R=s(I,M,N),!v(R)||O(R))return R;throw T("Can't convert object to primitive value")}return N===void 0&&(N="number"),j(M,N)}},function(c,p,a){var f=a(15),s=a(34),v=a(40),O=a(132).indexOf,x=a(69),j=f([].push);c.exports=function(E,T){var A,M=v(E),N=0,R=[];for(A in M)!s(x,A)&&s(M,A)&&j(R,A);for(;T.length>N;)s(M,A=T[N++])&&(~O(R,A)||j(R,A));return R}},function(c,p,a){var f=a(40),s=a(67),v=a(43),O=function(x){return function(j,E,T){var A,M=f(j),N=v(M),R=s(T,N);if(x&&E!=E){for(;N>R;)if((A=M[R++])!=A)return!0}else for(;N>R;R++)if((x||R in M)&&M[R]===E)return x||R||0;return!x&&-1}};c.exports={includes:O(!0),indexOf:O(!1)}},function(c,p,a){var f=a(46);c.exports=f("document","documentElement")},function(c,p,a){var f=a(34),s=a(135),v=a(51),O=a(37);c.exports=function(x,j){for(var E=s(j),T=O.f,A=v.f,M=0;M<E.length;M++){var N=E[M];f(x,N)||T(x,N,A(j,N))}}},function(c,p,a){var f=a(46),s=a(15),v=a(72),O=a(112),x=a(32),j=s([].concat);c.exports=f("Reflect","ownKeys")||function(E){var T=v.f(x(E)),A=O.f;return A?j(T,A(E)):T}},function(c,p,a){var f,s,v,O=a(19),x=a(28),j=a(54),E=a(96),T=a(44),A=a(27),M=a(64),N=A("iterator"),R=!1;[].keys&&("next"in(v=[].keys())?(s=E(E(v)))!==Object.prototype&&(f=s):R=!0),f==null||O(function(){var I={};return f[N].call(I)!==I})?f={}:M&&(f=j(f)),x(f[N])||T(f,N,function(){return this}),c.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:R}},function(c,p,a){var f=a(19);c.exports=!f(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(c,p,a){var f=a(17),s=a(15),v=a(69),O=a(33),x=a(34),j=a(37).f,E=a(72),T=a(139),A=a(175),M=a(85),N=a(177),R=!1,I=M("meta"),G=0,Q=function($){j($,I,{value:{objectID:"O"+G++,weakData:{}}})},ie=c.exports={enable:function(){ie.enable=function(){},R=!0;var $=E.f,Y=s([].splice),q={};q[I]=1,$(q).length&&(E.f=function(B){for(var D=$(B),z=0,L=D.length;z<L;z++)if(D[z]===I){Y(D,z,1);break}return D},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:T.f}))},fastKey:function($,Y){if(!O($))return typeof $=="symbol"?$:(typeof $=="string"?"S":"P")+$;if(!x($,I)){if(!A($))return"F";if(!Y)return"E";Q($)}return $[I].objectID},getWeakData:function($,Y){if(!x($,I)){if(!A($))return!0;if(!Y)return!1;Q($)}return $[I].weakData},onFreeze:function($){return N&&R&&A($)&&!x($,I)&&Q($),$}};v[I]=!0},function(c,p,a){var f=a(50),s=a(40),v=a(72).f,O=a(113),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(j){return x&&f(j)=="Window"?function(E){try{return v(E)}catch{return O(x)}}(j):v(s(j))}},function(c,p,a){var f=a(27),s=a(70),v=f("iterator"),O=Array.prototype;c.exports=function(x){return x!==void 0&&(s.Array===x||O[v]===x)}},function(c,p,a){var f=a(7),s=a(35),v=a(55),O=a(32),x=a(89),j=a(115),E=f.TypeError;c.exports=function(T,A){var M=arguments.length<2?j(T):A;if(v(M))return O(s(M,T));throw E(x(T)+" is not iterable")}},function(c,p,a){var f=a(35),s=a(32),v=a(59);c.exports=function(O,x,j){var E,T;s(O);try{if(!(E=v(O,"return"))){if(x==="throw")throw j;return j}E=f(E,O)}catch(A){T=!0,E=A}if(x==="throw")throw j;if(T)throw E;return s(E),j}},function(c,p,a){var f=a(28),s=a(33),v=a(97);c.exports=function(O,x,j){var E,T;return v&&f(E=x.constructor)&&E!==j&&s(T=E.prototype)&&T!==j.prototype&&v(O,T),O}},function(c,p,a){var f=a(44);c.exports=function(s,v,O){for(var x in v)f(s,x,v[x],O);return s}},function(c,p,a){var f=a(46),s=a(37),v=a(27),O=a(36),x=v("species");c.exports=function(j){var E=f(j),T=s.f;O&&E&&!E[x]&&T(E,x,{configurable:!0,get:function(){return this}})}},function(c,p,a){var f=a(15),s=a(68),v=a(41),O=a(45),x=f("".charAt),j=f("".charCodeAt),E=f("".slice),T=function(A){return function(M,N){var R,I,G=v(O(M)),Q=s(N),ie=G.length;return Q<0||Q>=ie?A?"":void 0:(R=j(G,Q))<55296||R>56319||Q+1===ie||(I=j(G,Q+1))<56320||I>57343?A?x(G,Q):R:A?E(G,Q,Q+2):I-56320+(R-55296<<10)+65536}};c.exports={codeAt:T(!1),charAt:T(!0)}},function(c,p){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,p,a){var f=a(86)("span").classList,s=f&&f.constructor&&f.constructor.prototype;c.exports=s===Object.prototype?void 0:s},function(c,p,a){var f=a(27);p.f=f},function(c,p,a){var f=a(182),s=a(34),v=a(149),O=a(37).f;c.exports=function(x){var j=f.Symbol||(f.Symbol={});s(j,x)||O(j,x,{value:v.f(x)})}},function(c,p,a){var f=a(19),s=a(7).RegExp,v=f(function(){var j=s("a","y");return j.lastIndex=2,j.exec("abcd")!=null}),O=v||f(function(){return!s("a","y").sticky}),x=v||f(function(){var j=s("^r","gy");return j.lastIndex=2,j.exec("str")!=null});c.exports={BROKEN_CARET:x,MISSED_STICKY:O,UNSUPPORTED_Y:v}},function(c,p,a){var f=a(17),s=a(132).includes,v=a(83);f({target:"Array",proto:!0},{includes:function(O){return s(this,O,arguments.length>1?arguments[1]:void 0)}}),v("includes")},function(c,p,a){var f=a(17),s=a(15),v=a(194),O=a(45),x=a(41),j=a(195),E=s("".indexOf);f({target:"String",proto:!0,forced:!j("includes")},{includes:function(T){return!!~E(x(O(this)),x(v(T)),arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){var f=a(33),s=a(50),v=a(27)("match");c.exports=function(O){var x;return f(O)&&((x=O[v])!==void 0?!!x:s(O)=="RegExp")}},function(c,p){var a,f,s=c.exports={};function v(){throw new Error("setTimeout has not been defined")}function O(){throw new Error("clearTimeout has not been defined")}function x(G){if(a===setTimeout)return setTimeout(G,0);if((a===v||!a)&&setTimeout)return a=setTimeout,setTimeout(G,0);try{return a(G,0)}catch{try{return a.call(null,G,0)}catch{return a.call(this,G,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:v}catch{a=v}try{f=typeof clearTimeout=="function"?clearTimeout:O}catch{f=O}})();var j,E=[],T=!1,A=-1;function M(){T&&j&&(T=!1,j.length?E=j.concat(E):A=-1,E.length&&N())}function N(){if(!T){var G=x(M);T=!0;for(var Q=E.length;Q;){for(j=E,E=[];++A<Q;)j&&j[A].run();A=-1,Q=E.length}j=null,T=!1,function(ie){if(f===clearTimeout)return clearTimeout(ie);if((f===O||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(ie);try{f(ie)}catch{try{return f.call(null,ie)}catch{return f.call(this,ie)}}}(G)}}function R(G,Q){this.fun=G,this.array=Q}function I(){}s.nextTick=function(G){var Q=new Array(arguments.length-1);if(arguments.length>1)for(var ie=1;ie<arguments.length;ie++)Q[ie-1]=arguments[ie];E.push(new R(G,Q)),E.length!==1||T||x(N)},R.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=I,s.addListener=I,s.once=I,s.off=I,s.removeListener=I,s.removeAllListeners=I,s.emit=I,s.prependListener=I,s.prependOnceListener=I,s.listeners=function(G){return[]},s.binding=function(G){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(G){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(c,p,a){var f=a(32),s=a(157),v=a(27)("species");c.exports=function(O,x){var j,E=f(O).constructor;return E===void 0||(j=f(E)[v])==null?x:s(j)}},function(c,p,a){var f=a(7),s=a(100),v=a(89),O=f.TypeError;c.exports=function(x){if(s(x))return x;throw O(v(x)+" is not a constructor")}},function(c,p,a){var f=a(17),s=a(159).trim;f({target:"String",proto:!0,forced:a(196)("trim")},{trim:function(){return s(this)}})},function(c,p,a){var f=a(15),s=a(45),v=a(41),O=a(160),x=f("".replace),j="["+O+"]",E=RegExp("^"+j+j+"*"),T=RegExp(j+j+"*$"),A=function(M){return function(N){var R=v(s(N));return 1&M&&(R=x(R,E,"")),2&M&&(R=x(R,T,"")),R}};c.exports={start:A(1),end:A(2),trim:A(3)}},function(c,p){c.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(c,p,a){var f=a(35),s=a(122),v=a(32),O=a(90),x=a(41),j=a(45),E=a(59),T=a(123),A=a(124);s("match",function(M,N,R){return[function(I){var G=j(this),Q=I==null?void 0:E(I,M);return Q?f(Q,I,G):new RegExp(I)[M](x(G))},function(I){var G=v(this),Q=x(I),ie=R(N,G,Q);if(ie.done)return ie.value;if(!G.global)return A(G,Q);var $=G.unicode;G.lastIndex=0;for(var Y,q=[],B=0;(Y=A(G,Q))!==null;){var D=x(Y[0]);q[B]=D,D===""&&(G.lastIndex=T(Q,O(G.lastIndex),$)),B++}return B===0?null:q}]})},function(c,p,a){var f=a(17),s=Math.hypot,v=Math.abs,O=Math.sqrt;f({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(x,j){for(var E,T,A=0,M=0,N=arguments.length,R=0;M<N;)R<(E=v(arguments[M++]))?(A=A*(T=R/E)*T+1,R=E):A+=E>0?(T=E/R)*T:E;return R===1/0?1/0:R*O(A)}})},function(c,p,a){var f,s,v,O,x=a(7),j=a(76),E=a(62),T=a(28),A=a(34),M=a(19),N=a(133),R=a(101),I=a(86),G=a(164),Q=a(126),ie=x.setImmediate,$=x.clearImmediate,Y=x.process,q=x.Dispatch,B=x.Function,D=x.MessageChannel,z=x.String,L=0,F={},te="onreadystatechange";try{f=x.location}catch{}var fe=function(ge){if(A(F,ge)){var ue=F[ge];delete F[ge],ue()}},se=function(ge){return function(){fe(ge)}},ye=function(ge){fe(ge.data)},xe=function(ge){x.postMessage(z(ge),f.protocol+"//"+f.host)};ie&&$||(ie=function(ge){var ue=R(arguments,1);return F[++L]=function(){j(T(ge)?ge:B(ge),void 0,ue)},s(L),L},$=function(ge){delete F[ge]},Q?s=function(ge){Y.nextTick(se(ge))}:q&&q.now?s=function(ge){q.now(se(ge))}:D&&!G?(O=(v=new D).port2,v.port1.onmessage=ye,s=E(O.postMessage,O)):x.addEventListener&&T(x.postMessage)&&!x.importScripts&&f&&f.protocol!=="file:"&&!M(xe)?(s=xe,x.addEventListener("message",ye,!1)):s=te in I("script")?function(ge){N.appendChild(I("script")).onreadystatechange=function(){N.removeChild(this),fe(ge)}}:function(ge){setTimeout(se(ge),0)}),c.exports={set:ie,clear:$}},function(c,p,a){var f=a(53);c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(c,p,a){var f=a(55),s=function(v){var O,x;this.promise=new v(function(j,E){if(O!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");O=j,x=E}),this.resolve=f(O),this.reject=f(x)};c.exports.f=function(v){return new s(v)}},function(c,p,a){p.a=function(){return!1}},function(c,p,a){(function(f){a.d(p,"a",function(){return Y});var s=a(1);function v(D){throw new Error("[mobx-utils] "+D)}function O(D,z){z===void 0&&(z="Illegal state"),D||v(z)}var x=function(D){return D&&D!==Object.prototype&&Object.getOwnPropertyNames(D).concat(x(Object.getPrototypeOf(D))||[])},j=function(D){return function(z){var L=x(z);return L.filter(function(F,te){return L.indexOf(F)===te})}(D).filter(function(z){return z!=="constructor"&&!~z.indexOf("__")})},E="pending",T="fulfilled",A="rejected";function M(D){switch(this.state){case E:return D.pending&&D.pending(this.value);case A:return D.rejected&&D.rejected(this.value);case T:return D.fulfilled?D.fulfilled(this.value):this.value}}function N(D,z){if(O(arguments.length<=2,"fromPromise expects up to two arguments"),O(typeof D=="function"||typeof D=="object"&&D&&typeof D.then=="function","Please pass a promise or function to fromPromise"),D.isPromiseBasedObservable===!0)return D;typeof D=="function"&&(D=new Promise(D));var L=D;D.then(Object(s.k)("observableFromPromise-resolve",function(te){L.value=te,L.state=T}),Object(s.k)("observableFromPromise-reject",function(te){L.value=te,L.state=A})),L.isPromiseBasedObservable=!0,L.case=M;var F=z&&z.state===T?z.value:void 0;return Object(s.q)(L,{value:F,state:E},{},{deep:!1}),L}(function(D){D.reject=Object(s.k)("fromPromise.reject",function(z){var L=D(Promise.reject(z));return L.state=A,L.value=z,L}),D.resolve=Object(s.k)("fromPromise.resolve",function(z){z===void 0&&(z=void 0);var L=D(Promise.resolve(z));return L.state=T,L.value=z,L})})(N||(N={}));var R=function(D,z,L,F){var te,fe=arguments.length,se=fe<3?z:F===null?F=Object.getOwnPropertyDescriptor(z,L):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(D,z,L,F);else for(var ye=D.length-1;ye>=0;ye--)(te=D[ye])&&(se=(fe<3?te(se):fe>3?te(z,L,se):te(z,L))||se);return fe>3&&se&&Object.defineProperty(z,L,se),se};(function(){function D(z,L){var F=this;Object(s.G)(function(){F.current=L,F.subscription=z.subscribe(F)})}D.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},D.prototype.next=function(z){this.current=z},D.prototype.complete=function(){this.dispose()},D.prototype.error=function(z){this.current=z,this.dispose()},R([s.C.ref],D.prototype,"current",void 0),R([s.k.bound],D.prototype,"next",null),R([s.k.bound],D.prototype,"complete",null),R([s.k.bound],D.prototype,"error",null)})();var I=function(){return I=Object.assign||function(D){for(var z,L=1,F=arguments.length;L<F;L++)for(var te in z=arguments[L])Object.prototype.hasOwnProperty.call(z,te)&&(D[te]=z[te]);return D},I.apply(this,arguments)},G=function(D,z,L,F){var te,fe=arguments.length,se=fe<3?z:F===null?F=Object.getOwnPropertyDescriptor(z,L):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(D,z,L,F);else for(var ye=D.length-1;ye>=0;ye--)(te=D[ye])&&(se=(fe<3?te(se):fe>3?te(z,L,se):te(z,L))||se);return fe>3&&se&&Object.defineProperty(z,L,se),se},Q=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function D(z){var L=this;this.model=z,this.localValues=s.C.map({}),this.localComputedValues=s.C.map({}),this.isPropertyDirty=function(F){return L.localValues.has(F)},O(Object(s.A)(z),"createViewModel expects an observable object"),j(z).forEach(function(F){if(F!==s.a&&F!=="__mobxDidRunLazyInitializers"){if(O(Q.indexOf(F)===-1,"The propertyname "+F+" is reserved and cannot be used with viewModels"),Object(s.w)(z,F)){var te=Object(s.h)(z,F).derivation;L.localComputedValues.set(F,Object(s.m)(te.bind(L)))}var fe=Object.getOwnPropertyDescriptor(z,F),se=fe?{enumerable:fe.enumerable}:{};Object.defineProperty(L,F,I(I({},se),{configurable:!0,get:function(){return Object(s.w)(z,F)?L.localComputedValues.get(F).get():L.isPropertyDirty(F)?L.localValues.get(F):L.model[F]},set:Object(s.k)(function(ye){ye!==L.model[F]?L.localValues.set(F,ye):L.localValues.delete(F)})}))}})}Object.defineProperty(D.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),D.prototype.submit=function(){var z=this;Object(s.B)(this.localValues).forEach(function(L){var F=z.localValues.get(L),te=z.model[L];Object(s.y)(te)?te.replace(F):Object(s.z)(te)?(te.clear(),te.merge(F)):Object(s.v)(F)||(z.model[L]=F)}),this.localValues.clear()},D.prototype.reset=function(){this.localValues.clear()},D.prototype.resetProperty=function(z){this.localValues.delete(z)},G([s.m],D.prototype,"isDirty",null),G([s.m],D.prototype,"changedValues",null),G([s.k.bound],D.prototype,"submit",null),G([s.k.bound],D.prototype,"reset",null),G([s.k.bound],D.prototype,"resetProperty",null)})();function ie(D){if(!D)return"ROOT";for(var z=[];D.parent;)z.push(D.path),D=D.parent;return z.reverse().join("/")}function $(D){return Object(s.A)(D)||Object(s.y)(D)||Object(s.z)(D)}function Y(D,z){var L=new WeakMap;function F(se){var ye=L.get(se.object);(function(xe,ge){switch(xe.type){case"add":te(xe.newValue,ge,xe.name);break;case"update":fe(xe.oldValue),te(xe.newValue,ge,xe.name||""+xe.index);break;case"remove":case"delete":fe(xe.oldValue);break;case"splice":xe.removed.map(fe),xe.added.forEach(function(be,je){return te(be,ge,""+(xe.index+je))});for(var ue=xe.index+xe.addedCount;ue<xe.object.length;ue++)if($(xe.object[ue])){var he=L.get(xe.object[ue]);he&&(he.path=""+ue)}}})(se,ye),z(se,ie(ye),D)}function te(se,ye,xe){if($(se)){var ge=L.get(se);if(ge){if(ge.parent!==ye||ge.path!==xe)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ie(ye)+"/"+xe+"', but it already exists at '"+ie(ge.parent)+"/"+ge.path+"'")}else{var ue={parent:ye,path:xe,dispose:Object(s.D)(se,F)};L.set(se,ue),Object(s.p)(se).forEach(function(he){var be=he[0];return te(he[1],ue,be)})}}}function fe(se){if($(se)){var ye=L.get(se);if(!ye)return;L.delete(se),ye.dispose(),Object(s.L)(se).forEach(fe)}}return te(D,void 0,""),function(){fe(D)}}var q,B=(q=function(D,z){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,F){L.__proto__=F}||function(L,F){for(var te in F)F.hasOwnProperty(te)&&(L[te]=F[te])},q(D,z)},function(D,z){function L(){this.constructor=D}q(D,z),D.prototype=z===null?Object.create(z):(L.prototype=z.prototype,new L)});(function(D){function z(L,F,te){var fe=te===void 0?{}:te,se=fe.name,ye=se===void 0?"ogm"+(1e3*Math.random()|0):se,xe=fe.keyToName,ge=xe===void 0?function(be){return""+be}:xe,ue=D.call(this)||this;ue._keyToName=ge,ue._groupBy=F,ue._ogmInfoKey=Symbol("ogmInfo"+ye),ue._base=L;for(var he=0;he<L.length;he++)ue._addItem(L[he]);return ue._disposeBaseObserver=Object(s.D)(ue._base,function(be){if(be.type==="splice")Object(s.J)(function(){for(var je=0,Ie=be.removed;je<Ie.length;je++){var $e=Ie[je];ue._removeItem($e)}for(var Pe=0,Ce=be.added;Pe<Ce.length;Pe++){var qe=Ce[Pe];ue._addItem(qe)}});else{if(be.type!=="update")throw new Error("illegal state");Object(s.J)(function(){ue._removeItem(be.oldValue),ue._addItem(be.newValue)})}}),ue}B(z,D),z.prototype.clear=function(){throw new Error("not supported")},z.prototype.delete=function(L){throw new Error("not supported")},z.prototype.set=function(L,F){throw new Error("not supported")},z.prototype.dispose=function(){this._disposeBaseObserver();for(var L=0;L<this._base.length;L++){var F=this._base[L];F[this._ogmInfoKey].reaction(),delete F[this._ogmInfoKey]}},z.prototype._getGroupArr=function(L){var F=D.prototype.get.call(this,L);return F===void 0&&(F=Object(s.C)([],{name:"GroupArray["+this._keyToName(L)+"]",deep:!1}),D.prototype.set.call(this,L,F)),F},z.prototype._removeFromGroupArr=function(L,F){var te=D.prototype.get.call(this,L);te.length===1?D.prototype.delete.call(this,L):(F===te.length-1||(te[F]=te[te.length-1],te[F][this._ogmInfoKey].groupArrIndex=F),te.length--)},z.prototype._addItem=function(L){var F=this,te=this._groupBy(L),fe=this._getGroupArr(te),se={groupByValue:te,groupArrIndex:fe.length,reaction:Object(s.F)(function(){return F._groupBy(L)},function(ye,xe){var ge=L[F._ogmInfoKey];F._removeFromGroupArr(ge.groupByValue,ge.groupArrIndex);var ue=F._getGroupArr(ye),he=ue.length;ue.push(L),ge.groupByValue=ye,ge.groupArrIndex=he})};Object.defineProperty(L,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:se}),fe.push(L)},z.prototype._removeItem=function(L){var F=L[this._ogmInfoKey];this._removeFromGroupArr(F.groupByValue,F.groupArrIndex),F.reaction(),delete L[this._ogmInfoKey]}})(s.b),function(){function D(z,L){this.base=z,this.args=L,this.closestIdx=0,this.isDisposed=!1;for(var F=this.closest=this.root=z,te=0;te<this.args.length-1&&(F=F.get(L[te]));te++)this.closest=F;this.closestIdx=te}return D.prototype.exists=function(){this.assertNotDisposed();var z=this.args.length;return this.closestIdx>=z-1&&this.closest.has(this.args[z-1])},D.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},D.prototype.set=function(z){this.assertNotDisposed();for(var L=this.args.length,F=this.closest,te=this.closestIdx;te<L-1;te++){var fe=new Map;F.set(this.args[te],fe),F=fe}this.closestIdx=L-1,this.closest=F,F.set(this.args[L-1],z)},D.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var z=this.args.length;this.closest.delete(this.args[z-1]);for(var L=this.root,F=[L],te=0;te<z-1;te++)L=L.get(this.args[te]),F.push(L);for(te=F.length-1;te>0;te--)F[te].size===0&&F[te-1].delete(this.args[te-1]);this.isDisposed=!0},D.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},D}(),Promise.resolve(),typeof queueMicrotask<"u"||f!==void 0&&f.nextTick}).call(this,a(155))},function(c,p,a){var f;(function(s,v,O){if(s){for(var x,j={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},E={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},M=1;M<20;++M)j[111+M]="f"+M;for(M=0;M<=9;++M)j[M+96]=M.toString();$.prototype.bind=function(Y,q,B){var D=this;return Y=Y instanceof Array?Y:[Y],D._bindMultiple.call(D,Y,q,B),D},$.prototype.unbind=function(Y,q){return this.bind.call(this,Y,function(){},q)},$.prototype.trigger=function(Y,q){var B=this;return B._directMap[Y+":"+q]&&B._directMap[Y+":"+q]({},Y),B},$.prototype.reset=function(){var Y=this;return Y._callbacks={},Y._directMap={},Y},$.prototype.stopCallback=function(Y,q){if((" "+q.className+" ").indexOf(" mousetrap ")>-1||ie(q,this.target))return!1;if("composedPath"in Y&&typeof Y.composedPath=="function"){var B=Y.composedPath()[0];B!==Y.target&&(q=B)}return q.tagName=="INPUT"||q.tagName=="SELECT"||q.tagName=="TEXTAREA"||q.isContentEditable},$.prototype.handleKey=function(){var Y=this;return Y._handleKey.apply(Y,arguments)},$.addKeycodes=function(Y){for(var q in Y)Y.hasOwnProperty(q)&&(j[q]=Y[q]);x=null},$.init=function(){var Y=$(v);for(var q in Y)q.charAt(0)!=="_"&&($[q]=function(B){return function(){return Y[B].apply(Y,arguments)}}(q))},$.init(),s.Mousetrap=$,c.exports&&(c.exports=$),(f=(function(){return $}).call(p,a,p,c))===void 0||(c.exports=f)}function N(Y,q,B){Y.addEventListener?Y.addEventListener(q,B,!1):Y.attachEvent("on"+q,B)}function R(Y){if(Y.type=="keypress"){var q=String.fromCharCode(Y.which);return Y.shiftKey||(q=q.toLowerCase()),q}return j[Y.which]?j[Y.which]:E[Y.which]?E[Y.which]:String.fromCharCode(Y.which).toLowerCase()}function I(Y){return Y=="shift"||Y=="ctrl"||Y=="alt"||Y=="meta"}function G(Y,q,B){return B||(B=function(){if(!x)for(var D in x={},j)D>95&&D<112||j.hasOwnProperty(D)&&(x[j[D]]=D);return x}()[Y]?"keydown":"keypress"),B=="keypress"&&q.length&&(B="keydown"),B}function Q(Y,q){var B,D,z,L=[];for(B=function(F){return F==="+"?["+"]:(F=F.replace(/\+{2}/g,"+plus")).split("+")}(Y),z=0;z<B.length;++z)D=B[z],A[D]&&(D=A[D]),q&&q!="keypress"&&T[D]&&(D=T[D],L.push("shift")),I(D)&&L.push(D);return{key:D,modifiers:L,action:q=G(D,L,q)}}function ie(Y,q){return Y!==null&&Y!==v&&(Y===q||ie(Y.parentNode,q))}function $(Y){var q=this;if(Y=Y||v,!(q instanceof $))return new $(Y);q.target=Y,q._callbacks={},q._directMap={};var B,D={},z=!1,L=!1,F=!1;function te(ue){ue=ue||{};var he,be=!1;for(he in D)ue[he]?be=!0:D[he]=0;be||(F=!1)}function fe(ue,he,be,je,Ie,$e){var Pe,Ce,qe,Z,K=[],ae=be.type;if(!q._callbacks[ue])return[];for(ae=="keyup"&&I(ue)&&(he=[ue]),Pe=0;Pe<q._callbacks[ue].length;++Pe)if(Ce=q._callbacks[ue][Pe],(je||!Ce.seq||D[Ce.seq]==Ce.level)&&ae==Ce.action&&(ae=="keypress"&&!be.metaKey&&!be.ctrlKey||(qe=he,Z=Ce.modifiers,qe.sort().join(",")===Z.sort().join(",")))){var _e=!je&&Ce.combo==Ie,ke=je&&Ce.seq==je&&Ce.level==$e;(_e||ke)&&q._callbacks[ue].splice(Pe,1),K.push(Ce)}return K}function se(ue,he,be,je){q.stopCallback(he,he.target||he.srcElement,be,je)||ue(he,be)===!1&&(function(Ie){Ie.preventDefault?Ie.preventDefault():Ie.returnValue=!1}(he),function(Ie){Ie.stopPropagation?Ie.stopPropagation():Ie.cancelBubble=!0}(he))}function ye(ue){typeof ue.which!="number"&&(ue.which=ue.keyCode);var he=R(ue);he&&(ue.type!="keyup"||z!==he?q.handleKey(he,function(be){var je=[];return be.shiftKey&&je.push("shift"),be.altKey&&je.push("alt"),be.ctrlKey&&je.push("ctrl"),be.metaKey&&je.push("meta"),je}(ue),ue):z=!1)}function xe(ue,he,be,je){function Ie(qe){return function(){F=qe,++D[ue],clearTimeout(B),B=setTimeout(te,1e3)}}function $e(qe){se(be,qe,ue),je!=="keyup"&&(z=R(qe)),setTimeout(te,10)}D[ue]=0;for(var Pe=0;Pe<he.length;++Pe){var Ce=Pe+1===he.length?$e:Ie(je||Q(he[Pe+1]).action);ge(he[Pe],Ce,je,ue,Pe)}}function ge(ue,he,be,je,Ie){q._directMap[ue+":"+be]=he;var $e,Pe=(ue=ue.replace(/\s+/g," ")).split(" ");Pe.length>1?xe(ue,Pe,he,be):($e=Q(ue,be),q._callbacks[$e.key]=q._callbacks[$e.key]||[],fe($e.key,$e.modifiers,{type:$e.action},je,ue,Ie),q._callbacks[$e.key][je?"unshift":"push"]({callback:he,modifiers:$e.modifiers,action:$e.action,seq:je,level:Ie,combo:ue}))}q._handleKey=function(ue,he,be){var je,Ie=fe(ue,he,be),$e={},Pe=0,Ce=!1;for(je=0;je<Ie.length;++je)Ie[je].seq&&(Pe=Math.max(Pe,Ie[je].level));for(je=0;je<Ie.length;++je)if(Ie[je].seq){if(Ie[je].level!=Pe)continue;Ce=!0,$e[Ie[je].seq]=1,se(Ie[je].callback,be,Ie[je].combo,Ie[je].seq)}else Ce||se(Ie[je].callback,be,Ie[je].combo);var qe=be.type=="keypress"&&L;be.type!=F||I(ue)||qe||te($e),L=Ce&&be.type=="keydown"},q._bindMultiple=function(ue,he,be){for(var je=0;je<ue.length;++je)ge(ue[je],he,be)},N(Y,"keypress",ye),N(Y,"keydown",ye),N(Y,"keyup",ye)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(c,p,a){var f=a(36),s=a(37),v=a(32),O=a(40),x=a(66);c.exports=f?Object.defineProperties:function(j,E){v(j);for(var T,A=O(E),M=x(E),N=M.length,R=0;N>R;)s.f(j,T=M[R++],A[T]);return j}},function(c,p,a){var f=a(7),s=a(35),v=a(28),O=a(33),x=f.TypeError;c.exports=function(j,E){var T,A;if(E==="string"&&v(T=j.toString)&&!O(A=s(T,j))||v(T=j.valueOf)&&!O(A=s(T,j))||E!=="string"&&v(T=j.toString)&&!O(A=s(T,j)))return A;throw x("Can't convert object to primitive value")}},function(c,p,a){var f=a(7),s=a(28),v=a(92),O=f.WeakMap;c.exports=s(O)&&/native code/.test(v(O))},function(c,p,a){var f=a(136).IteratorPrototype,s=a(54),v=a(71),O=a(73),x=a(70),j=function(){return this};c.exports=function(E,T,A,M){var N=T+" Iterator";return E.prototype=s(f,{next:v(+!M,A)}),O(E,N,!1,!0),x[N]=j,E}},function(c,p,a){var f=a(7),s=a(28),v=f.String,O=f.TypeError;c.exports=function(x){if(typeof x=="object"||s(x))return x;throw O("Can't set "+v(x)+" as a prototype")}},function(c,p,a){var f=a(17),s=a(7),v=a(15),O=a(95),x=a(44),j=a(138),E=a(114),T=a(117),A=a(28),M=a(33),N=a(19),R=a(118),I=a(73),G=a(143);c.exports=function(Q,ie,$){var Y=Q.indexOf("Map")!==-1,q=Q.indexOf("Weak")!==-1,B=Y?"set":"add",D=s[Q],z=D&&D.prototype,L=D,F={},te=function(ue){var he=v(z[ue]);x(z,ue,ue=="add"?function(be){return he(this,be===0?0:be),this}:ue=="delete"?function(be){return!(q&&!M(be))&&he(this,be===0?0:be)}:ue=="get"?function(be){return q&&!M(be)?void 0:he(this,be===0?0:be)}:ue=="has"?function(be){return!(q&&!M(be))&&he(this,be===0?0:be)}:function(be,je){return he(this,be===0?0:be,je),this})};if(O(Q,!A(D)||!(q||z.forEach&&!N(function(){new D().entries().next()}))))L=$.getConstructor(ie,Q,Y,B),j.enable();else if(O(Q,!0)){var fe=new L,se=fe[B](q?{}:-0,1)!=fe,ye=N(function(){fe.has(1)}),xe=R(function(ue){new D(ue)}),ge=!q&&N(function(){for(var ue=new D,he=5;he--;)ue[B](he,he);return!ue.has(-0)});xe||((L=ie(function(ue,he){T(ue,z);var be=G(new D,ue,L);return he!=null&&E(he,be[B],{that:be,AS_ENTRIES:Y}),be})).prototype=z,z.constructor=L),(ye||ge)&&(te("delete"),te("has"),Y&&te("get")),(ge||se)&&te(B),q&&z.clear&&delete z.clear}return F[Q]=L,f({global:!0,forced:L!=D},F),I(L,Q),q||$.setStrong(L,Q,Y),L}},function(c,p,a){var f=a(19),s=a(33),v=a(50),O=a(176),x=Object.isExtensible,j=f(function(){});c.exports=j||O?function(E){return!!s(E)&&(!O||v(E)!="ArrayBuffer")&&(!x||x(E))}:x},function(c,p,a){var f=a(19);c.exports=f(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},function(c,p,a){var f=a(19);c.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,p,a){var f=a(37).f,s=a(54),v=a(144),O=a(62),x=a(117),j=a(114),E=a(111),T=a(145),A=a(36),M=a(138).fastKey,N=a(56),R=N.set,I=N.getterFor;c.exports={getConstructor:function(G,Q,ie,$){var Y=G(function(L,F){x(L,q),R(L,{type:Q,index:s(null),first:void 0,last:void 0,size:0}),A||(L.size=0),F!=null&&j(F,L[$],{that:L,AS_ENTRIES:ie})}),q=Y.prototype,B=I(Q),D=function(L,F,te){var fe,se,ye=B(L),xe=z(L,F);return xe?xe.value=te:(ye.last=xe={index:se=M(F,!0),key:F,value:te,previous:fe=ye.last,next:void 0,removed:!1},ye.first||(ye.first=xe),fe&&(fe.next=xe),A?ye.size++:L.size++,se!=="F"&&(ye.index[se]=xe)),L},z=function(L,F){var te,fe=B(L),se=M(F);if(se!=="F")return fe.index[se];for(te=fe.first;te;te=te.next)if(te.key==F)return te};return v(q,{clear:function(){for(var L=B(this),F=L.index,te=L.first;te;)te.removed=!0,te.previous&&(te.previous=te.previous.next=void 0),delete F[te.index],te=te.next;L.first=L.last=void 0,A?L.size=0:this.size=0},delete:function(L){var F=this,te=B(F),fe=z(F,L);if(fe){var se=fe.next,ye=fe.previous;delete te.index[fe.index],fe.removed=!0,ye&&(ye.next=se),se&&(se.previous=ye),te.first==fe&&(te.first=se),te.last==fe&&(te.last=ye),A?te.size--:F.size--}return!!fe},forEach:function(L){for(var F,te=B(this),fe=O(L,arguments.length>1?arguments[1]:void 0);F=F?F.next:te.first;)for(fe(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(L){return!!z(this,L)}}),v(q,ie?{get:function(L){var F=z(this,L);return F&&F.value},set:function(L,F){return D(this,L===0?0:L,F)}}:{add:function(L){return D(this,L=L===0?0:L,L)}}),A&&f(q,"size",{get:function(){return B(this).size}}),Y},setStrong:function(G,Q,ie){var $=Q+" Iterator",Y=I(Q),q=I($);E(G,Q,function(B,D){R(this,{type:$,target:B,state:Y(B),kind:D,last:void 0})},function(){for(var B=q(this),D=B.kind,z=B.last;z&&z.removed;)z=z.previous;return B.target&&(B.last=z=z?z.next:B.state.first)?D=="keys"?{value:z.key,done:!1}:D=="values"?{value:z.value,done:!1}:{value:[z.key,z.value],done:!1}:(B.target=void 0,{value:void 0,done:!0})},ie?"entries":"values",!ie,!0),T(Q)}}},function(c,p,a){var f=a(116),s=a(98);c.exports=f?{}.toString:function(){return"[object "+s(this)+"]"}},function(c,p,a){var f=a(74).forEach,s=a(120)("forEach");c.exports=s?[].forEach:function(v){return f(this,v,arguments.length>1?arguments[1]:void 0)}},function(c,p,a){var f=a(7),s=a(99),v=a(100),O=a(33),x=a(27)("species"),j=f.Array;c.exports=function(E){var T;return s(E)&&(T=E.constructor,(v(T)&&(T===j||s(T.prototype))||O(T)&&(T=T[x])===null)&&(T=void 0)),T===void 0?j:T}},function(c,p,a){var f=a(7);c.exports=f},function(c,p,a){var f=a(7),s=a(62),v=a(35),O=a(38),x=a(184),j=a(140),E=a(100),T=a(43),A=a(61),M=a(141),N=a(115),R=f.Array;c.exports=function(I){var G=O(I),Q=E(this),ie=arguments.length,$=ie>1?arguments[1]:void 0,Y=$!==void 0;Y&&($=s($,ie>2?arguments[2]:void 0));var q,B,D,z,L,F,te=N(G),fe=0;if(!te||this==R&&j(te))for(q=T(G),B=Q?new this(q):R(q);q>fe;fe++)F=Y?$(G[fe],fe):G[fe],A(B,fe,F);else for(L=(z=M(G,te)).next,B=Q?new this:[];!(D=v(L,z)).done;fe++)F=Y?x(z,$,[D.value,fe],!0):D.value,A(B,fe,F);return B.length=fe,B}},function(c,p,a){var f=a(32),s=a(142);c.exports=function(v,O,x,j){try{return j?O(f(x)[0],x[1]):O(x)}catch(E){s(v,"throw",E)}}},function(c,p,a){var f=a(32);c.exports=function(){var s=f(this),v="";return s.global&&(v+="g"),s.ignoreCase&&(v+="i"),s.multiline&&(v+="m"),s.dotAll&&(v+="s"),s.unicode&&(v+="u"),s.sticky&&(v+="y"),v}},function(c,p,a){var f=a(19),s=a(7).RegExp;c.exports=f(function(){var v=s(".","s");return!(v.dotAll&&v.exec(`
`)&&v.flags==="s")})},function(c,p,a){var f=a(19),s=a(7).RegExp;c.exports=f(function(){var v=s("(?<a>b)","g");return v.exec("b").groups.a!=="b"||"b".replace(v,"$<a>c")!=="bc"})},function(c,p,a){var f=a(17),s=a(15),v=a(55),O=a(38),x=a(43),j=a(41),E=a(19),T=a(189),A=a(120),M=a(190),N=a(191),R=a(65),I=a(192),G=[],Q=s(G.sort),ie=s(G.push),$=E(function(){G.sort(void 0)}),Y=E(function(){G.sort(null)}),q=A("sort"),B=!E(function(){if(R)return R<70;if(!(M&&M>3)){if(N)return!0;if(I)return I<603;var D,z,L,F,te="";for(D=65;D<76;D++){switch(z=String.fromCharCode(D),D){case 66:case 69:case 70:case 72:L=3;break;case 68:case 71:L=4;break;default:L=2}for(F=0;F<47;F++)G.push({k:z+F,v:L})}for(G.sort(function(fe,se){return se.v-fe.v}),F=0;F<G.length;F++)z=G[F].k.charAt(0),te.charAt(te.length-1)!==z&&(te+=z);return te!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:$||!Y||!q||!B},{sort:function(D){D!==void 0&&v(D);var z=O(this);if(B)return D===void 0?Q(z):Q(z,D);var L,F,te=[],fe=x(z);for(F=0;F<fe;F++)F in z&&ie(te,z[F]);for(T(te,function(se){return function(ye,xe){return xe===void 0?-1:ye===void 0?1:se!==void 0?+se(ye,xe)||0:j(ye)>j(xe)?1:-1}}(D)),L=te.length,F=0;F<L;)z[F]=te[F++];for(;F<fe;)delete z[F++];return z}})},function(c,p,a){var f=a(113),s=Math.floor,v=function(j,E){var T=j.length,A=s(T/2);return T<8?O(j,E):x(j,v(f(j,0,A),E),v(f(j,A),E),E)},O=function(j,E){for(var T,A,M=j.length,N=1;N<M;){for(A=N,T=j[N];A&&E(j[A-1],T)>0;)j[A]=j[--A];A!==N++&&(j[A]=T)}return j},x=function(j,E,T,A){for(var M=E.length,N=T.length,R=0,I=0;R<M||I<N;)j[R+I]=R<M&&I<N?A(E[R],T[I])<=0?E[R++]:T[I++]:R<M?E[R++]:T[I++];return j};c.exports=v},function(c,p,a){var f=a(53).match(/firefox\/(\d+)/i);c.exports=!!f&&+f[1]},function(c,p,a){var f=a(53);c.exports=/MSIE|Trident/.test(f)},function(c,p,a){var f=a(53).match(/AppleWebKit\/(\d+)\./);c.exports=!!f&&+f[1]},function(c,p,a){var f=a(17),s=a(74).find,v=a(83),O="find",x=!0;O in[]&&Array(1).find(function(){x=!1}),f({target:"Array",proto:!0,forced:x},{find:function(j){return s(this,j,arguments.length>1?arguments[1]:void 0)}}),v(O)},function(c,p,a){var f=a(7),s=a(154),v=f.TypeError;c.exports=function(O){if(s(O))throw v("The method doesn't accept regular expressions");return O}},function(c,p,a){var f=a(27)("match");c.exports=function(s){var v=/./;try{"/./"[s](v)}catch{try{return v[f]=!1,"/./"[s](v)}catch{}}return!1}},function(c,p,a){var f=a(94).PROPER,s=a(19),v=a(160);c.exports=function(O){return s(function(){return!!v[O]()||"​᠎"[O]()!=="​᠎"||f&&v[O].name!==O})}},function(c,p,a){var f=a(15);c.exports=f(1 .valueOf)},function(c,p,a){var f=a(15),s=a(38),v=Math.floor,O=f("".charAt),x=f("".replace),j=f("".slice),E=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,T=/\$([$&'`]|\d{1,2})/g;c.exports=function(A,M,N,R,I,G){var Q=N+A.length,ie=R.length,$=T;return I!==void 0&&(I=s(I),$=E),x(G,$,function(Y,q){var B;switch(O(q,0)){case"$":return"$";case"&":return A;case"`":return j(M,0,N);case"'":return j(M,Q);case"<":B=I[j(q,1,-1)];break;default:var D=+q;if(D===0)return Y;if(D>ie){var z=v(D/10);return z===0?Y:z<=ie?R[z-1]===void 0?O(q,1):R[z-1]+O(q,1):Y}B=R[D-1]}return B===void 0?"":B})}},function(c,p,a){var f=a(36),s=a(15),v=a(35),O=a(19),x=a(66),j=a(112),E=a(93),T=a(38),A=a(81),M=Object.assign,N=Object.defineProperty,R=s([].concat);c.exports=!M||O(function(){if(f&&M({b:1},M(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var I={},G={},Q=Symbol(),ie="abcdefghijklmnopqrst";return I[Q]=7,ie.split("").forEach(function($){G[$]=$}),M({},I)[Q]!=7||x(M({},G)).join("")!=ie})?function(I,G){for(var Q=T(I),ie=arguments.length,$=1,Y=j.f,q=E.f;ie>$;)for(var B,D=A(arguments[$++]),z=Y?R(x(D),Y(D)):x(D),L=z.length,F=0;L>F;)B=z[F++],f&&!v(q,D,B)||(Q[B]=D[B]);return Q}:M},function(c,p,a){var f=a(7),s=a(15),v=a(55),O=a(33),x=a(34),j=a(101),E=f.Function,T=s([].concat),A=s([].join),M={},N=function(R,I,G){if(!x(M,I)){for(var Q=[],ie=0;ie<I;ie++)Q[ie]="a["+ie+"]";M[I]=E("C,a","return new C("+A(Q,",")+")")}return M[I](R,G)};c.exports=E.bind||function(R){var I=v(this),G=I.prototype,Q=j(arguments,1),ie=function(){var $=T(Q,j(arguments));return this instanceof ie?N(I,$.length,$):I.apply(R,$)};return O(G)&&(ie.prototype=G),ie}},function(c,p,a){var f=a(34);c.exports=function(s){return s!==void 0&&(f(s,"value")||f(s,"writable"))}},function(c,p,a){var f=a(15),s=a(45),v=a(41),O=/"/g,x=f("".replace);c.exports=function(j,E,T,A){var M=v(s(j)),N="<"+E;return T!==""&&(N+=" "+T+'="'+x(v(A),O,"&quot;")+'"'),N+">"+M+"</"+E+">"}},function(c,p,a){var f=a(19);c.exports=function(s){return f(function(){var v=""[s]('"');return v!==v.toLowerCase()||v.split('"').length>3})}},function(c,p,a){var f,s,v,O,x=a(17),j=a(64),E=a(7),T=a(46),A=a(35),M=a(205),N=a(44),R=a(144),I=a(97),G=a(73),Q=a(145),ie=a(55),$=a(28),Y=a(33),q=a(117),B=a(92),D=a(114),z=a(118),L=a(156),F=a(163).set,te=a(206),fe=a(209),se=a(210),ye=a(165),xe=a(211),ge=a(56),ue=a(95),he=a(27),be=a(212),je=a(126),Ie=a(65),$e=he("species"),Pe="Promise",Ce=ge.getterFor(Pe),qe=ge.set,Z=ge.getterFor(Pe),K=M&&M.prototype,ae=M,_e=K,ke=E.TypeError,we=E.document,Ze=E.process,nt=ye.f,Je=nt,Ye=!!(we&&we.createEvent&&E.dispatchEvent),ve=$(E.PromiseRejectionEvent),Fe="unhandledrejection",ee=!1,Le=ue(Pe,function(){var V=B(ae),ce=V!==String(ae);if(!ce&&Ie===66||j&&!_e.finally)return!0;if(Ie>=51&&/native code/.test(V))return!1;var De=new ae(function(Ue){Ue(1)}),Me=function(Ue){Ue(function(){},function(){})};return(De.constructor={})[$e]=Me,!(ee=De.then(function(){})instanceof Me)||!ce&&be&&!ve}),ut=Le||!z(function(V){ae.all(V).catch(function(){})}),vt=function(V){var ce;return!(!Y(V)||!$(ce=V.then))&&ce},it=function(V,ce){if(!V.notified){V.notified=!0;var De=V.reactions;te(function(){for(var Me=V.value,Ue=V.state==1,ft=0;De.length>ft;){var Ft,Kt,Ct,Rt=De[ft++],ze=Ue?Rt.ok:Rt.fail,We=Rt.resolve,et=Rt.reject,rt=Rt.domain;try{ze?(Ue||(V.rejection===2&&at(V),V.rejection=1),ze===!0?Ft=Me:(rt&&rt.enter(),Ft=ze(Me),rt&&(rt.exit(),Ct=!0)),Ft===Rt.promise?et(ke("Promise-chain cycle")):(Kt=vt(Ft))?A(Kt,Ft,We,et):We(Ft)):et(Me)}catch(wt){rt&&!Ct&&rt.exit(),et(wt)}}V.reactions=[],V.notified=!1,ce&&!V.rejection&&jt(V)})}},yt=function(V,ce,De){var Me,Ue;Ye?((Me=we.createEvent("Event")).promise=ce,Me.reason=De,Me.initEvent(V,!1,!0),E.dispatchEvent(Me)):Me={promise:ce,reason:De},!ve&&(Ue=E["on"+V])?Ue(Me):V===Fe&&se("Unhandled promise rejection",De)},jt=function(V){A(F,E,function(){var ce,De=V.facade,Me=V.value;if(Pt(V)&&(ce=xe(function(){je?Ze.emit("unhandledRejection",Me,De):yt(Fe,De,Me)}),V.rejection=je||Pt(V)?2:1,ce.error))throw ce.value})},Pt=function(V){return V.rejection!==1&&!V.parent},at=function(V){A(F,E,function(){var ce=V.facade;je?Ze.emit("rejectionHandled",ce):yt("rejectionhandled",ce,V.value)})},Nt=function(V,ce,De){return function(Me){V(ce,Me,De)}},X=function(V,ce,De){V.done||(V.done=!0,De&&(V=De),V.value=ce,V.state=2,it(V,!0))},ne=function(V,ce,De){if(!V.done){V.done=!0,De&&(V=De);try{if(V.facade===ce)throw ke("Promise can't be resolved itself");var Me=vt(ce);Me?te(function(){var Ue={done:!1};try{A(Me,ce,Nt(ne,Ue,V),Nt(X,Ue,V))}catch(ft){X(Ue,ft,V)}}):(V.value=ce,V.state=1,it(V,!1))}catch(Ue){X({done:!1},Ue,V)}}};if(Le&&(_e=(ae=function(V){q(this,_e),ie(V),A(f,this);var ce=Ce(this);try{V(Nt(ne,ce),Nt(X,ce))}catch(De){X(ce,De)}}).prototype,(f=function(V){qe(this,{type:Pe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=R(_e,{then:function(V,ce){var De=Z(this),Me=De.reactions,Ue=nt(L(this,ae));return Ue.ok=!$(V)||V,Ue.fail=$(ce)&&ce,Ue.domain=je?Ze.domain:void 0,De.parent=!0,Me[Me.length]=Ue,De.state!=0&&it(De,!1),Ue.promise},catch:function(V){return this.then(void 0,V)}}),s=function(){var V=new f,ce=Ce(V);this.promise=V,this.resolve=Nt(ne,ce),this.reject=Nt(X,ce)},ye.f=nt=function(V){return V===ae||V===v?new s(V):Je(V)},!j&&$(M)&&K!==Object.prototype)){O=K.then,ee||(N(K,"then",function(V,ce){var De=this;return new ae(function(Me,Ue){A(O,De,Me,Ue)}).then(V,ce)},{unsafe:!0}),N(K,"catch",_e.catch,{unsafe:!0}));try{delete K.constructor}catch{}I&&I(K,_e)}x({global:!0,wrap:!0,forced:Le},{Promise:ae}),G(ae,Pe,!1,!0),Q(Pe),v=T(Pe),x({target:Pe,stat:!0,forced:Le},{reject:function(V){var ce=nt(this);return A(ce.reject,void 0,V),ce.promise}}),x({target:Pe,stat:!0,forced:j||Le},{resolve:function(V){return fe(j&&this===v?ae:this,V)}}),x({target:Pe,stat:!0,forced:ut},{all:function(V){var ce=this,De=nt(ce),Me=De.resolve,Ue=De.reject,ft=xe(function(){var Ft=ie(ce.resolve),Kt=[],Ct=0,Rt=1;D(V,function(ze){var We=Ct++,et=!1;Rt++,A(Ft,ce,ze).then(function(rt){et||(et=!0,Kt[We]=rt,--Rt||Me(Kt))},Ue)}),--Rt||Me(Kt)});return ft.error&&Ue(ft.value),De.promise},race:function(V){var ce=this,De=nt(ce),Me=De.reject,Ue=xe(function(){var ft=ie(ce.resolve);D(V,function(Ft){A(ft,ce,Ft).then(De.resolve,Me)})});return Ue.error&&Me(Ue.value),De.promise}})},function(c,p,a){var f=a(7);c.exports=f.Promise},function(c,p,a){var f,s,v,O,x,j,E,T,A=a(7),M=a(62),N=a(51).f,R=a(163).set,I=a(164),G=a(207),Q=a(208),ie=a(126),$=A.MutationObserver||A.WebKitMutationObserver,Y=A.document,q=A.process,B=A.Promise,D=N(A,"queueMicrotask"),z=D&&D.value;z||(f=function(){var L,F;for(ie&&(L=q.domain)&&L.exit();s;){F=s.fn,s=s.next;try{F()}catch(te){throw s?O():v=void 0,te}}v=void 0,L&&L.enter()},I||ie||Q||!$||!Y?!G&&B&&B.resolve?((E=B.resolve(void 0)).constructor=B,T=M(E.then,E),O=function(){T(f)}):ie?O=function(){q.nextTick(f)}:(R=M(R,A),O=function(){R(f)}):(x=!0,j=Y.createTextNode(""),new $(f).observe(j,{characterData:!0}),O=function(){j.data=x=!x})),c.exports=z||function(L){var F={fn:L,next:void 0};v&&(v.next=F),s||(s=F,O()),v=F}},function(c,p,a){var f=a(53),s=a(7);c.exports=/ipad|iphone|ipod/i.test(f)&&s.Pebble!==void 0},function(c,p,a){var f=a(53);c.exports=/web0s(?!.*chrome)/i.test(f)},function(c,p,a){var f=a(32),s=a(33),v=a(165);c.exports=function(O,x){if(f(O),s(x)&&x.constructor===O)return x;var j=v.f(O);return(0,j.resolve)(x),j.promise}},function(c,p,a){var f=a(7);c.exports=function(s,v){var O=f.console;O&&O.error&&(arguments.length==1?O.error(s):O.error(s,v))}},function(c,p){c.exports=function(a){try{return{error:!1,value:a()}}catch(f){return{error:!0,value:f}}}},function(c,p){c.exports=typeof window=="object"},function(c,p,a){var f=a(36),s=a(15),v=a(66),O=a(40),x=s(a(93).f),j=s([].push),E=function(T){return function(A){for(var M,N=O(A),R=v(N),I=R.length,G=0,Q=[];I>G;)M=R[G++],f&&!x(N,M)||j(Q,T?[M,N[M]]:N[M]);return Q}};c.exports={entries:E(!0),values:E(!1)}},function(c,p,a){var f=a(38),s=a(67),v=a(43);c.exports=function(O){for(var x=f(this),j=v(x),E=arguments.length,T=s(E>1?arguments[1]:void 0,j),A=E>2?arguments[2]:void 0,M=A===void 0?j:s(A,j);M>T;)x[T++]=O;return x}},function(c,p,a){a.r(p),a.d(p,"observer",function(){return Fn}),a.d(p,"LogicFlow",function(){return Vl}),a.d(p,"h",function(){return ee.g}),a.d(p,"LogicFlowUtil",function(){return f}),a.d(p,"BaseNode",function(){return br}),a.d(p,"RectNode",function(){return Bs}),a.d(p,"CircleNode",function(){return Gs}),a.d(p,"PolygonNode",function(){return Ks}),a.d(p,"DiamondNode",function(){return Js}),a.d(p,"EllipseNode",function(){return rl}),a.d(p,"TextNode",function(){return al}),a.d(p,"HtmlNode",function(){return ll}),a.d(p,"BaseEdge",function(){return yi}),a.d(p,"LineEdge",function(){return El}),a.d(p,"PolylineEdge",function(){return Al}),a.d(p,"BezierEdge",function(){return Nl}),a.d(p,"Arrow",function(){return r_}),a.d(p,"BaseEdgeModel",function(){return ac}),a.d(p,"BezierEdgeModel",function(){return Kc}),a.d(p,"LineEdgeModel",function(){return fc}),a.d(p,"PolylineEdgeModel",function(){return yc}),a.d(p,"BaseNodeModel",function(){return vr}),a.d(p,"CircleNodeModel",function(){return es}),a.d(p,"DiamondNodeModel",function(){return is}),a.d(p,"EllipseNodeModel",function(){return ss}),a.d(p,"PolygonNodeModel",function(){return ys}),a.d(p,"RectNodeModel",function(){return ms}),a.d(p,"TextNodeModel",function(){return xs}),a.d(p,"HtmlNodeModel",function(){return Ss}),a.d(p,"EditConfigModel",function(){return Cf}),a.d(p,"GraphModel",function(){return jd}),a.d(p,"SnaplineModel",function(){return iy}),a.d(p,"Keyboard",function(){return Yy}),a.d(p,"get",function(){return $d}),a.d(p,"defaults",function(){return Zd}),a.d(p,"ElementState",function(){return _t}),a.d(p,"ModelType",function(){return ht}),a.d(p,"ElementType",function(){return Xt}),a.d(p,"EventType",function(){return tt}),a.d(p,"formateAnchorConnectValidateData",function(){return ei});var f={};a.r(f),a.d(f,"createUuid",function(){return Dr}),a.d(f,"refreshGraphId",function(){return ub}),a.d(f,"createDrag",function(){return Ib}),a.d(f,"StepDrag",function(){return dr});var s=a(1),v=a(10);if(!v.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!s.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var O=a(42),x=Object(O.b)("observerBatching");function j(e){e()}var E=!1;function T(){return E}function A(e){return Object(s.t)(e)}var M,N=1e4,R=new Set;function I(){M===void 0&&(M=setTimeout(G,1e4))}function G(){M=void 0;var e=Date.now();R.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,R.delete(t))}),R.size>0&&I()}var Q=!1,ie=[],$={};function Y(e){return"observer"+e}function q(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=$),T();var r,i=function(m){return function(){Q?ie.push(m):m()}}((n.useForceUpdate||O.d)()),o=v.d.useRef(null);if(!o.current){var u=new s.c(Y(t),function(){l.mounted?i():(u.dispose(),o.current=null)}),l=function(m){return{cleanAt:Date.now()+N,reaction:m}}(u);o.current=l,r=o,R.add(r),I()}var d=o.current.reaction;return v.d.useDebugValue(d,A),v.d.useEffect(function(){var m;return m=o,R.delete(m),o.current?o.current.mounted=!0:(o.current={reaction:new s.c(Y(t),function(){i()}),cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(m){Q=!0,ie=[];try{var _=m();Q=!1;var S=ie.length>0?ie:void 0;return v.d.useLayoutEffect(function(){S&&S.forEach(function(P){return P()})},[S]),_}finally{Q=!1}}(function(){var m,_;if(d.track(function(){try{m=e()}catch(S){_=S}}),_)throw _;return m})}var B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},B.apply(this,arguments)};function D(e,t){var n,r,i,o=B({forwardRef:!1},t),u=e.displayName||e.name,l=function(d,m){return q(function(){return e(d,m)},u)};return l.displayName=u,n=o.forwardRef?Object(v.f)(Object(v.e)(l)):Object(v.f)(l),r=e,i=n,Object.keys(r).forEach(function(d){z[d]||Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var z={$$typeof:!0,render:!0,compare:!0,type:!0};function L(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:q(r)}function F(e,t,n,r,i){var o=t==="children"?"render":"children",u=typeof e[t]=="function",l=typeof e[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}L.propTypes={children:F,render:F},L.displayName="Observer";var te;(te=v.g)||(te=j),Object(s.n)({reactionScheduler:te}),Object(O.a)()[x]=!0;var fe=0,se={};function ye(e){return se[e]||(se[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+fe+")";return fe++,n}(e)),se[e]}function xe(e,t){if(ge(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!ge(e[n[i]],t[n[i]]))return!1;return!0}function ge(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ue(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var he=ye("patchMixins"),be=ye("patchedDefinition");function je(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,i)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(l){l.apply(n,i)})}}function Ie(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];je.call.apply(je,[this,e,t].concat(r))}}function $e(e,t,n){var r=function(l,d){var m=l[he]=l[he]||{},_=m[d]=m[d]||{};return _.locks=_.locks||0,_.methods=_.methods||[],_}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[be]){var o=e[t],u=Pe(e,t,i?i.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}function Pe(e,t,n,r,i){var o,u=Ie(i,r);return(o={})[be]=!0,o.get=function(){return u},o.set=function(l){if(this===e)u=Ie(l,r);else{var d=Pe(this,t,n,r,l);Object.defineProperty(this,t,d)}},o.configurable=!0,o.enumerable=n,o}var Ce=s.a||"$mobx",qe=ye("isMobXReactObserver"),Z=ye("isUnmounted"),K=ye("skipRender"),ae=ye("isForcingUpdate");function _e(e){var t=e.prototype;if(e[qe]?ke(t):e[qe]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==v.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==Ze)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=Ze;nt(t,"props"),nt(t,"state");var n=t.render;return t.render=function(){return we.call(this,n)},$e(t,"componentWillUnmount",function(){var r;(r=this.render[Ce])===null||r===void 0||r.dispose(),this[Z]=!0,!this.render[Ce]&&ke(this)}),e}function ke(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function we(e){var t=this;ue(this,K,!1),ue(this,ae,!1);var n=ke(this),r=e.bind(this),i=!1,o=new s.c(n+".render()",function(){if(!i&&(i=!0,t[Z]!==!0)){var l=!0;try{ue(t,ae,!0),t[K]||v.a.prototype.forceUpdate.call(t),l=!1}finally{ue(t,ae,!1),l&&o.dispose()}}});function u(){i=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(s.d)(!1,r)}catch(m){l=m}}),l)throw l;return d}return o.reactComponent=this,u[Ce]=o,this.render=u,u.call(this)}function Ze(e,t){return this.state!==t||!xe(this.props,e)}function nt(e,t){var n=ye("reactProp_"+t+"_valueHolder"),r=ye("reactProp_"+t+"_atomHolder");function i(){return this[r]||ue(this,r,Object(s.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return s.f&&s.e&&(o=Object(s.f)(!0)),i.call(this).reportObserved(),s.f&&s.e&&Object(s.e)(o),this[n]},set:function(o){this[ae]||xe(this[n],o)?ue(this,n,o):(ue(this,n,o),ue(this,K,!0),i.call(this).reportChanged(),ue(this,K,!1))}})}var Je=typeof Symbol=="function"&&Symbol.for,Ye=Je?Symbol.for("react.forward_ref"):typeof v.e=="function"&&Object(v.e)(function(e){return null}).$$typeof,ve=Je?Symbol.for("react.memo"):typeof v.f=="function"&&Object(v.f)(function(e){return null}).$$typeof;function Fe(e){if(e.isMobxInjector,ve&&e.$$typeof===ve)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Ye&&e.$$typeof===Ye){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(v.e)(function(){var n=arguments;return Object(v.c)(L,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(v.a,e)?_e(e):D(e)}if(!v.a)throw new Error("mobx-react requires React to be available");if(!s.C)throw new Error("mobx-react requires mobx to be available");var ee=a(0);a(3),a(60),a(2),a(6),a(4),a(11),a(39),a(29),a(22),a(20),a(5),a(23),a(21),a(25),a(8),a(9),a(16),a(24),a(18),a(188),a(193),a(103),a(152),a(153);var Le=function(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},ut=function(){this.__data__=[],this.size=0},vt=function(e,t){return e===t||e!=e&&t!=t},it=function(e,t){for(var n=e.length;n--;)if(vt(e[n][0],t))return n;return-1},yt=Array.prototype.splice,jt=function(e){var t=this.__data__,n=it(t,e);return!(n<0)&&(n==t.length-1?t.pop():yt.call(t,n,1),--this.size,!0)},Pt=function(e){var t=this.__data__,n=it(t,e);return n<0?void 0:t[n][1]},at=function(e){return it(this.__data__,e)>-1},Nt=function(e,t){var n=this.__data__,r=it(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function X(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}X.prototype.clear=ut,X.prototype.delete=jt,X.prototype.get=Pt,X.prototype.has=at,X.prototype.set=Nt;var ne=X,V=function(){this.__data__=new ne,this.size=0},ce=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},De=function(e){return this.__data__.get(e)},Me=function(e){return this.__data__.has(e)},Ue=a(31),ft=Ue.a.Symbol,Ft=Object.prototype,Kt=Ft.hasOwnProperty,Ct=Ft.toString,Rt=ft?ft.toStringTag:void 0,ze=function(e){var t=Kt.call(e,Rt),n=e[Rt];try{e[Rt]=void 0;var r=!0}catch{}var i=Ct.call(e);return r&&(t?e[Rt]=n:delete e[Rt]),i},We=Object.prototype.toString,et=function(e){return We.call(e)},rt=ft?ft.toStringTag:void 0,wt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":rt&&rt in Object(e)?ze(e):et(e)},Dt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},ur,Xn=function(e){if(!Dt(e))return!1;var t=wt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Gn=Ue.a["__core-js_shared__"],Gr=(ur=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||""))?"Symbol(src)_1."+ur:"",ju=function(e){return!!Gr&&Gr in e},Bo=Function.prototype.toString,Pn=function(e){if(e!=null){try{return Bo.call(e)}catch{}try{return e+""}catch{}}return""},xi=/^\[object .+?Constructor\]$/,Ge=Function.prototype,Su=Object.prototype,Ei=Ge.toString,ji=Su.hasOwnProperty,vn=RegExp("^"+Ei.call(ji).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bn=function(e){return!(!Dt(e)||ju(e))&&(Xn(e)?vn:xi).test(Pn(e))},Si=function(e,t){return e==null?void 0:e[t]},Un=function(e,t){var n=Si(e,t);return bn(n)?n:void 0},Er=Un(Ue.a,"Map"),In=Un(Object,"create"),Ho=function(){this.__data__=In?In(null):{},this.size=0},Pi=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Pu=Object.prototype.hasOwnProperty,io=function(e){var t=this.__data__;if(In){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return Pu.call(t,e)?t[e]:void 0},ku=Object.prototype.hasOwnProperty,ki=function(e){var t=this.__data__;return In?t[e]!==void 0:ku.call(t,e)},Au=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===void 0?"__lodash_hash_undefined__":t,this};function cr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cr.prototype.clear=Ho,cr.prototype.delete=Pi,cr.prototype.get=io,cr.prototype.has=ki,cr.prototype.set=Au;var Ai=cr,Yn=function(){this.size=0,this.__data__={hash:new Ai,map:new(Er||ne),string:new Ai}},Tu=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},ao=function(e,t){var n=e.__data__;return Tu(t)?n[typeof t=="string"?"string":"hash"]:n.map},Fo=function(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t},Xo=function(e){return ao(this,e).get(e)},Du=function(e){return ao(this,e).has(e)},Ti=function(e,t){var n=ao(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function jr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jr.prototype.clear=Yn,jr.prototype.delete=Fo,jr.prototype.get=Xo,jr.prototype.has=Du,jr.prototype.set=Ti;var Sr=jr,Di=function(e,t){var n=this.__data__;if(n instanceof ne){var r=n.__data__;if(!Er||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Sr(r)}return n.set(e,t),this.size=n.size,this};function Pr(e){var t=this.__data__=new ne(e);this.size=t.size}Pr.prototype.clear=V,Pr.prototype.delete=ce,Pr.prototype.get=De,Pr.prototype.has=Me,Pr.prototype.set=Di;var Vn=Pr,Mi=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ni=function(e){return this.__data__.has(e)};function Ur(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Sr;++t<n;)this.add(e[t])}Ur.prototype.add=Ur.prototype.push=Mi,Ur.prototype.has=Ni;var Ci=Ur,Mu=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Ri=function(e,t){return e.has(t)},Ii=function(e,t,n,r,i,o){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var m=o.get(e),_=o.get(t);if(m&&_)return m==t&&_==e;var S=-1,P=!0,C=2&n?new Ci:void 0;for(o.set(e,t),o.set(t,e);++S<l;){var U=e[S],W=t[S];if(r)var oe=u?r(W,U,S,t,e,o):r(U,W,S,e,t,o);if(oe!==void 0){if(oe)continue;P=!1;break}if(C){if(!Mu(t,function(re,de){if(!Ri(C,de)&&(U===re||i(U,re,n,r,o)))return C.push(de)})){P=!1;break}}else if(U!==W&&!i(U,W,n,r,o)){P=!1;break}}return o.delete(e),o.delete(t),P},Yr=Ue.a.Uint8Array,Li=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n},Nu=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},zi=ft?ft.prototype:void 0,Go=zi?zi.valueOf:void 0,Vr=function(e,t,n,r,i,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Yr(e),new Yr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Li;case"[object Set]":var d=1&r;if(l||(l=Nu),e.size!=t.size&&!d)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var _=Ii(l(e),l(t),r,i,o,u);return u.delete(e),_;case"[object Symbol]":if(Go)return Go.call(e)==Go.call(t)}return!1},Wn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Zt=Array.isArray,Bi=function(e,t,n){var r=t(e);return Zt(e)?r:Wn(r,n(e))},Hi=function(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[i++]=u)}return o},Fi=function(){return[]},Cu=Object.prototype.propertyIsEnumerable,sr=Object.getOwnPropertySymbols,kn=sr?function(e){return e==null?[]:(e=Object(e),Hi(sr(e),function(t){return Cu.call(e,t)}))}:Fi,Ru=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},An=function(e){return e!=null&&typeof e=="object"},mn=function(e){return An(e)&&wt(e)=="[object Arguments]"},Xi=Object.prototype,Gi=Xi.hasOwnProperty,Iu=Xi.propertyIsEnumerable,uo=mn(function(){return arguments}())?mn:function(e){return An(e)&&Gi.call(e,"callee")&&!Iu.call(e,"callee")},Kn=uo,Wr=a(48),Lu=/^(?:0|[1-9]\d*)$/,rn=function(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&(n=="number"||n!="symbol"&&Lu.test(e))&&e>-1&&e%1==0&&e<t},lr=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},gt={};gt["[object Float32Array]"]=gt["[object Float64Array]"]=gt["[object Int8Array]"]=gt["[object Int16Array]"]=gt["[object Int32Array]"]=gt["[object Uint8Array]"]=gt["[object Uint8ClampedArray]"]=gt["[object Uint16Array]"]=gt["[object Uint32Array]"]=!0,gt["[object Arguments]"]=gt["[object Array]"]=gt["[object ArrayBuffer]"]=gt["[object Boolean]"]=gt["[object DataView]"]=gt["[object Date]"]=gt["[object Error]"]=gt["[object Function]"]=gt["[object Map]"]=gt["[object Number]"]=gt["[object Object]"]=gt["[object RegExp]"]=gt["[object Set]"]=gt["[object String]"]=gt["[object WeakMap]"]=!1;var On=function(e){return An(e)&&lr(e.length)&&!!gt[wt(e)]},fr=function(e){return function(t){return e(t)}},$t=a(49),Ui=$t.a&&$t.a.isTypedArray,Uo=Ui?fr(Ui):On,Yi=Object.prototype.hasOwnProperty,Tn=function(e,t){var n=Zt(e),r=!n&&Kn(e),i=!n&&!r&&Object(Wr.a)(e),o=!n&&!r&&!i&&Uo(e),u=n||r||i||o,l=u?Ru(e.length,String):[],d=l.length;for(var m in e)!t&&!Yi.call(e,m)||u&&(m=="length"||i&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||rn(m,d))||l.push(m);return l},Vi=Object.prototype,co=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Vi)},Dn=function(e,t){return function(n){return e(t(n))}},Wi=Dn(Object.keys,Object),zu=Object.prototype.hasOwnProperty,Yo=function(e){if(!co(e))return Wi(e);var t=[];for(var n in Object(e))zu.call(e,n)&&n!="constructor"&&t.push(n);return t},It=function(e){return e!=null&&lr(e.length)&&!Xn(e)},kr=function(e){return It(e)?Tn(e):Yo(e)},so=function(e){return Bi(e,kr,kn)},dn=Object.prototype.hasOwnProperty,Ki=function(e,t,n,r,i,o){var u=1&n,l=so(e),d=l.length;if(d!=so(t).length&&!u)return!1;for(var m=d;m--;){var _=l[m];if(!(u?_ in t:dn.call(t,_)))return!1}var S=o.get(e),P=o.get(t);if(S&&P)return S==t&&P==e;var C=!0;o.set(e,t),o.set(t,e);for(var U=u;++m<d;){var W=e[_=l[m]],oe=t[_];if(r)var re=u?r(oe,W,_,t,e,o):r(W,oe,_,e,t,o);if(!(re===void 0?W===oe||i(W,oe,n,r,o):re)){C=!1;break}U||(U=_=="constructor")}if(C&&!U){var de=e.constructor,me=t.constructor;de==me||!("constructor"in e)||!("constructor"in t)||typeof de=="function"&&de instanceof de&&typeof me=="function"&&me instanceof me||(C=!1)}return o.delete(e),o.delete(t),C},Kr=Un(Ue.a,"DataView"),lo=Un(Ue.a,"Promise"),fo=Un(Ue.a,"Set"),po=Un(Ue.a,"WeakMap"),$i="[object Map]",hn="[object Promise]",_n="[object Set]",Ar="[object WeakMap]",Vo="[object DataView]",Wo=Pn(Kr),Ko=Pn(Er),qi=Pn(lo),Bu=Pn(fo),ho=Pn(po),pr=wt;(Kr&&pr(new Kr(new ArrayBuffer(1)))!=Vo||Er&&pr(new Er)!=$i||lo&&pr(lo.resolve())!=hn||fo&&pr(new fo)!=_n||po&&pr(new po)!=Ar)&&(pr=function(e){var t=wt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Pn(n):"";if(r)switch(r){case Wo:return Vo;case Ko:return $i;case qi:return hn;case Bu:return _n;case ho:return Ar}return t});var h=pr,y="[object Arguments]",w="[object Array]",k="[object Object]",H=Object.prototype.hasOwnProperty,J=function(e,t,n,r,i,o){var u=Zt(e),l=Zt(t),d=u?w:h(e),m=l?w:h(t),_=(d=d==y?k:d)==k,S=(m=m==y?k:m)==k,P=d==m;if(P&&Object(Wr.a)(e)){if(!Object(Wr.a)(t))return!1;u=!0,_=!1}if(P&&!_)return o||(o=new Vn),u||Uo(e)?Ii(e,t,n,r,i,o):Vr(e,t,d,n,r,i,o);if(!(1&n)){var C=_&&H.call(e,"__wrapped__"),U=S&&H.call(t,"__wrapped__");if(C||U){var W=C?e.value():e,oe=U?t.value():t;return o||(o=new Vn),i(W,oe,n,r,o)}}return!!P&&(o||(o=new Vn),Ki(e,t,n,r,i,o))},pe=function e(t,n,r,i,o){return t===n||(t==null||n==null||!An(t)&&!An(n)?t!=t&&n!=n:J(t,n,r,i,e,o))},Se=function(e,t,n,r){var i=n.length,o=i,u=!r;if(e==null)return!o;for(e=Object(e);i--;){var l=n[i];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){var d=(l=n[i])[0],m=e[d],_=l[1];if(u&&l[2]){if(m===void 0&&!(d in e))return!1}else{var S=new Vn;if(r)var P=r(m,_,d,e,t,S);if(!(P===void 0?pe(_,m,3,r,S):P))return!1}}return!0},He=function(e){return e==e&&!Dt(e)},dt=function(e){for(var t=kr(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,He(i)]}return t},ot=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},xt=function(e){var t=dt(e);return t.length==1&&t[0][2]?ot(t[0][0],t[0][1]):function(n){return n===e||Se(n,e,t)}},st=function(e){return typeof e=="symbol"||An(e)&&wt(e)=="[object Symbol]"},Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wn=/^\w*$/,At=function(e,t){if(Zt(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!st(e))||wn.test(e)||!Ot.test(e)||t!=null&&e in Object(t)};function on(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=e.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(on.Cache||Sr),n}on.Cache=Sr;var $r=on,Hu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zi=/\\(\\)?/g,Ji=function(e){var t=$r(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Hu,function(n,r,i,o){t.push(i?o.replace(Zi,"$1"):r||n)}),t}),yo=ft?ft.prototype:void 0,$o=yo?yo.toString:void 0,an=function e(t){if(typeof t=="string")return t;if(Zt(t))return Le(t,e)+"";if(st(t))return $o?$o.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},Qi=function(e){return e==null?"":an(e)},qr=function(e,t){return Zt(e)?e:At(e,t)?[e]:Ji(Qi(e))},qo=function(e){if(typeof e=="string"||st(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Fu=function(e,t){for(var n=0,r=(t=qr(t,e)).length;e!=null&&n<r;)e=e[qo(t[n++])];return n&&n==r?e:void 0},uf=function(e,t,n){var r=e==null?void 0:Fu(e,t);return r===void 0?n:r},Wg=function(e,t){return e!=null&&t in Object(e)},Kg=function(e,t,n){for(var r=-1,i=(t=qr(t,e)).length,o=!1;++r<i;){var u=qo(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=i?o:!!(i=e==null?0:e.length)&&lr(i)&&rn(u,i)&&(Zt(e)||Kn(e))},cf=function(e,t){return e!=null&&Kg(e,t,Wg)},$g=function(e,t){return At(e)&&He(t)?ot(qo(e),t):function(n){var r=uf(n,e);return r===void 0&&r===t?cf(n,e):pe(t,r,3)}},Xu=function(e){return e},qg=function(e){return function(t){return t==null?void 0:t[e]}},Zg=function(e){return function(t){return Fu(t,e)}},Jg=function(e){return At(e)?qg(qo(e)):Zg(e)},Qg=function(e){return typeof e=="function"?e:e==null?Xu:typeof e=="object"?Zt(e)?$g(e[0],e[1]):xt(e):Jg(e)},sf=function(e){return function(t,n,r){for(var i=-1,o=Object(t),u=r(t),l=u.length;l--;){var d=u[e?l:++i];if(n(o[d],d,o)===!1)break}return t}}(),ev=function(e,t){return function(n,r){if(n==null)return n;if(!It(n))return e(n,r);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&sf(e,t,kr)}),tv=function(e,t){var n=-1,r=It(e)?Array(e.length):[];return ev(e,function(i,o,u){r[++n]=t(i,o,u)}),r},ea=function(e,t){return(Zt(e)?Le:tv)(e,Qg(t))};Object(s.n)({isolateGlobalState:!0});var ta=function(){try{var e=Un(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Gu=function(e,t,n){t=="__proto__"&&ta?ta(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},nv=Object.prototype.hasOwnProperty,na=function(e,t,n){var r=e[t];nv.call(e,t)&&vt(r,n)&&(n!==void 0||t in e)||Gu(e,t,n)},go=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var l=t[o],d=r?r(n[l],e[l],l,n,e):void 0;d===void 0&&(d=e[l]),i?Gu(n,l,d):na(n,l,d)}return n},rv=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},lf=Math.max,ff=function(e,t,n){return t=lf(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=lf(r.length-t,0),u=Array(o);++i<o;)u[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(u),rv(e,this,l)}},ov=function(e){return function(){return e}},iv=ta?function(e,t){return ta(e,"toString",{configurable:!0,enumerable:!1,value:ov(t),writable:!0})}:Xu,av=Date.now,uv=function(e){var t=0,n=0;return function(){var r=av(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},pf=uv(iv),cv=function(e,t){return pf(ff(e,t,Xu),e+"")},sv=function(e,t,n){if(!Dt(n))return!1;var r=typeof t;return!!(r=="number"?It(n)&&rn(t,n.length):r=="string"&&t in n)&&vt(n[t],e)},df=function(e){return cv(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,u&&sv(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,o)}return t})},lv=Object.prototype.hasOwnProperty,un=df(function(e,t){if(co(t)||It(t))go(t,kr(t),e);else for(var n in t)lv.call(t,n)&&na(e,n,t[n])}),fv=function(e,t,n,r){if(!Dt(e))return e;for(var i=-1,o=(t=qr(t,e)).length,u=o-1,l=e;l!=null&&++i<o;){var d=qo(t[i]),m=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=u){var _=l[d];(m=r?r(_,d,l):void 0)===void 0&&(m=Dt(_)?_:rn(t[i+1])?[]:{})}na(l,d,m),l=l[d]}return e},pv=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var u=t[r],l=Fu(e,u);n(l,u)&&fv(o,qr(u,e),l)}return o},dv=function(e,t){return pv(e,t,function(n,r){return cf(e,r)})},hf=ft?ft.isConcatSpreadable:void 0,hv=function(e){return Zt(e)||Kn(e)||!!(hf&&e&&e[hf])},yv=function e(t,n,r,i,o){var u=-1,l=t.length;for(r||(r=hv),o||(o=[]);++u<l;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,i,o):Wn(o,d):i||(o[o.length]=d)}return o},gv=function(e){return e!=null&&e.length?yv(e,1):[]},Lt,yf,gf,vf,bf,mf,Of,_f,wf,xf,Ef,jf,Sf,Pf,kf,Af,Tf,Df,Zo=function(e){return pf(ff(e,void 0,gv),e+"")}(function(e,t){return e==null?{}:dv(e,t)});function Jt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function vv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var _t,Nf,ht,Xt,tt,Tt,bv={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Uu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Cf=(yf=qt((Lt=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Jt(this,"isSilentMode",yf,this),Jt(this,"stopZoomGraph",gf,this),Jt(this,"stopScrollGraph",vf,this),Jt(this,"stopMoveGraph",bf,this),Jt(this,"adjustEdge",mf,this),Jt(this,"adjustEdgeMiddle",Of,this),Jt(this,"adjustEdgeStartAndEnd",_f,this),Jt(this,"adjustNodePosition",wf,this),Jt(this,"hideAnchors",xf,this),Jt(this,"hoverOutline",Ef,this),Jt(this,"nodeSelectedOutline",jf,this),Jt(this,"edgeSelectedOutline",Sf,this),Jt(this,"nodeTextEdit",Pf,this),Jt(this,"edgeTextEdit",kf,this),Jt(this,"nodeTextDraggable",Af,this),Jt(this,"edgeTextDraggable",Tf,this),Jt(this,"autoExpand",Df,this),Mf(this,"multipleSelectKey",""),Mf(this,"defaultConfig",{}),un(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);un(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,u={};if(i===!1&&un(u,this.defaultConfig),i===!0&&i!==this.isSilentMode){var l=Zo(bv,Uu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},un(u,l)}o===!1&&un(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Zo(r,Uu);return un(u,d)}},{key:"getConfig",value:function(){return Zo(this,Uu)}}])&&vv(t.prototype,n),e}()).prototype,"isSilentMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gf=qt(Lt.prototype,"stopZoomGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vf=qt(Lt.prototype,"stopScrollGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bf=qt(Lt.prototype,"stopMoveGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mf=qt(Lt.prototype,"adjustEdge",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Of=qt(Lt.prototype,"adjustEdgeMiddle",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_f=qt(Lt.prototype,"adjustEdgeStartAndEnd",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wf=qt(Lt.prototype,"adjustNodePosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xf=qt(Lt.prototype,"hideAnchors",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ef=qt(Lt.prototype,"hoverOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jf=qt(Lt.prototype,"nodeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sf=qt(Lt.prototype,"edgeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pf=qt(Lt.prototype,"nodeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kf=qt(Lt.prototype,"edgeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Af=qt(Lt.prototype,"nodeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tf=qt(Lt.prototype,"edgeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Df=qt(Lt.prototype,"autoExpand",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qt(Lt.prototype,"updateEditConfig",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateEditConfig"),Lt.prototype),Lt);a(63),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(_t||(_t={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Nf||(Nf={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(ht||(ht={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Xt||(Xt={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(tt||(tt={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Tt||(Tt={}));var xn,zt,Rf,If,Lf,zf,Bf,Hf,Ff;function ra(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Xf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function mv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(xn||(xn={}));var Ov=(zt=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Yu(this,"MINI_SCALE_SIZE",.2),Yu(this,"MAX_SCALE_SIZE",16),Zr(this,"SCALE_X",Rf,this),Zr(this,"SKEW_Y",If,this),Zr(this,"SKEW_X",Lf,this),Zr(this,"SCALE_Y",zf,this),Zr(this,"TRANSLATE_X",Bf,this),Zr(this,"TRANSLATE_Y",Hf,this),Zr(this,"ZOOM_SIZE",Ff,this),Yu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=ra(r,2),o=i[0],u=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=ra(r,2),o=i[0],u=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var u=ra(r,2),l=u[0],d=u[1];return[l+i/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(tt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,u){var l=ra(this.CanvasPointToHtmlPoint([r,i]),2),d=o/2-l[0],m=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=m,this.emitGraphTransform("focusOn")}}],n&&mv(t.prototype,n),e}(),Rf=Ln(zt.prototype,"SCALE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),If=Ln(zt.prototype,"SKEW_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lf=Ln(zt.prototype,"SKEW_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zf=Ln(zt.prototype,"SCALE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Bf=Ln(zt.prototype,"TRANSLATE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hf=Ln(zt.prototype,"TRANSLATE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ff=Ln(zt.prototype,"ZOOM_SIZE",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Ln(zt.prototype,"zoom",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"zoom"),zt.prototype),Ln(zt.prototype,"resetZoom",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"resetZoom"),zt.prototype),Ln(zt.prototype,"translate",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"translate"),zt.prototype),Ln(zt.prototype,"focusOn",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"focusOn"),zt.prototype),zt),_v=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},wv=function(e,t){return e&&go(t,kr(t),e)},xv=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},Ev=Object.prototype.hasOwnProperty,jv=function(e){if(!Dt(e))return xv(e);var t=co(e),n=[];for(var r in e)(r!="constructor"||!t&&Ev.call(e,r))&&n.push(r);return n},Jo=function(e){return It(e)?Tn(e,!0):jv(e)},Sv=function(e,t){return e&&go(t,Jo(t),e)},Gf=a(106),Uf=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Pv=function(e,t){return go(e,kn(e),t)},Vu=Dn(Object.getPrototypeOf,Object),Yf=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Wn(t,kn(e)),e=Vu(e);return t}:Fi,kv=function(e,t){return go(e,Yf(e),t)},Av=function(e){return Bi(e,Jo,Yf)},Tv=Object.prototype.hasOwnProperty,Dv=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Tv.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Wu=function(e){var t=new e.constructor(e.byteLength);return new Yr(t).set(new Yr(e)),t},Mv=function(e,t){var n=t?Wu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Nv=/\w*$/,Cv=function(e){var t=new e.constructor(e.source,Nv.exec(e));return t.lastIndex=e.lastIndex,t},Vf=ft?ft.prototype:void 0,Wf=Vf?Vf.valueOf:void 0,Rv=function(e){return Wf?Object(Wf.call(e)):{}},Kf=function(e,t){var n=t?Wu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Iv=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Wu(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Mv(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Kf(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Cv(e);case"[object Symbol]":return Rv(e)}},$f=Object.create,Lv=function(){function e(){}return function(t){if(!Dt(t))return{};if($f)return $f(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),qf=function(e){return typeof e.constructor!="function"||co(e)?{}:Lv(Vu(e))},zv=function(e){return An(e)&&h(e)=="[object Map]"},Zf=$t.a&&$t.a.isMap,Bv=Zf?fr(Zf):zv,Hv=function(e){return An(e)&&h(e)=="[object Set]"},Jf=$t.a&&$t.a.isSet,Fv=Jf?fr(Jf):Hv,Qf="[object Arguments]",ep="[object Function]",Xv="[object Object]",kt={};kt[Qf]=kt["[object Array]"]=kt["[object ArrayBuffer]"]=kt["[object DataView]"]=kt["[object Boolean]"]=kt["[object Date]"]=kt["[object Float32Array]"]=kt["[object Float64Array]"]=kt["[object Int8Array]"]=kt["[object Int16Array]"]=kt["[object Int32Array]"]=kt["[object Map]"]=kt["[object Number]"]=kt["[object Object]"]=kt["[object RegExp]"]=kt["[object Set]"]=kt["[object String]"]=kt["[object Symbol]"]=kt["[object Uint8Array]"]=kt["[object Uint8ClampedArray]"]=kt["[object Uint16Array]"]=kt["[object Uint32Array]"]=!0,kt["[object Error]"]=kt[ep]=kt["[object WeakMap]"]=!1;var Gv=function e(t,n,r,i,o,u){var l,d=1&n,m=2&n,_=4&n;if(r&&(l=o?r(t,i,o,u):r(t)),l!==void 0)return l;if(!Dt(t))return t;var S=Zt(t);if(S){if(l=Dv(t),!d)return Uf(t,l)}else{var P=h(t),C=P==ep||P=="[object GeneratorFunction]";if(Object(Wr.a)(t))return Object(Gf.a)(t,d);if(P==Xv||P==Qf||C&&!o){if(l=m||C?{}:qf(t),!d)return m?kv(t,Sv(l,t)):Pv(t,wv(l,t))}else{if(!kt[P])return o?t:{};l=Iv(t,P,d)}}u||(u=new Vn);var U=u.get(t);if(U)return U;u.set(t,l),Fv(t)?t.forEach(function(oe){l.add(e(oe,n,r,oe,t,u))}):Bv(t)&&t.forEach(function(oe,re){l.set(re,e(oe,n,r,re,t,u))});var W=S?void 0:(_?m?Av:so:m?Jo:kr)(t);return _v(W||t,function(oe,re){W&&(oe=t[re=oe]),na(l,re,e(oe,n,r,re,t,u))}),l},Mt=function(e){return Gv(e,5)},Ku=function(e,t,n){(n!==void 0&&!vt(e[t],n)||n===void 0&&!(t in e))&&Gu(e,t,n)},Uv=function(e){return An(e)&&It(e)},Yv=Function.prototype,Vv=Object.prototype,tp=Yv.toString,Wv=Vv.hasOwnProperty,Kv=tp.call(Object),$v=function(e){if(!An(e)||wt(e)!="[object Object]")return!1;var t=Vu(e);if(t===null)return!0;var n=Wv.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&tp.call(n)==Kv},$u=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},qv=function(e){return go(e,Jo(e))},Zv=function(e,t,n,r,i,o,u){var l=$u(e,n),d=$u(t,n),m=u.get(d);if(m)Ku(e,n,m);else{var _=o?o(l,d,n+"",e,t,u):void 0,S=_===void 0;if(S){var P=Zt(d),C=!P&&Object(Wr.a)(d),U=!P&&!C&&Uo(d);_=d,P||C||U?Zt(l)?_=l:Uv(l)?_=Uf(l):C?(S=!1,_=Object(Gf.a)(d,!0)):U?(S=!1,_=Kf(d,!0)):_=[]:$v(d)||Kn(d)?(_=l,Kn(l)?_=qv(l):Dt(l)&&!Xn(l)||(_=qf(d))):S=!1}S&&(u.set(d,_),i(_,d,r,o,u),u.delete(d)),Ku(e,n,_)}},Jv=function e(t,n,r,i,o){t!==n&&sf(n,function(u,l){if(o||(o=new Vn),Dt(u))Zv(t,n,l,r,e,i,o);else{var d=i?i($u(t,l),u,l+"",t,n,o):void 0;d===void 0&&(d=u),Ku(t,l,d)}},Jo)},np=df(function(e,t,n){Jv(e,t,n)}),Qv={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},rp=function(e){var t=Mt(Qv);return e&&(t=np(t,e)),t};a(77),a(158);function eb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tb=function(){function e(){var r,i,o;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,i,o){var u=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],m=function(_){for(var S=_.length,P=0;P<S;P++)if(_[P]){var C=_[P],U=C.callback;C.once&&(_.splice(P,1),_.length===0&&delete o._events[u],S--,P--),U.apply(o,[i])}};m(l),m(d)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(i){for(var l=o._events[u]||[],d=l.length,m=0;m<d;m++)l[m].callback===i&&(l.splice(m,1),d--,m--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&eb(t.prototype,n),e}();function Tr(e,t){return t*Math.round(e/t)||e}function op(e,t){return e%t}function qu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return ip(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ip(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ip(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zu,Ju=function(e,t,n){var r=qu(e,2),i=r[0],o=r[1],u=qu(t,2),l=u[0],d=u[1],m=qu(n,2),_=m[0],S=m[1];return i>l&&i<_&&o>d&&o<S},ap=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;case"ctrl":n=e.ctrlKey;break;default:n=!1}return n},nb=(a(78),a(161),a(125),a(79),a(30),a(12),a(13),a(14),a(47),new Uint8Array(16));function rb(){if(!Zu&&!(Zu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zu(nb)}for(var ob=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ib=function(e){return typeof e=="string"&&ob.test(e)},Qt=[],Qu=0;Qu<256;++Qu)Qt.push((Qu+256).toString(16).substr(1));var ab=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Qt[e[t+0]]+Qt[e[t+1]]+Qt[e[t+2]]+Qt[e[t+3]]+"-"+Qt[e[t+4]]+Qt[e[t+5]]+"-"+Qt[e[t+6]]+Qt[e[t+7]]+"-"+Qt[e[t+8]]+Qt[e[t+9]]+"-"+Qt[e[t+10]]+Qt[e[t+11]]+Qt[e[t+12]]+Qt[e[t+13]]+Qt[e[t+14]]+Qt[e[t+15]]).toLowerCase();if(!ib(n))throw TypeError("Stringified UUID is invalid");return n},ec=function(e,t,n){var r=(e=e||{}).random||(e.rng||rb)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return ab(r)},Dr=function(){return ec()},ub=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,i){return r[i.id]=t+ec(),i.id=r[i.id],r},{});return e.edges.forEach(function(r){r.id=t+ec(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},Qo=(a(104),a(162),function(e,t,n){var r=e.x,i=e.y;return(r-t.x)*(r-n.x)<=0&&(i-t.y)*(i-n.y)<=0});function tc(e){return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?up(Object(n),!0).forEach(function(r){cb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe,sp,lp,fp,pp,dp,hp,yp,gp,vp,bp,mp,Op,_p,wp,xp,Ep,jp,Sp,Pp,kp,nc=function(e){return e.anchors},oa=function(e,t){for(var n,r=t.nodes,i=r.length-1;i>=0;i--){var o=r[i];if(lb(e,o)){var u=o.getTargetAnchor(e);if(u){var l={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!sb(o,n.node,t)||(n=l)}}}return n},sb=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},$n=function(e,t,n,r){return Math.hypot(e-n,t-r)},Mr=function(e,t){var n=!1,r=En(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},lb=function(e,t){var n=!1,r=En(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},En=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2,x:t,y:n,width:r,height:i,centerX:t,centerY:n}},Ap=function(e,t,n){var r,i=function(u){var l=u,d=l.x,m=l.y,_=l.width,S=l.height,P=l.radius;return[{x:d-_/2+P,y:m-S/2+P,r:P},{x:d+_/2-P,y:m-S/2+P,r:P},{x:d-_/2+P,y:m+S/2-P,r:P},{x:d+_/2-P,y:m+S/2-P,r:P}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(u){var l=$n(e.x,e.y,u.x,u.y);l<o&&(o=l,r=u)}),rc(e,t,r)},rc=function(e,t,n){var r,i=n,o=i.x,u=i.y,l=i.r;if(t===Tt.HORIZONTAL){var d=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)),m=o+Math.sqrt(l*l-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(m-e.x)?d:m,y:e.y}}else if(t===Tt.VERTICAL){var _=u-Math.sqrt(l*l-(e.x-o)*(e.x-o)),S=u+Math.sqrt(l*l-(e.x-o)*(e.x-o)),P=Math.abs(_-e.y)<Math.abs(S-e.y)?_:S;r={x:e.x,y:P}}return r},Tp=function(e,t){var n=t,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,m=n.y,_=n.width,S=n.height;return e.y===m+S/2||e.y===m-S/2?r=e.x>i&&e.x<o:e.x!==d+_/2&&e.x!==d-_/2||(r=e.y>u&&e.y<l),r},Dp=function(e,t,n){var r,i=n,o=i.x,u=i.y,l=i.rx,d=i.ry;if(t===Tt.HORIZONTAL){var m=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d)),_=o+Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d));r={x:Math.abs(m-e.x)<Math.abs(_-e.x)?m:_,y:e.y}}else if(t===Tt.VERTICAL){var S=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),P=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),C=Math.abs(S-e.y)<Math.abs(P-e.y)?S:P;r={x:e.x,y:C}}return r},Mp=function(e,t,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<i.length;l++)u.push({start:i[l],end:i[(l+1)%i.length]});return u.forEach(function(d){var m=d.start,_=d.end,S=m,P=_;m.x>_.x&&(S=_,P=m);var C={x:e.x,y:e.y};if(S.x===P.x&&t===Tt.HORIZONTAL&&(C={x:S.x,y:e.y}),S.y===P.y&&t===Tt.VERTICAL&&(C={x:e.x,y:S.y}),S.x!==P.x&&S.y!==P.y){var U=(P.y-S.y)/(P.x-S.x),W=(S.x*P.y-P.x*S.y)/(S.x-P.x);t===Tt.HORIZONTAL?C={x:(e.y-W)/U,y:e.y}:t===Tt.VERTICAL&&(C={x:e.x,y:U*e.x+W})}if(Qo(C,m,_)){var oe=$n(C.x,C.y,e.x,e.y);oe<o&&(o=oe,r=C)}}),r},Np=function(e,t,n,r){var i=e.x,o=e.y;return t.x>e.x?i=e.x+n/2:t.x<e.x&&(i=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:i,y:o}},Cp=function(e){var t=e.rows,n=e.style,r=e.rowsLength,i=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},oc=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,i=0;return t&&t.forEach(function(o){var u=rd(o);i=u>i?u:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},ei=function(e){return tc(e)!=="object"?{isAllPass:!!e,msg:e?"":"不允许连接"}:e},en=function(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}},fb=1e3,pb=999,ic=function(){return++fb};function Rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rp(Object(n),!0).forEach(function(r){Mn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var ac=(Oe=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Mn(this,"id",""),Gt(this,"type",sp,this),Gt(this,"sourceNodeId",lp,this),Gt(this,"targetNodeId",fp,this),Gt(this,"startPoint",pp,this),Gt(this,"endPoint",dp,this),Gt(this,"text",hp,this),Gt(this,"properties",yp,this),Gt(this,"points",gp,this),Gt(this,"pointsList",vp,this),Gt(this,"isSelected",bp,this),Gt(this,"isHovered",mp,this),Gt(this,"isHitable",Op,this),Gt(this,"draggable",_p,this),Gt(this,"visible",wp,this),Mn(this,"virtual",!1),Gt(this,"isAnimation",xp,this),Gt(this,"isShowAdjustPoint",Ep,this),Mn(this,"graphModel",void 0),Gt(this,"zIndex",jp,this),Mn(this,"BaseType",Xt.EDGE),Mn(this,"modelType",ht.EDGE),Gt(this,"state",Sp,this),Mn(this,"additionStateData",void 0),Mn(this,"sourceAnchorId",""),Mn(this,"targetAnchorId",""),Mn(this,"menu",void 0),Mn(this,"customTextPosition",!1),Gt(this,"style",Pp,this),Gt(this,"arrowConfig",kp,this),this.graphModel=i,this.initEdgeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type),u=this.createId();r.id=u||o||Dr()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var l=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=l,un(this,Cb(r)),this.graphModel.overlapMode===xn.INCREASE&&(this.zIndex=r.zIndex||ic()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return yn(yn({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return yn({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Mt(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return Mt(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),i=this.getEdgeAnimationStyle(),o=this.graphModel.theme.arrow,u=this.isAnimation?i.stroke:r.stroke;return yn(yn({},r),{},{fill:u,stroke:u},o)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Mt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,i){var o,u;return nc(r).forEach(function(l){var d=ud(l,i);(u===void 0||d<u)&&(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var i,o,u=this;return nc(r).forEach(function(l){var d=ud(l,u.startPoint);(o===void 0||d<o)&&(o=d,i=l)}),i}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(s.I)(this.properties)};return u&&(l.text={x:i,y:o,value:u}),this.graphModel.overlapMode===xn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,i){this.properties[r]=en(i),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=yn(yn({},Object(s.I)(this.properties)),en(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var i=this.arrowConfig,o=i.markerEnd,u=i.markerStart;u&&u==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,i){this.style=yn(yn({},this.style),{},Mn({},r,en(i)))}},{key:"setStyles",value:function(r){this.style=yn(yn({},this.style),en(r))}},{key:"updateStyles",value:function(r){this.style=yn({},en(r))}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,u=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,_=o.editable;this.text={value:d,draggable:m,x:u+r,y:l+i,editable:_}}}},{key:"setText",value:function(r){r&&un(this.text,r)}},{key:"updateText",value:function(r){this.text=yn(yn({},Object(s.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:i.x,y:i.y}),this.targetAnchorId||(this.targetAnchorId=i.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,i){this.startPoint.x+=r,this.startPoint.y+=i}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,i){this.endPoint.x+=r,this.endPoint.y+=i}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){un(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}],n&&db(t.prototype,n),e}(),sp=Qe(Oe.prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),lp=Qe(Oe.prototype,"sourceNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fp=Qe(Oe.prototype,"targetNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pp=Qe(Oe.prototype,"startPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dp=Qe(Oe.prototype,"endPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hp=Qe(Oe.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),yp=Qe(Oe.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),gp=Qe(Oe.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vp=Qe(Oe.prototype,"pointsList",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bp=Qe(Oe.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mp=Qe(Oe.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Op=Qe(Oe.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_p=Qe(Oe.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wp=Qe(Oe.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xp=Qe(Oe.prototype,"isAnimation",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ep=Qe(Oe.prototype,"isShowAdjustPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jp=Qe(Oe.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sp=Qe(Oe.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pp=Qe(Oe.prototype,"style",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kp=Qe(Oe.prototype,"arrowConfig",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Qe(Oe.prototype,"sourceNode",[s.m],Object.getOwnPropertyDescriptor(Oe.prototype,"sourceNode"),Oe.prototype),Qe(Oe.prototype,"targetNode",[s.m],Object.getOwnPropertyDescriptor(Oe.prototype,"targetNode"),Oe.prototype),Qe(Oe.prototype,"textPosition",[s.m],Object.getOwnPropertyDescriptor(Oe.prototype,"textPosition"),Oe.prototype),Qe(Oe.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperty"),Oe.prototype),Qe(Oe.prototype,"deleteProperty",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"deleteProperty"),Oe.prototype),Qe(Oe.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setProperties"),Oe.prototype),Qe(Oe.prototype,"changeEdgeId",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"changeEdgeId"),Oe.prototype),Qe(Oe.prototype,"setStyle",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyle"),Oe.prototype),Qe(Oe.prototype,"setStyles",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setStyles"),Oe.prototype),Qe(Oe.prototype,"updateStyles",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStyles"),Oe.prototype),Qe(Oe.prototype,"formatText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"formatText"),Oe.prototype),Qe(Oe.prototype,"resetTextPosition",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"resetTextPosition"),Oe.prototype),Qe(Oe.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveText"),Oe.prototype),Qe(Oe.prototype,"setText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setText"),Oe.prototype),Qe(Oe.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateText"),Oe.prototype),Qe(Oe.prototype,"setAnchors",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setAnchors"),Oe.prototype),Qe(Oe.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setSelected"),Oe.prototype),Qe(Oe.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHovered"),Oe.prototype),Qe(Oe.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setHitable"),Oe.prototype),Qe(Oe.prototype,"openEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"openEdgeAnimation"),Oe.prototype),Qe(Oe.prototype,"closeEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"closeEdgeAnimation"),Oe.prototype),Qe(Oe.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setElementState"),Oe.prototype),Qe(Oe.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStartPoint"),Oe.prototype),Qe(Oe.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveStartPoint"),Oe.prototype),Qe(Oe.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateEndPoint"),Oe.prototype),Qe(Oe.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveEndPoint"),Oe.prototype),Qe(Oe.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"setZIndex"),Oe.prototype),Qe(Oe.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"initPoints"),Oe.prototype),Qe(Oe.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAttributes"),Oe.prototype),Qe(Oe.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustStart"),Oe.prototype),Qe(Oe.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustEnd"),Oe.prototype),Qe(Oe.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAfterAdjustStartAndEnd"),Oe.prototype),Oe),uc=ac;function cc(e){return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ip(Object(n),!0).forEach(function(r){Bp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(){return sc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=gb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},sc.apply(this,arguments)}function gb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=vo(e))!==null;);return e}function lc(e,t){return lc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lc(e,t)}function vb(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vo(e);if(t){var i=vo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bb(this,n)}}function bb(e,t){if(t&&(cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zp(e)}function zp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vo(e){return vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vo(e)}function Bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct,Hp,fc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&lc(o,u)})(i,e);var t,n,r=vb(i);function i(){var o;hb(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Bp(zp(o=r.call.apply(r,[this].concat(l))),"modelType",ht.LINE_EDGE),o}return t=i,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Lp(Lp({},sc(vo(i.prototype),"getEdgeStyle",this).call(this)),Mt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&yb(t.prototype,n),i}(uc);function pc(e){return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function mb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Fp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Fp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xp(Object(n),!0).forEach(function(r){hc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ob(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ti(){return ti=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=xb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ti.apply(this,arguments)}function xb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Nr(e))!==null;);return e}function dc(e,t){return dc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dc(e,t)}function Eb(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nr(e);if(t){var i=Nr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(e,t){if(t&&(pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ni(e)}function ni(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nr(e){return Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nr(e)}function hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var yc=(ct=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&dc(o,u)})(i,e);var t,n,r=Eb(i);function i(){var o;_b(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return hc(ni(o=r.call.apply(r,[this].concat(l))),"modelType",ht.POLYLINE_EDGE),hc(ni(o),"draggingPointList",void 0),Ob(ni(o),"dbClickPosition",Hp,ni(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=30,ti(Nr(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Gp(Gp({},ti(Nr(i.prototype),"getEdgeStyle",this).call(this)),Mt(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=Jr(this.points),m=mb(Mb(d),2),_=m[0],S=m[1];return{x:(_.x+S.x)/2,y:(_.y+S.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,m;return l.forEach(function(_){var S;o===Tt.HORIZONTAL?S=Math.abs(u.y-_.y):o===Tt.VERTICAL&&(S=Math.abs(u.x-_.x)),(!m||m>S)&&(m=S,d=_)}),d}},{key:"getCrossPoint",value:function(o,u,l){var d;return o===Tt.HORIZONTAL?d={x:l.x,y:u.y}:o===Tt.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(re){return re});if(o===1){var m=d[o],_=d[u],S=d[o-1];if(Qp(S,m,this.sourceNode)){if(ed(m,_,this.sourceNode)){var P=td(m,_,this.sourceNode);P&&(d[o]=P,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(re){(re.x===S.x&&re.x===m.x||re.y===S.y&&re.y===m.y)&&$n(re.x,re.y,m.x,m.y)<$n(S.x,S.y,m.x,m.y)&&(d[o-1]=re)})}if(u===l.length-2){var C=d[o],U=d[u],W=d[u+1];if(Qp(U,W,this.targetNode)){if(ed(C,U,this.targetNode)){var oe=td(C,U,this.targetNode);oe&&(d[u]=oe,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(re){(re.x===W.x&&re.x===U.x||re.y===W.y&&re.y===U.y)&&$n(re.x,re.y,U.x,U.y)<$n(W.x,W.y,U.x,U.y)&&(d[u+1]=re)})}return d}},{key:"getDraggingPoints",value:function(o,u,l,d,m){var _=m.map(function(C){return C}),S=this.getAfterAnchor(o,l,d),P=this.getCrossPoint(o,l,S);return u==="start"?(_.unshift(P),_.unshift(S)):(_.push(P),_.push(S)),_}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(me){return me}),l=o[0],d=o[1],m=o[u.length-2],_=o[u.length-1],S=this.sourceNode,P=this.targetNode,C=S.modelType,U=P.modelType,W=fa(l,d),oe=u[0];switch(C){case ht.RECT_NODE:S.radius!==0&&(Tp(l,S)||(oe=Ap(l,W,S)));break;case ht.CIRCLE_NODE:oe=rc(l,W,S);break;case ht.ELLIPSE_NODE:oe=Dp(l,W,S);break;case ht.DIAMOND_NODE:case ht.POLYGON_NODE:oe=Mp(l,W,S)}u[0]=oe;var re=fa(m,_),de=u[u.length-1];switch(U){case ht.RECT_NODE:P.radius!==0&&(Tp(_,P)||(de=Ap(_,re,P)));break;case ht.CIRCLE_NODE:de=rc(_,re,P);break;case ht.ELLIPSE_NODE:de=Dp(_,re,P);break;case ht.DIAMOND_NODE:case ht.POLYGON_NODE:de=Mp(_,re,P)}return u[u.length-1]=de,u}},{key:"getData",value:function(){var o=ti(Nr(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Jp({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,_=o.endIndex,S=o.direction,P=this.pointsList,C=P;return S===Tt.HORIZONTAL?(P[m]={x:l.x,y:l.y+u.y},P[_]={x:d.x,y:d.y+u.y},C=this.pointsList.map(function(U){return U})):S===Tt.VERTICAL&&(P[m]={x:l.x+u.x,y:l.y},P[_]={x:d.x+u.x,y:d.y},C=this.pointsList.map(function(U){return U})),this.updatePointsAfterDrag(C),this.draggingPointList=C,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},P[m]),end:Object.assign({},P[_]),startIndex:m,endIndex:_,direction:S}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,_=o.endIndex,S=o.direction,P=this.pointsList;if(S===Tt.HORIZONTAL){P[m]={x:l.x,y:l.y+u.y},P[_]={x:d.x,y:d.y+u.y};var C=this.pointsList.map(function(Te){return Te});if(m!==0&&_!==this.pointsList.length-1&&(C=this.removeCrossPoints(m,_,C)),m===0){var U={x:l.x,y:l.y+u.y};if(!Mr(U,this.sourceNode)){var W=this.sourceNode.anchors;C=this.getDraggingPoints(S,"start",U,W,C)}}if(_===this.pointsList.length-1){var oe={x:d.x,y:d.y+u.y};if(!Mr(oe,this.targetNode)){var re=this.targetNode.anchors;C=this.getDraggingPoints(S,"end",oe,re,C)}}this.updatePointsAfterDrag(C),this.draggingPointList=C}else if(S===Tt.VERTICAL){P[m]={x:l.x+u.x,y:l.y},P[_]={x:d.x+u.x,y:d.y};var de=this.pointsList.map(function(Te){return Te});if(m!==0&&_!==this.pointsList.length-1&&(de=this.removeCrossPoints(m,_,de)),m===0){var me={x:l.x+u.x,y:l.y};if(!Mr(me,this.sourceNode)){var Ae=this.sourceNode.anchors;de=this.getDraggingPoints(S,"start",me,Ae,de)}}if(_===this.pointsList.length-1){var Ee={x:d.x+u.x,y:d.y};if(!Mr(Ee,this.targetNode)){var Xe=this.targetNode.anchors;de=this.getDraggingPoints(S,"end",Ee,Xe,de)}}this.updatePointsAfterDrag(de),this.draggingPointList=de}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},P[m]),end:Object.assign({},P[_]),startIndex:m,endIndex:_,direction:S}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var o=Zp(Jr(this.points));this.pointsList=o.map(function(d){return d}),this.draggingPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,_=Jp({x:u.x,y:u.y},{x:l.x,y:l.y},d,m,this.offset||0);this.pointsList=_,this.initPoints()}}])&&wb(t.prototype,n),i}(uc),Hp=cn(ct.prototype,"dbClickPosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn(ct.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"initPoints"),ct.prototype),cn(ct.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"updatePoints"),ct.prototype),cn(ct.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"updateStartPoint"),ct.prototype),cn(ct.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"moveStartPoint"),ct.prototype),cn(ct.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"updateEndPoint"),ct.prototype),cn(ct.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"moveEndPoint"),ct.prototype),cn(ct.prototype,"dragAppendStart",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"dragAppendStart"),ct.prototype),cn(ct.prototype,"dragAppendSimple",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"dragAppendSimple"),ct.prototype),cn(ct.prototype,"dragAppend",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"dragAppend"),ct.prototype),cn(ct.prototype,"dragAppendEnd",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"dragAppendEnd"),ct.prototype),cn(ct.prototype,"updatePointsAfterDrag",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"updatePointsAfterDrag"),ct.prototype),cn(ct.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"getAdjustStart"),ct.prototype),cn(ct.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"getAdjustEnd"),ct.prototype),cn(ct.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(ct.prototype,"updateAfterAdjustStartAndEnd"),ct.prototype),ct),ri=function(e){var t=e.start,n=e.end,r=e.offset,i=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/i),m=Math.sqrt(i*i+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+m*Math.sin(l+d),u.leftY=t.y-m*Math.cos(l+d),u.rightX=t.x-m*Math.sin(l-d),u.rightY=t.y+m*Math.cos(l-d)):(u.leftX=t.x-m*Math.sin(l+d),u.leftY=t.y+m*Math.cos(l+d),u.rightX=t.x+m*Math.sin(l-d),u.rightY=t.y-m*Math.cos(l-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+m*Math.sin(l-d),u.leftY=n.y-m*Math.cos(l-d),u.rightX=n.x-m*Math.sin(l+d),u.rightY=n.y+m*Math.cos(l+d)):(u.leftX=n.x-m*Math.sin(l-d),u.leftY=n.y+m*Math.cos(l-d),u.rightX=n.x+m*Math.sin(l+d),u.rightY=n.y-m*Math.cos(l+d))),u},Sb={x:1,y:0,z:0};function Up(e){var t=Math.hypot(e.x,e.y);return{x:e.x/t,y:e.y/t,z:0}}function Pb(e){return r=function(o,u){return o.x*u.y-o.y*u.x}(t=Sb,n=e),i=Math.acos(function(o,u){var l=[o.x,o.y,o.z];return[u.x,u.y,u.z].reduce(function(d,m,_){return d+m*l[_]})}(Up(t),Up(n))),r>=0?i:-i;var t,n,r,i}function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yp(Object(n),!0).forEach(function(r){kb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ab(e){return function(t){if(Array.isArray(t))return vc(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Vp(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gc(e){return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function aa(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||Vp(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vp(e,t){if(e){if(typeof e=="string")return vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vc(e,t):void 0}}function vc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bc=function(e){var t=[],n={};return e.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},ua=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},ca=function(e,t,n){var r=function(i,o){var u=Math.abs(i.x-o.centerX),l=Math.abs(i.y-o.centerY);return u/o.width>l/o.height?Tt.HORIZONTAL:Tt.VERTICAL}(n,t);return r===Tt.HORIZONTAL?{x:n.x>e.centerX?e.maxX:e.minX,y:n.y}:{x:n.x,y:n.y>e.centerY?e.maxY:e.minY}},Wp=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},oi=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(_){n.push(_.x),r.push(_.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-i,m=l-u;return t&&(d+=t,m+=t),{centerX:(i+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:i,minY:u,x:(i+o)/2,y:(u+l)/2,height:m,width:d}},sa=function(e){var t=e.minX,n=e.minY,r=e.maxX,i=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:i},{x:t,y:i}]},la=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},mc=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Kp=function(e,t,n,r,i){return mc(e,t)+mc(e,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(e,[t,n,r,i])},Tb=function e(t,n,r,i,o){o||(o=0),t.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&e(t,n,r,r[i],o+1)},ii=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(e.x-n.x)+i*(e.y-n.y))/(-u*o+i*l),m=(u*(e.y-n.y)-l*(e.x-n.x))/(-u*o+i*l);return d>=0&&d<=1&&m>=0&&m<=1},$p=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=aa(sa(n),4),i=r[0],o=r[1],u=r[2],l=r[3];return ii(e,t,i,o)||ii(e,t,i,l)||ii(e,t,o,u)||ii(e,t,u,l)},Db=function(e,t,n,r,i,o,u){var l=[],d=[t],m={},_={},S={};_[t.id]=0,S[t.id]=Kp(t,n,t);var P={};e.forEach(function(W){P[W.id]=W});for(var C=function(){var W,oe,re,de=void 0,me=1/0;if(d.forEach(function(Ee){S[Ee.id]<me&&(me=S[Ee.id],de=Ee)}),de===n){var Ae=[];return Tb(Ae,P,m,n.id),{v:Ae}}oe=de,(re=(W=d).indexOf(oe))>-1&&W.splice(re,1),l.push(de),function(Ee,Xe,Te,Be){var Re=[];return Ee.forEach(function(lt){lt!==Xe&&(lt.x!==Xe.x&&lt.y!==Xe.y||$p(lt,Xe,Te)||$p(lt,Xe,Be)||Re.push(lt))}),bc(Re)}(e,de,r,i).forEach(function(Ee){if(l.indexOf(Ee)===-1){d.indexOf(Ee)===-1&&d.push(Ee);var Xe=S[de.id]+mc(de,Ee);_[Ee.id]&&Xe>=_[Ee.id]||(m[Ee.id]=de.id,_[Ee.id]=Xe,S[Ee.id]=_[Ee.id]+Kp(Ee,n,t,o,u))}})};d.length;){var U=C();if(gc(U)==="object")return U.v}return[t,n]},qp=function(e){return En(e)},Zp=function(e){for(var t=1;t<e.length-1;){var n=e[t-1],r=e[t],i=e[t+1];n.x===r.x&&r.x===i.x||n.y===r.y&&r.y===i.y?e.splice(t,1):t++}return e},Jp=function(e,t,n,r,i){var o,u,l=qp(n),d=qp(r),m=ua(l,i),_=ua(d,i),S=ca(m,l,e),P=ca(_,d,t);if(o=m,u=_,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var C=Nb(e,t,S,P);return[e,S].concat(Ab(C),[P,t])}var U=oi([S,P]),W=Wp(m,U),oe=Wp(_,U),re=[];re=(re=re.concat(sa(W))).concat(sa(oe));var de={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[U,W,oe].forEach(function(Ae){re=re.concat(function(Ee,Xe){return function(Te,Be){return Be<Te.minX||Be>Te.maxX?[]:[{x:Be,y:Te.minY},{x:Be,y:Te.maxY}]}(Ee,Xe.x).concat(function(Te,Be){return Be<Te.minY||Be>Te.maxY?[]:[{x:Te.minX,y:Be},{x:Te.maxX,y:Be}]}(Ee,Xe.y))}(Ae,de).filter(function(Ee){return la(Ee,m)&&la(Ee,_)}))}),[{x:S.x,y:P.y},{x:P.x,y:S.y}].forEach(function(Ae){la(Ae,m)&&la(Ae,_)&&re.push(Ae)}),re.unshift(S),re.push(P),re=bc(re);var me=Db(re,S,P,l,d,e,t);return me.unshift(e),me.push(t),me.length>2&&(me=Zp(me)),bc(me)},Mb=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],i=$n(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],l=e[o+1],d=$n(u.x,u.y,l.x,l.y);d>i&&(i=d,n=u,r=l)}t=[n,r]}return t},Qp=function(e,t,n){var r=Mr(e,n),i=Mr(t,n);return r&&i},ed=function(e,t,n){var r=Mr(e,n),i=Mr(t,n);return!(r&&i)&&(r||i)},td=function(e,t,n){for(var r,i,o=En(n),u=sa(o),l=0;l<u.length;l++)ii(e,t,u[l],u[(l+1)%u.length])&&(i=[u[l],u[(l+1)%u.length]]);return i&&(r=function(d,m,_,S){var P=(m.y-d.y)*(S.x-_.x)-(d.x-m.x)*(_.y-S.y);if(P===0)return!1;var C=((m.x-d.x)*(S.x-_.x)*(_.y-d.y)+(m.y-d.y)*(S.x-_.x)*d.x-(S.y-_.y)*(m.x-d.x)*_.x)/P,U=-((m.y-d.y)*(S.y-_.y)*(_.x-d.x)+(m.x-d.x)*(S.y-_.y)*d.y-(S.x-_.x)*(m.y-d.y)*_.y)/P;return(C-d.x)*(C-m.x)<=0&&(U-d.y)*(U-m.y)<=0&&(C-_.x)*(C-S.x)<=0&&(U-_.y)*(U-S.y)<=0&&{x:C,y:U}}(e,t,i[0],i[1])),r},fa=function(e,t){var n;return e.x===t.x?n=Tt.VERTICAL:e.y===t.y&&(n=Tt.HORIZONTAL),n},Jr=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var i=aa(r.split(","),2),o=i[0],u=i[1];n.push({x:Number(o),y:Number(u)})}),n},Nb=function(e,t,n,r){var i=[];if(fa(e,n)===fa(t,r))e.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=Qo(o,e,n),l=Qo(o,t,r);if(u||l)o={x:r.x,y:n.y};else{var d=nd(o,e,n),m=nd(o,t,r);d&&m&&(o={x:r.x,y:n.y})}i.push(o)}return i},nd=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},rd=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},od=function(e){var t=e.start,n=e.end,r=e.sourceNode,i=e.targetNode,o=e.offset,u=En(r),l=En(i),d=ua(u,o),m=ua(l,o);return{sNext:ca(d,u,t),ePre:ca(m,l,n)}},pa=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[da(t[0]),da(t[1]),da(t[2]),da(t[3])]},da=function(e){var t=aa(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},id=function(e){var t=pa(e),n=aa(t,4),r=function(i,o,u,l){return function(d){if(d<0||d>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:i.x*Math.pow(1-d,3)+3*o.x*d*Math.pow(1-d,2)+3*u.x*Math.pow(d,2)*(1-d)+l.x*Math.pow(d,3),y:i.y*Math.pow(1-d,3)+3*o.y*d*Math.pow(1-d,2)+3*u.y*Math.pow(d,2)*(1-d)+l.y*Math.pow(d,3)}}(.95)}(n[0],n[1],n[2],n[3]);return[r,t[3]]},ad=function(e,t){for(var n,r=e.x,i=e.y,o=Jr(t),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(P){var C=P.start,U=P.end;if(C.x===U.x){var W={x:C.x,y:i};if(Qo(W,C,U)){var oe=Math.abs(C.x-r);oe<u&&(u=oe,n=W)}}else if(C.y===U.y){var re={x:r,y:C.y};if(Qo(re,C,U)){var de=Math.abs(C.y-i);de<u&&(u=de,n=re)}}}),!n){var m=l[0],_=m.start,S=m.end;n={x:_.x+(S.x-_.x)/2,y:_.y+(S.y-_.y)/2}}return n},Cb=function(e){return Zo(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},ud=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};a(204);var bo=function(){};function Rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn=window.document;function Ib(e){var t=e.onDragStart,n=t===void 0?bo:t,r=e.onDragging,i=r===void 0?bo:r,o=e.onDragEnd,u=o===void 0?bo:o,l=e.step,d=l===void 0?1:l,m=e.isStopPropagation,_=m===void 0||m,S=!1,P=!1,C=0,U=0,W=0,oe=0;function re(me){if(_&&me.stopPropagation(),P&&(S=!0,W+=me.clientX-C,oe+=me.clientY-U,C=me.clientX,U=me.clientY,Math.abs(W)>d||Math.abs(oe)>d)){var Ae=W%d,Ee=oe%d,Xe=W-Ae,Te=oe-Ee;W=Ae,oe=Ee,i({deltaX:Xe,deltaY:Te,event:me})}}function de(me){if(_&&me.stopPropagation(),P=!1,qn.removeEventListener("mousemove",re,!1),qn.removeEventListener("mouseup",de,!1),S)return S=!1,u({event:me})}return function(me){if(me.button===0)return _&&me.stopPropagation(),P=!0,C=me.clientX,U=me.clientY,qn.addEventListener("mousemove",re,!1),qn.addEventListener("mouseup",de,!1),n({event:me})}}var le,cd,sd,ld,fd,pd,dd,hd,yd,gd,vd,bd,md,dr=function(){function e(r){var i=this,o=r.onDragStart,u=o===void 0?bo:o,l=r.onDragging,d=l===void 0?bo:l,m=r.onDragEnd,_=m===void 0?bo:m,S=r.eventType,P=S===void 0?"":S,C=r.eventCenter,U=C===void 0?null:C,W=r.step,oe=W===void 0?1:W,re=r.isStopPropagation,de=re===void 0||re,me=r.model,Ae=me===void 0?null:me,Ee=r.data,Xe=Ee===void 0?null:Ee;(function(Te,Be){if(!(Te instanceof Be))throw new TypeError("Cannot call a class as a function")})(this,e),Ut(this,"onDragStart",void 0),Ut(this,"onDragging",void 0),Ut(this,"onDragEnd",void 0),Ut(this,"step",void 0),Ut(this,"isStopPropagation",void 0),Ut(this,"isDragging",!1),Ut(this,"isStartDragging",!1),Ut(this,"startX",0),Ut(this,"startY",0),Ut(this,"sumDeltaX",0),Ut(this,"sumDeltaY",0),Ut(this,"eventType",void 0),Ut(this,"eventCenter",void 0),Ut(this,"model",void 0),Ut(this,"data",void 0),Ut(this,"startTime",void 0),Ut(this,"handleMouseDown",function(Te){var Be,Re;if(Te.button===0){i.isStopPropagation&&Te.stopPropagation(),i.isStartDragging=!0,i.startX=Te.clientX,i.startY=Te.clientY,qn.addEventListener("mousemove",i.handleMouseMove,!1),qn.addEventListener("mouseup",i.handleMouseUp,!1);var lt=(Be=i.model)===null||Be===void 0?void 0:Be.getData();(Re=i.eventCenter)===null||Re===void 0||Re.emit(tt["".concat(i.eventType,"_MOUSEDOWN")],{e:Te,data:i.data||lt}),i.startTime=new Date().getTime()}}),Ut(this,"handleMouseMove",function(Te){if(i.isStopPropagation&&Te.stopPropagation(),i.isStartDragging&&(i.sumDeltaX+=Te.clientX-i.startX,i.sumDeltaY+=Te.clientY-i.startY,i.startX=Te.clientX,i.startY=Te.clientY,i.step<=1||Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var Be,Re=i.sumDeltaX%i.step,lt=i.sumDeltaY%i.step,Et=i.sumDeltaX-Re,mt=i.sumDeltaY-lt;i.sumDeltaX=Re,i.sumDeltaY=lt;var St,Ht=(Be=i.model)===null||Be===void 0?void 0:Be.getData();i.isDragging||((St=i.eventCenter)===null||St===void 0||St.emit(tt["".concat(i.eventType,"_DRAGSTART")],{e:Te,data:i.data||Ht}),i.onDragStart({event:Te})),i.isDragging=!0,Promise.resolve().then(function(){var Wt,fn;i.onDragging({deltaX:Et,deltaY:mt,event:Te}),(Wt=i.eventCenter)===null||Wt===void 0||Wt.emit(tt["".concat(i.eventType,"_MOUSEMOVE")],{e:Te,data:i.data||Ht}),(fn=i.eventCenter)===null||fn===void 0||fn.emit(tt["".concat(i.eventType,"_DRAG")],{e:Te,data:i.data||Ht})})}}),Ut(this,"handleMouseUp",function(Te){i.isStartDragging=!1,i.isStopPropagation&&Te.stopPropagation(),Promise.resolve().then(function(){var Be,Re,lt;qn.removeEventListener("mousemove",i.handleMouseMove,!1),qn.removeEventListener("mouseup",i.handleMouseUp,!1);var Et=(Be=i.model)===null||Be===void 0?void 0:Be.getData();(Re=i.eventCenter)===null||Re===void 0||Re.emit(tt["".concat(i.eventType,"_MOUSEUP")],{e:Te,data:i.data||Et}),i.isDragging&&(i.isDragging=!1,i.onDragEnd({event:Te}),(lt=i.eventCenter)===null||lt===void 0||lt.emit(tt["".concat(i.eventType,"_DROP")],{e:Te,data:i.data||Et}))})}),Ut(this,"cancelDrag",function(){qn.removeEventListener("mousemove",i.handleMouseMove,!1),qn.removeEventListener("mouseup",i.handleMouseUp,!1),i.onDragEnd({event:null}),i.isDragging=!1}),this.onDragStart=u,this.onDragging=d,this.onDragEnd=_,this.step=oe,this.isStopPropagation=de,this.eventType=P,this.eventCenter=U,this.model=Ae,this.data=Xe}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Rb(t.prototype,n),e}(),Od={node:!1,edge:!1},Lb={node:!0,edge:!0};function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_d(Object(n),!0).forEach(function(r){Zn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ai(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||wd(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mo(e){return function(t){if(Array.isArray(t))return Oc(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||wd(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wd(e,t){if(e){if(typeof e=="string")return Oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oc(e,t):void 0}}function Oc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ya(e){return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function Nn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function zb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var xd,Ed=200,jd=(le=function(){function e(r){(function(U,W){if(!(U instanceof W))throw new TypeError("Cannot call a class as a function")})(this,e),Zn(this,"rootEl",void 0),Nn(this,"width",cd,this),Nn(this,"height",sd,this),Zn(this,"theme",void 0),Zn(this,"eventCenter",void 0),Zn(this,"modelMap",new Map),Zn(this,"topElement",void 0),Zn(this,"animation",void 0),Zn(this,"idGenerator",void 0),Zn(this,"edgeGenerator",void 0),Zn(this,"nodeMoveRules",[]),Nn(this,"edgeType",ld,this),Nn(this,"nodes",fd,this),Nn(this,"edges",pd,this),Nn(this,"overlapMode",dd,this),Nn(this,"background",hd,this),Nn(this,"transformModel",yd,this),Nn(this,"editConfigModel",gd,this),Nn(this,"gridSize",vd,this),Nn(this,"partial",bd,this),Nn(this,"fakerNode",md,this);var i,o,u,l=r.container,d=r.background,m=d===void 0?{}:d,_=r.grid,S=r.idGenerator,P=r.edgeGenerator,C=r.animation;this.background=m,ya(_)==="object"&&(this.gridSize=_.size),this.rootEl=l,this.editConfigModel=new Cf(r),this.eventCenter=new tb,this.transformModel=new Ov(this.eventCenter),this.theme=rp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(i=C)&&typeof i!="boolean"?np(Mt(Od),i):Mt(i===!0?Lb:Od),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=S,this.edgeGenerator=(o=this,typeof(u=P)!="function"?function(U,W,oe){return Object.assign({type:o.edgeType},oe)}:function(U,W,oe){var re=u(U,W,oe);return re?typeof re=="string"?Object.assign({},oe,{type:re}):Object.assign({type:re},oe):{type:o.edgeType}}),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=Dr()}var t,n;return t=e,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"modelsMap",get:function(){return[].concat(mo(this.nodes),mo(this.edges)).reduce(function(r,i){return r[i.id]=i,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(m){return r.push(m)}),this.edges.forEach(function(m){return r.push(m)}),r=r.sort(function(m,_){return m.zIndex-_.zIndex});for(var i=[],o=[-200,-200],u=[this.width+Ed,this.height+Ed],l=0;l<r.length;l++){var d=r[l];d.visible&&(!this.partial||d.isSelected||this.isElementInArea(d,o,u,!1,!1))&&i.push(d)}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===_t.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===_t.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(i){i.isSelected&&r.push(i)}),r}},{key:"getAreaElement",value:function(r,i){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=arguments.length>4&&arguments[4]!==void 0&&arguments[4],d=[],m=[];this.nodes.forEach(function(P){return m.push(P)}),this.edges.forEach(function(P){return m.push(P)});for(var _=0;_<m.length;_++){var S=m[_];l&&!S.visible||!this.isElementInArea(S,r,i,o,u)||d.push(S)}return d}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:i-u.left,y:o-u.top},d=ai(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,i,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Xt.NODE){for(var d=En(r=r),m=d.minX,_=d.minY,S=d.maxX,P=d.maxY,C=[{x:m,y:_},{x:S,y:_},{x:S,y:P},{x:m,y:P}],U=l,W=0;W<C.length;W++){var oe=C[W],re=oe.x,de=oe.y,me=this.transformModel.CanvasPointToHtmlPoint([re,de]),Ae=ai(me,2);if(re=Ae[0],de=Ae[1],Ju([re,de],i,o)!==l){U=!l;break}}return U}if(r.BaseType===Xt.EDGE){var Ee=r=r,Xe=Ee.startPoint,Te=Ee.endPoint,Be=this.transformModel.CanvasPointToHtmlPoint([Xe.x,Xe.y]),Re=this.transformModel.CanvasPointToHtmlPoint([Te.x,Te.y]),lt=Ju(Be,i,o),Et=Ju(Re,i,o);return u?lt&&Et:lt||Et}return!1}},{key:"graphDataToModel",value:function(r){var i=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=ea(r.nodes,function(o){var u=i.getModel(o.type);if(!u)throw new Error("找不到".concat(o.type,"对应的节点。"));var l=o.x,d=o.y;return l&&d&&(o.x=Tr(l,i.gridSize),o.y=Tr(d,i.gridSize),ya(o.text)==="object"&&(o.text.x-=op(l,i.gridSize),o.text.y-=op(d,i.gridSize))),new u(o,i)}):this.nodes=[],r.edges?this.edges=ea(r.edges,function(o){var u=i.getModel(o.type);if(!u)throw new Error("找不到".concat(o.type,"对应的边。"));return new u(o,i)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&!o.virtual&&r.push(u)});var i=[];return this.nodes.forEach(function(o){var u=o.getData();u&&!o.virtual&&i.push(u)}),{nodes:i,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,i=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}i.push(u.getHistoryData())}if(r)return!1;for(var l=!1,d=[],m=0;m<this.edges.length;m++){var _=this.edges[m];if(_.isDragging){l=!0;break}d.push(_.getHistoryData())}return!l&&{nodes:i,edges:d}}},{key:"getEdgeModelById",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&i.push(u)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(u){if(u.BaseType===Xt.NODE&&o.nodes.push(u.getData()),u.BaseType===Xt.EDGE){var l=u.getData(),d=i.get(l.sourceNodeId)&&i.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=Dr()),this.nodesMap[i]?"":this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,this.nodesMap[i]=this.nodesMap[r],i):""}},{key:"changeEdgeId",value:function(r,i){return i||(i=Dr()),this.edgesMap[i]?"":this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&o.changeEdgeId(i)}),i):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"toFront",value:function(r){var i,o,u,l=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===xn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===xn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,i){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof i=="number"&&(l=i),i==="top"&&(l=ic()),i==="bottom"&&(l=--pb),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(tt.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt.NODE_ADD,o=arguments.length>2?arguments[2]:void 0,u=en(r);u.id&&this.nodesMap[r.id]&&delete u.id;var l=this.getModel(u.type);if(!l)throw new Error("找不到".concat(u.type,"对应的节点，请确认是否已注册此类型节点。"));u.x=Tr(u.x,this.gridSize),u.y=Tr(u.y,this.gridSize);var d=new l(u,this);this.nodes.push(d);var m=d.getData(),_={data:m};return o&&(_.e=o),this.eventCenter.emit(i,_),d}},{key:"cloneNode",value:function(r){var i=this.getNodeModelById(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),i.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.getMoveDistance(i,o,u),_=ai(m,2);i=_[0],o=_[1],this.moveEdge(r,i,o)}}},{key:"moveNode2Coordinate",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.x,_=d.y,S=i-m,P=o-_;this.moveNode(r,S,P,u)}}},{key:"editText",value:function(r){this.setElementStateById(r,_t.TEXT_EDIT)}},{key:"addEdge",value:function(r){var i=en(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var u=this.getModel(o);if(!u)throw new Error("找不到".concat(o,"对应的边，请确认是否已注册此类型边。"));var l=new u(ha(ha({},i),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(tt.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,i,o){for(var u=0;u<this.edges.length;u++){var l=this.edges[u],d=l.textPosition,m=d.x,_=d.y,S=this.edges[u].sourceNodeId===r,P=this.edges[u].targetNodeId===r;S&&l.moveStartPoint(i,o),P&&l.moveEndPoint(i,o),(S||P)&&this.handleEdgeTextMove(l,m,_)}}},{key:"handleEdgeTextMove",value:function(r,i,o){var u;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===ht.POLYLINE_EDGE&&(u=r.text)!==null&&u!==void 0&&u.value){var l=r.text,d=ad(l,r.points);r.moveText(d.x-l.x,d.y-l.y)}else{var m=r.textPosition,_=m.x,S=m.y;r.moveText(_-i,S-o)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(tt.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var i=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,i,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(_t.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(_t.DEFAULT)})}},{key:"updateText",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"selectNodeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===xn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,i,o){for(var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3],d=r.reduce(function(Ae,Ee){var Xe=u.nodesMap[Ee].model.getMoveDistance(i,o,l);return Ae[Ee]=Xe,Ae},{}),m=0;m<this.edges.length;m++){var _=this.edges[m],S=_.textPosition,P=S.x,C=S.y,U=d[_.sourceNodeId],W=void 0,oe=void 0;if(U){var re=ai(U,2);W=re[0],oe=re[1],_.moveStartPoint(W,oe)}var de=d[_.targetNodeId];if(de){var me=ai(de,2);W=me[0],oe=me[1],_.moveEndPoint(W,oe)}(U||de)&&this.handleEdgeTextMove(_,P,C)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=i;var l=this.getModel(i);if(!l)throw new Error("找不到".concat(i,"对应的节点，请确认是否已注册此类型节点。"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(m){if(m.sourceNodeId===r){var _=Np(d,m.startPoint,d.width,d.height);m.updateStartPoint(_)}if(m.targetNodeId===r){var S=Np(d,m.endPoint,d.width,d.height);m.updateEndPoint(S)}})}}},{key:"changeEdgeType",value:function(r,i){var o=this.getEdgeModelById(r);if(o&&o.type!==i){var u=o.getData();u.type=i;var l=this.getModel(i);if(!l)throw new Error("找不到".concat(i,"对应的节点，请确认是否已注册此类型节点。"));delete u.pointsList;var d=new l(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}},{key:"getNodeIncomingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.targetNodeId===r&&i.push(o)}),i}},{key:"getNodeOutgoingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&i.push(o)}),i}},{key:"getNodeIncomingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(i.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(i.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=rp(ha(ha({},this.theme),r))}},{key:"resize",value:function(r,i){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=i||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,i=[],o=[];r.forEach(function(S){var P=S.x,C=S.y,U=S.width,W=S.height,oe=S.getNodeStyle().strokeWidth,re=oe===void 0?0:oe;i=i.concat([P+U/2+re,P-U/2-re]),o=o.concat([C+W/2+re,C-W/2-re])});var u=Math.min.apply(Math,mo(i)),l=Math.max.apply(Math,mo(i)),d=Math.min.apply(Math,mo(o)),m=l-u||0,_=Math.max.apply(Math,mo(o))-d||0;return{virtualRectWidth:m,virtualRectHeight:_,virtualRectCenterPositionX:u+m/2,virtualRectCenterPositionY:d+_/2}}},{key:"translateCenter",value:function(){var r=this.nodes,i=this.width,o=this.height,u=this.rootEl,l=this.transformModel;if(r.length){var d=i||u.clientWidth,m=o||u.clientHeight,_=this.getVirtualRectSize(),S=_.virtualRectCenterPositionX,P=_.virtualRectCenterPositionY;l.focusOn(S,P,d,m)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,u=this.width,l=this.height,d=this.rootEl,m=this.transformModel;if(o.length){var _=u||d.clientWidth,S=l||d.clientHeight,P=this.getVirtualRectSize(),C=P.virtualRectWidth,U=P.virtualRectHeight,W=P.virtualRectCenterPositionX,oe=P.virtualRectCenterPositionY,re=(C+i)/_,de=(U+r)/S,me=0;me=1/Math.max(re,de);var Ae=[_/2,S/2];m.zoom(me,Ae),m.focusOn(W,oe,_,S)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&zb(t.prototype,n),e}(),cd=Ke(le.prototype,"width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sd=Ke(le.prototype,"height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ld=Ke(le.prototype,"edgeType",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fd=Ke(le.prototype,"nodes",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pd=Ke(le.prototype,"edges",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dd=Ke(le.prototype,"overlapMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.DEFAULT}}),hd=Ke(le.prototype,"background",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yd=Ke(le.prototype,"transformModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gd=Ke(le.prototype,"editConfigModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vd=Ke(le.prototype,"gridSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bd=Ke(le.prototype,"partial",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),md=Ke(le.prototype,"fakerNode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke(le.prototype,"nodesMap",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"nodesMap"),le.prototype),Ke(le.prototype,"edgesMap",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"edgesMap"),le.prototype),Ke(le.prototype,"modelsMap",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"modelsMap"),le.prototype),Ke(le.prototype,"sortElements",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"sortElements"),le.prototype),Ke(le.prototype,"textEditElement",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"textEditElement"),le.prototype),Ke(le.prototype,"selectElements",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"selectElements"),le.prototype),Ke(le.prototype,"selectNodes",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"selectNodes"),le.prototype),Ke(le.prototype,"setFakerNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setFakerNode"),le.prototype),Ke(le.prototype,"removeFakerNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"removeFakerNode"),le.prototype),Ke(le.prototype,"setModel",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setModel"),le.prototype),Ke(le.prototype,"toFront",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"toFront"),le.prototype),Ke(le.prototype,"setElementZIndex",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementZIndex"),le.prototype),Ke(le.prototype,"deleteNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteNode"),le.prototype),Ke(le.prototype,"addNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"addNode"),le.prototype),Ke(le.prototype,"cloneNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"cloneNode"),le.prototype),Ke(le.prototype,"moveNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode"),le.prototype),Ke(le.prototype,"moveNode2Coordinate",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode2Coordinate"),le.prototype),Ke(le.prototype,"editText",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"editText"),le.prototype),Ke(le.prototype,"addEdge",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"addEdge"),le.prototype),Ke(le.prototype,"moveEdge",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"moveEdge"),le.prototype),Ke(le.prototype,"deleteEdgeBySourceAndTarget",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySourceAndTarget"),le.prototype),Ke(le.prototype,"deleteEdgeById",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeById"),le.prototype),Ke(le.prototype,"deleteEdgeBySource",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySource"),le.prototype),Ke(le.prototype,"deleteEdgeByTarget",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeByTarget"),le.prototype),Ke(le.prototype,"setElementStateById",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementStateById"),le.prototype),Ke(le.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"updateText"),le.prototype),Ke(le.prototype,"selectNodeById",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"selectNodeById"),le.prototype),Ke(le.prototype,"selectEdgeById",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"selectEdgeById"),le.prototype),Ke(le.prototype,"selectElementById",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"selectElementById"),le.prototype),Ke(le.prototype,"clearSelectElements",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"clearSelectElements"),le.prototype),Ke(le.prototype,"moveNodes",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNodes"),le.prototype),Ke(le.prototype,"setDefaultEdgeType",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setDefaultEdgeType"),le.prototype),Ke(le.prototype,"changeNodeType",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"changeNodeType"),le.prototype),Ke(le.prototype,"changeEdgeType",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"changeEdgeType"),le.prototype),Ke(le.prototype,"getNodeIncomingEdge",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingEdge"),le.prototype),Ke(le.prototype,"getNodeOutgoingEdge",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingEdge"),le.prototype),Ke(le.prototype,"getNodeIncomingNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingNode"),le.prototype),Ke(le.prototype,"getNodeOutgoingNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingNode"),le.prototype),Ke(le.prototype,"setTheme",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setTheme"),le.prototype),Ke(le.prototype,"resize",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"resize"),le.prototype),Ke(le.prototype,"clearData",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"clearData"),le.prototype),Ke(le.prototype,"translateCenter",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"translateCenter"),le.prototype),Ke(le.prototype,"fitView",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"fitView"),le.prototype),Ke(le.prototype,"openEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"openEdgeAnimation"),le.prototype),Ke(le.prototype,"closeEdgeAnimation",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"closeEdgeAnimation"),le.prototype),le),Bb=jd;function _c(e){return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function wc(){return wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc.apply(this,arguments)}function Hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xc(e,t){return xc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xc(e,t)}function Fb(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ga(e);if(t){var i=ga(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xb(this,n)}}function Xb(e,t){if(t&&(_c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jn(e)}function Jn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ga(e){return ga=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ga(e)}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sd,Gb=Fn(xd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&xc(o,u)})(i,e);var t,n,r=Fb(i);function i(o){var u;(function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")})(this,i),hr(Jn(u=r.call(this)),"stepDrag",void 0),hr(Jn(u),"stepScrollX",0),hr(Jn(u),"stepScrollY",0),hr(Jn(u),"onDragging",function(_){var S=_.deltaX,P=_.deltaY;u.setState({isDragging:!0});var C=u.props.graphModel,U=C.transformModel;C.editConfigModel.stopMoveGraph||U.translate(S,P)}),hr(Jn(u),"onDragEnd",function(){u.setState({isDragging:!1})}),hr(Jn(u),"zoomHandler",function(_){var S=u.props,P=S.graphModel,C=P.editConfigModel,U=P.transformModel,W=P.gridSize,oe=S.graphModel,re=_.deltaX,de=_.deltaY;if(C.stopScrollGraph||_.ctrlKey===!0){if(!C.stopZoomGraph){_.preventDefault();var me=oe.getPointByClient({x:_.clientX,y:_.clientY}).canvasOverlayPosition,Ae=me.x,Ee=me.y;U.zoom(_.deltaY<0,[Ae,Ee])}}else{if(_.preventDefault(),u.stepScrollX+=re,u.stepScrollY+=de,Math.abs(u.stepScrollX)>=W){var Xe=u.stepScrollX%W,Te=u.stepScrollX-Xe;U.translate(-Te*U.SCALE_X,0),u.stepScrollX=Xe}if(Math.abs(u.stepScrollY)>=W){var Be=u.stepScrollY%W,Re=u.stepScrollY-Be;U.translate(0,-Re*U.SCALE_Y),u.stepScrollY=Be}}}),hr(Jn(u),"clickHandler",function(_){if(_.target.getAttribute("name")==="canvas-overlay"){var S=u.props.graphModel;S.selectElements.size>0&&S.clearSelectElements(),S.eventCenter.emit(tt.BLANK_CLICK,{e:_})}}),hr(Jn(u),"handleContextMenu",function(_){if(_.target.getAttribute("name")==="canvas-overlay"){_.preventDefault();var S=u.props.graphModel,P=S.getPointByClient({x:_.clientX,y:_.clientY});S.eventCenter.emit(tt.BLANK_CONTEXTMENU,{e:_,position:P})}}),hr(Jn(u),"mouseDownHandler",function(_){var S=u.props.graphModel,P=S.eventCenter,C=S.editConfigModel,U=S.transformModel.SCALE_X,W=S.gridSize,oe=_.target,re=!C.adjustEdge&&!C.adjustNodePosition;(oe.getAttribute("name")==="canvas-overlay"||re)&&(C.stopMoveGraph?P.emit(tt.BLANK_MOUSEDOWN,{e:_}):(u.stepDrag.setStep(W*U),u.stepDrag.handleMouseDown(_)),u.clickHandler(_))});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new dr({onDragging:u.onDragging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",isStopPropagation:!1,eventCenter:m,model:null}),u.state={isDragging:!1},u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,m=this.state.isDragging;return Object(ee.g)("svg",wc({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:m?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object(ee.g)("g",{transform:o},l))}}])&&Hb(t.prototype,n),i}(ee.a))||xd;function Ec(e){return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jc(e,t){return jc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jc(e,t)}function Vb(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=va(e);if(t){var i=va(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wb(this,n)}}function Wb(e,t){if(t&&(Ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function va(e){return va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},va(e)}var Kb=Fn(Sd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&jc(o,u)})(i,e);var t,n,r=Vb(i);function i(){return Ub(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(m){return Object(ee.g)(m,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"triggerToolRender",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=document.querySelector("#ToolOverlay_".concat(l.flowId)),m=u.getInstance();m.components.forEach(function(_){return _(m,d)}),m.components=[]}},{key:"render",value:function(){var o=this.props.graphModel;return Object(ee.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(o.flowId)},this.getTools())}}])&&Yb(t.prototype,n),i}(ee.a))||Sd;function Sc(e){return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function $b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pc(e,t){return Pc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pc(e,t)}function Zb(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ba(e);if(t){var i=ba(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jb(this,n)}}function Jb(e,t){if(t&&(Sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ba(e){return ba=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ba(e)}var Pd,Qb=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pc(o,u)})(i,e);var t,n,r=Zb(i);function i(){return $b(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.background;return Object(ee.g)("div",{className:"lf-background"},Object(ee.g)("div",{style:o,className:"lf-background-area"}))}}])&&qb(t.prototype,n),i}(ee.a);function kc(e){return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ac(e,t){return Ac=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ac(e,t)}function nm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ma(e);if(t){var i=ma(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rm(this,n)}}function rm(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kd(e)}function kd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ma(e){return ma=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ma(e)}function om(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ad=Fn(Pd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ac(o,u)})(i,e);var t,n,r=nm(i);function i(){var o;em(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return om(kd(o=r.call.apply(r,[this].concat(l))),"id",Dr()),o}return t=i,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?2:d,_=o.size,S=o.visible,P=Math.min(Math.max(2,m),_/2),C=1;return S||(C=0),Object(ee.g)("rect",{width:P,height:P,rx:P/2,ry:P/2,fill:l,opacity:C})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?1:d,_=o.size,S=o.visible,P=Math.min(Math.max(1,m),_/2),C="M ".concat(_," 0 H0 M0 0 V0 ").concat(_),U=1;return S||(U=0),Object(ee.g)("path",{d:C,stroke:l,strokeWidth:P,opacity:U})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformModel,m=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),_="matrix(".concat(m,")");return Object(ee.g)("div",{className:"lf-grid"},Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ee.g)("defs",null,Object(ee.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:_,x:"0",y:"0",width:l,height:l},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(ee.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&tm(t.prototype,n),i}(ee.a))||Pd;Ad.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(52);function Tc(e){return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function im(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Td(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Td(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Td(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dd,Oo=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=im(n,2),i=r[0],o=r[1];(i==="style"||Tc(o)!=="object")&&(t[i]=o)}),Object(ee.g)("line",t)};function Dc(e){return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function Md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Md(Object(n),!0).forEach(function(r){am(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Md(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function am(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mc(e,t){return Mc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mc(e,t)}function sm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=_a(e);if(t){var i=_a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lm(this,n)}}function lm(e,t){if(t&&(Dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_a(e)}var Nd,fm=Fn(Dd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Mc(o,u)})(i,e);var t,n,r=sm(i);function i(){return um(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,m=o.getStyle(),_=u.x,S=_===void 0?0:_,P=u.y,C=P===void 0?0:P,U=Oa(Oa({x1:-1e5,y1:C,x2:1e5,y2:C},m),{},{stroke:l?m.stroke:"none"}),W=Oa(Oa({x1:S,y1:-1e5,x2:S,y2:1e5},m),{},{stroke:d?m.stroke:"none"});return Object(ee.g)("g",{className:"lf-snapline"},Object(ee.g)(Oo,U),Object(ee.g)(Oo,W))}}])&&cm(t.prototype,n),i}(ee.a))||Dd;function Nc(e){return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function pm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Cd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Cd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cr(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.className,u=e.radius,l=t-r/2,d=n-i/2,m={};return Object.entries(e).forEach(function(_){var S=pm(_,2),P=S[0],C=S[1];Nc(C)!=="object"&&(m[P]=C)}),m.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",u&&(m.rx=u,m.ry=u),m.x=l,m.y=d,Object(ee.g)("rect",m)}function Cc(e){return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function _o(){return _o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(this,arguments)}function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rd(Object(n),!0).forEach(function(r){dm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rc(e,t){return Rc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rc(e,t)}function gm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wa(e);if(t){var i=wa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vm(this,n)}}function vm(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function wa(e){return wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wa(e)}Cr.defaultProps={className:"",radius:""};var Ld,bm=Fn(Nd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rc(o,u)})(i,e);var t,n,r=gm(i);function i(){return hm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,l=o.editConfigModel,d=l.hoverOutline,m=l.nodeSelectedOutline,_=[];return u.forEach(function(S){if(S.isHovered||S.isSelected){var P=S.isHovered,C=S.isSelected,U=S.x,W=S.y,oe=S.width,re=S.height;if(m&&C||d&&P){var de=S.getOutlineStyle(),me={};if(Object.keys(de).forEach(function(Ee){Ee!=="hover"&&(me[Ee]=de[Ee])}),P){var Ae=de.hover;me=Id(Id({},me),Ae)}_.push(Object(ee.g)(Cr,_o({className:"lf-outline-node",x:U,y:W,width:oe+10,height:re+10},me)))}}}),_}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfigModel,d=l.edgeSelectedOutline,m=l.hoverOutline,_=[],S=0;S<u.length;S++){var P=u[S];(d&&P.isSelected||m&&P.isHovered)&&(P.modelType===ht.LINE_EDGE?_.push(this.getLineOutline(P)):P.modelType===ht.POLYLINE_EDGE?_.push(this.getPolylineOutline(P)):P.modelType===ht.BEZIER_EDGE&&_.push(this.getBezierOutline(P)))}return _}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,m=(u.y+l.y)/2,_=Math.abs(u.x-l.x)+10,S=Math.abs(u.y-l.y)+10,P=o.getOutlineStyle();return Object(ee.g)(Cr,_o({className:"lf-outline-edge",x:d,y:m,width:_,height:S},P))}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=Jr(u),d=oi(l,8),m=d.x,_=d.y,S=d.width,P=d.height,C=o.getOutlineStyle();return Object(ee.g)(Cr,_o({className:"lf-outline",x:m,y:_,width:S,height:P},C))}},{key:"getBezierOutline",value:function(o){var u=o.path,l=pa(u),d=oi(l,8),m=d.x,_=d.y,S=d.width,P=d.height,C=o.getOutlineStyle();return Object(ee.g)(Cr,_o({className:"lf-outline",x:m,y:_,width:S,height:P},C))}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&ym(t.prototype,n),i}(ee.a))||Nd;function Ic(e){return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function mm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return zd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return zd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ui(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.r,u=o===void 0?4:o,l=e.className,d={cx:n,cy:i,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(m){var _=mm(m,2),S=_[0],P=_[1];Ic(P)!=="object"&&(d[S]=P)}),d.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(ee.g)("circle",d)}function Lc(e){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function Om(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Bd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Bd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ci(){return ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ci.apply(this,arguments)}function Hd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xd(e,t,n){return t&&Fd(e.prototype,t),n&&Fd(e,n),e}function Gd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zc(e,t)}function zc(e,t){return zc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zc(e,t)}function Ud(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ea(e);if(t){var i=Ea(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xa(e)}function xa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ea(e){return Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ea(e)}function Bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yd,Vd=function(e){Gd(n,e);var t=Ud(n);function n(){var r;return Hd(this,n),Bc(xa(r=t.call(this)),"dragHandler",void 0),Bc(xa(r),"onDragging",function(i){var o=i.event,u=r.props,l=u.graphModel,d=u.bezierModel,m=u.type,_=l.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,S=_.x,P=_.y;d.updateAdjustAnchor({x:S,y:P},m)}),Bc(xa(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new dr({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return Xd(n,[{key:"render",value:function(){var r=this,i=this.props.position,o=i.x,u=i.y,l=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ee.g)(ui,ci({className:"lf-bezier-adjust-anchor",x:o,y:u},l,{onMouseDown:function(d){r.dragHandler.handleMouseDown(d)}}))}}]),n}(ee.a),wm=Fn(Ld=function(e){Gd(n,e);var t=Ud(n);function n(){return Hd(this,n),t.apply(this,arguments)}return Xd(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,u=r.id,l=Om(pa(o),4),d=l[0],m=l[1],_=l[2],S=l[3],P=r.getEdgeStyle().adjustLine,C=[];return C.push(Object(ee.g)(Oo,ci({x1:d.x,y1:d.y,x2:m.x,y2:m.y},P))),C.push(Object(ee.g)(Vd,{position:m,bezierModel:r,graphModel:i,key:"".concat(u,"_ePre"),type:"sNext"})),C.push(Object(ee.g)(Oo,ci({x1:S.x,y1:S.y,x2:_.x,y2:_.y},P))),C.push(Object(ee.g)(Vd,{position:_,bezierModel:r,graphModel:i,key:"".concat(u,"_sNext"),type:"ePre"})),C}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],u=0;u<i.length;u++){var l=i[u];l.isSelected&&l.modelType===ht.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ee.a))||Ld;function Hc(e){return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function xm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fc(e,t){return Fc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fc(e,t)}function jm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ja(e);if(t){var i=ja(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sm(this,n)}}function Sm(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ja(e){return ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ja(e)}var Wd,Pm=Fn(Yd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Fc(o,u)})(i,e);var t,n,r=jm(i);function i(){return xm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ee.g)("g",{transform:o},u))}}])&&Em(t.prototype,n),i}(ee.a))||Yd;function Xc(e){return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function Gc(){return Gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gc.apply(this,arguments)}function km(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uc(e,t){return Uc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Uc(e,t)}function Tm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Sa(e);if(t){var i=Sa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Dm(this,n)}}function Dm(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Sa(e){return Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sa(e)}var Mm=Fn(Wd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Uc(o,u)})(i,e);var t,n,r=Tm(i);function i(){return km(this,i),r.apply(this,arguments)}return t=i,n=[{key:"getComponent",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,m=d(o.type);return Object(ee.g)(m,{key:o.id,model:o,graphModel:u,overlay:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,m=u.options,_=u.dnd,S=u.snaplineModel,P={};m.width&&(P.width="".concat(l.width,"px")),m.height&&(P.height="".concat(l.height,"px"));var C=m.grid,U=l.fakerNode,W=l.editConfigModel.adjustEdge;return Object(ee.g)("div",{className:"lf-graph","flow-id":l.flowId,style:P},Object(ee.g)(Gb,{graphModel:l,dnd:_},Object(ee.g)("g",{className:"lf-base"},ea(l.sortElements,function(oe){return o.getComponent(oe,l)})),U?this.getComponent(U,l):""),Object(ee.g)(Pm,{graphModel:l},Object(ee.g)(bm,{graphModel:l}),W?Object(ee.g)(wm,{graphModel:l}):"",m.snapline!==!1?Object(ee.g)(fm,{snaplineModel:S}):""),Object(ee.g)(Kb,{graphModel:l,tool:d}),m.background&&Object(ee.g)(Qb,{background:m.background}),m.grid&&Object(ee.g)(Ad,Gc({},C,{graphModel:l})))}}],n&&Am(t.prototype,n),i}(ee.a))||Wd,Nm=Mm;function Kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kd(Object(n),!0).forEach(function(r){yr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rm=function(){function e(r){var i=this;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),yr(this,"nodeConfig",void 0),yr(this,"lf",void 0),yr(this,"fakerNode",void 0),yr(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),yr(this,"dragEnter",function(u){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(Pa(Pa({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),yr(this,"onDragOver",function(u){if(u.preventDefault(),i.fakerNode){var l=i.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=l.x,m=l.y;i.fakerNode.moveTo(d,m);var _=i.fakerNode.getData();i.lf.setNodeSnapLine(_),i.lf.graphModel.eventCenter.emit(tt.NODE_DND_DRAG,{data:_})}return!1}),yr(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),yr(this,"onDrop",function(u){i.lf.graphModel&&u&&i.nodeConfig&&(i.lf.addNode(Pa(Pa({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY})),tt.NODE_DND_ADD,u),u.preventDefault(),u.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,u=uf(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,d=l.x,m=l.y;return{x:Tr(d,u),y:Tr(m,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Cm(t.prototype,n),e}();function $d(e){var t=e.container,n=e.grid,r=e.width,i=e.height;if(!t)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof i=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(e.grid=un({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),un({},Zd,e)}var bt,qd,Zd={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Yc(e){return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function Vc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Jd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qd(Object(n),!0).forEach(function(r){eh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Im(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(){return si=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=Bm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},si.apply(this,arguments)}function Bm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Rr(e))!==null;);return e}function Wc(e,t){return Wc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wc(e,t)}function Hm(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Rr(e);if(t){var i=Rr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fm(this,n)}}function Fm(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aa(e)}function Aa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rr(e){return Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(e)}function eh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Kc=(bt=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Wc(o,u)})(i,e);var t,n,r=Hm(i);function i(){var o;Lm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return eh(Aa(o=r.call.apply(r,[this].concat(l))),"modelType",ht.BEZIER_EDGE),Im(Aa(o),"path",qd,Aa(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=100,si(Rr(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return ka(ka({},si(Rr(i.prototype),"getEdgeStyle",this).call(this)),Mt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,m=l.y;o+=d,u+=m}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=si(Rr(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return ka(ka({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return od({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=Vc(o,4),l=u[0],d=u[1],m=u[2],_=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(_.x," ").concat(_.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),u=o.sNext,l=o.ePre;this.updatePath(u,l)}},{key:"updatePath",value:function(o,u){o=Mt(o),u=Mt(u);var l={x:this.startPoint.x,y:this.startPoint.y},d={x:this.endPoint.x,y:this.endPoint.y};if(!o||!u){var m=this.getControls();o=m.sNext,u=m.ePre}this.pointsList=[l,o,u,d],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u;var l=Vc(this.pointsList,3),d=l[1],m=l[2];d.x+=o,d.y+=u,this.updatePath(d,m)}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u;var l=Vc(this.pointsList,3),d=l[1],m=l[2];m.x+=o,m.y+=u,this.updatePath(d,m)}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,_=od({start:u,end:l,sourceNode:d,targetNode:m,offset:this.offset}),S=_.sNext,P=_.ePre;this.pointsList=[u,S,P,l],this.initPoints()}}])&&zm(t.prototype,n),i}(uc),qd=zn(bt.prototype,"path",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zn(bt.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(bt.prototype,"initPoints"),bt.prototype),zn(bt.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(bt.prototype,"updatePoints"),bt.prototype),zn(bt.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateStartPoint"),bt.prototype),zn(bt.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateEndPoint"),bt.prototype),zn(bt.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(bt.prototype,"moveStartPoint"),bt.prototype),zn(bt.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(bt.prototype,"moveEndPoint"),bt.prototype),zn(bt.prototype,"updateAdjustAnchor",[s.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateAdjustAnchor"),bt.prototype),zn(bt.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(bt.prototype,"getAdjustStart"),bt.prototype),zn(bt.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(bt.prototype,"getAdjustEnd"),bt.prototype),zn(bt.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateAfterAdjustStartAndEnd"),bt.prototype),bt),Ne,th,nh,rh,oh,ih,ah,uh,ch,sh,lh,fh,ph,dh,hh,yh,gh,vh,bh,mh,Xm=function(e){return e==null};function $c(e){return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Gm(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,m){if(d){if(typeof d=="string")return Oh(d,m);var _=Object.prototype.toString.call(d).slice(8,-1);if(_==="Object"&&d.constructor&&(_=d.constructor.name),_==="Map"||_==="Set")return Array.from(d);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Oh(d,m)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function Oh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_h(Object(n),!0).forEach(function(r){gn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var gr,wh,vr=(Ne=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),gn(this,"id",""),Vt(this,"type",th,this),Vt(this,"x",nh,this),Vt(this,"y",rh,this),Vt(this,"text",oh,this),Vt(this,"properties",ih,this),Vt(this,"_width",ah,this),Vt(this,"_height",uh,this),Vt(this,"anchorsOffset",ch,this),Vt(this,"isSelected",sh,this),Vt(this,"isHovered",lh,this),Vt(this,"isShowAnchor",fh,this),Vt(this,"isDragging",ph,this),Vt(this,"isHitable",dh,this),Vt(this,"draggable",hh,this),Vt(this,"visible",yh,this),gn(this,"virtual",!1),gn(this,"graphModel",void 0),Vt(this,"zIndex",gh,this),Vt(this,"state",vh,this),Vt(this,"autoToFront",bh,this),Vt(this,"style",mh,this),gn(this,"BaseType",Xt.NODE),gn(this,"modelType",ht.NODE),gn(this,"additionStateData",void 0),gn(this,"targetRules",[]),gn(this,"sourceRules",[]),gn(this,"moveRules",[]),gn(this,"hasSetTargetRules",!1),gn(this,"hasSetSourceRules",!1),this.graphModel=i,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type),u=this.createId();r.id=u||o||Dr()}this.formatText(r),un(this,function(l){return Zo(l,["id","type","x","y","text","properties","virtual"])}(r)),this.graphModel.overlapMode===xn.INCREASE&&(this.zIndex=r.zIndex||ic())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l=this.properties;Object(s.x)(l)&&(l=Object(s.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===xn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:i,y:o,value:u}),d}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getNodeStyle",value:function(){return sn(sn({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Mt(r)}},{key:"getAnchorStyle",value:function(r){var i=this.graphModel.theme.anchor;return Mt(i)}},{key:"getAnchorLineStyle",value:function(r){var i=this.graphModel.theme.anchorLine;return Mt(i)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Mt(r)}},{key:"isAllowConnectedAsSource",value:function(r,i,o,u){var l=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var d,m=!0,_=0;_<l.length;_++){var S=l[_];if(!S.validate.call(this,this,r,i,o,u)){m=!1,d=S.message;break}}return{isAllPass:m,msg:d}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o,u){var l=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var d,m=!0,_=0;_<l.length;_++){var S=l[_];if(!S.validate.call(this,r,this,i,o,u)){m=!1,d=S.message;break}}return{isAllPass:m,msg:d}}},{key:"isAllowMoveNode",value:function(r,i){var o,u=!0,l=!0,d=Gm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(d.s();!(o=d.n()).done;){var m=(0,o.value)(this,r,i);if(!m)return!1;if($c(m)==="object"){var _=m;if(_.x===!1&&_.y===!1)return!1;u=u&&_.x,l=l&&_.y}}}catch(S){d.e(S)}finally{d.f()}return{x:u,y:l}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(l,d){return l.length?(l=l,{id:"".concat(i,"_").concat(d),x:o+l[0],y:u+l[1]}):sn(sn({},l=l),{},{x:o+l.x,y:u+l.y,id:l.id||"".concat(i,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(i,o){for(var u,l=nc(o),d=Number.MAX_SAFE_INTEGER,m=0;m<l.length;m++){var _=$n(i.x,i.y,l[m].x,l[m].y);_<d&&(d=_,u={index:m,anchor:cp(cp({},l[m]),{},{x:l[m].x,y:l[m].y,id:l[m].id})})}return u}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Xm(r))for(var i=0;i<this.anchors.length;i++){var o=this.anchors[i];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,l=!1;if(o)u=!0,l=!0;else{var d=this.isAllowMoveNode(r,i);typeof d=="boolean"?(u=d,l=d):(u=d.x,l=d.y)}if(u){var m=this.x+r;this.x=m,this.text&&this.moveText(r,0)}if(l){var _=this.y+i;this.y=_,this.text&&this.moveText(0,i)}return u||l}},{key:"getMoveDistance",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,l=!1,d=0,m=0;if(o)u=!0,l=!0;else{var _=this.isAllowMoveNode(r,i);typeof _=="boolean"?(u=_,l=_):(u=_.x,l=_.y)}if(u&&r){var S=this.x+r;this.x=S,this.text&&this.moveText(r,0),d=r}if(l&&i){var P=this.y+i;this.y=P,this.text&&this.moveText(0,i),m=i}return[d,m]}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=i-this.y;return!(!o&&!this.isAllowMoveNode(u,l)||(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=i,0))}},{key:"moveText",value:function(r,i){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,_=o.editable;this.text={value:d,editable:_,draggable:m,x:u+r,y:l+i}}},{key:"updateText",value:function(r){this.text=sn(sn({},Object(s.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setProperty",value:function(r,i){this.properties=sn(sn({},Object(s.I)(this.properties)),{},gn({},r,en(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=sn(sn({},Object(s.I)(this.properties)),en(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,i){this.style=sn(sn({},this.style),{},gn({},r,en(i)))}},{key:"setStyles",value:function(r){this.style=sn(sn({},this.style),en(r))}},{key:"updateStyles",value:function(r){this.style=sn({},en(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){un(this,r)}}],n&&Um(t.prototype,n),e}(),th=pt(Ne.prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nh=pt(Ne.prototype,"x",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rh=pt(Ne.prototype,"y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oh=pt(Ne.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ih=pt(Ne.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ah=pt(Ne.prototype,"_width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),uh=pt(Ne.prototype,"_height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),ch=pt(Ne.prototype,"anchorsOffset",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),sh=pt(Ne.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lh=pt(Ne.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fh=pt(Ne.prototype,"isShowAnchor",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ph=pt(Ne.prototype,"isDragging",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dh=pt(Ne.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hh=pt(Ne.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yh=pt(Ne.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gh=pt(Ne.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vh=pt(Ne.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bh=pt(Ne.prototype,"autoToFront",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mh=pt(Ne.prototype,"style",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pt(Ne.prototype,"incoming",[s.m],Object.getOwnPropertyDescriptor(Ne.prototype,"incoming"),Ne.prototype),pt(Ne.prototype,"outgoing",[s.m],Object.getOwnPropertyDescriptor(Ne.prototype,"outgoing"),Ne.prototype),pt(Ne.prototype,"addNodeMoveRules",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"addNodeMoveRules"),Ne.prototype),pt(Ne.prototype,"move",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"move"),Ne.prototype),pt(Ne.prototype,"getMoveDistance",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getMoveDistance"),Ne.prototype),pt(Ne.prototype,"moveTo",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveTo"),Ne.prototype),pt(Ne.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveText"),Ne.prototype),pt(Ne.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateText"),Ne.prototype),pt(Ne.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setSelected"),Ne.prototype),pt(Ne.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setHovered"),Ne.prototype),pt(Ne.prototype,"setIsShowAnchor",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setIsShowAnchor"),Ne.prototype),pt(Ne.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setHitable"),Ne.prototype),pt(Ne.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setElementState"),Ne.prototype),pt(Ne.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setProperty"),Ne.prototype),pt(Ne.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setProperties"),Ne.prototype),pt(Ne.prototype,"deleteProperty",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteProperty"),Ne.prototype),pt(Ne.prototype,"setStyle",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setStyle"),Ne.prototype),pt(Ne.prototype,"setStyles",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setStyles"),Ne.prototype),pt(Ne.prototype,"updateStyles",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateStyles"),Ne.prototype),pt(Ne.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setZIndex"),Ne.prototype),pt(Ne.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateAttributes"),Ne.prototype),Ne);function qc(e){return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xh(Object(n),!0).forEach(function(r){jh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ym(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zc(){return Zc=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=Km(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Zc.apply(this,arguments)}function Km(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=wo(e))!==null;);return e}function Jc(e,t){return Jc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Jc(e,t)}function $m(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wo(e);if(t){var i=wo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(e,t){if(t&&(qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ta(e)}function Ta(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wo(e)}function jh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qc(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var tn,Sh,Ph,es=(gr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Jc(o,u)})(i,e);var t,n,r=$m(i);function i(){var o;Vm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return jh(Ta(o=r.call.apply(r,[this].concat(l))),"modelType",ht.CIRCLE_NODE),Ym(Ta(o),"r",wh,Ta(o)),o}return t=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=Zc(wo(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return Eh(Eh({},o),Mt(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.r;return[{x:o,y:u-l,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+l,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Wm(t.prototype,n),i}(vr),wh=Qc(gr.prototype,"r",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Qc(gr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(gr.prototype,"width"),gr.prototype),Qc(gr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(gr.prototype,"height"),gr.prototype),gr);a(127);function ts(e){return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function ns(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return kh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return kh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ah(Object(n),!0).forEach(function(r){Mh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Zm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rs(){return rs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=Qm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rs.apply(this,arguments)}function Qm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Eo(e))!==null;);return e}function os(e,t){return os=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},os(e,t)}function e0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Eo(e);if(t){var i=Eo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return t0(this,n)}}function t0(e,t){if(t&&(ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xo(e)}function xo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eo(e){return Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(e)}function Mh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jo(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Qn,Nh,Ch,is=(tn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&os(o,u)})(i,e);var t,n,r=e0(i);function i(){var o;Zm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Mh(xo(o=r.call.apply(r,[this].concat(l))),"modelType",ht.DIAMOND_NODE),Dh(xo(o),"rx",Sh,xo(o)),Dh(xo(o),"ry",Ph,xo(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=rs(Eo(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return Th(Th({},o),Mt(u))}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=ns(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=ns(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,l){var d=ns(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(l)}})}}])&&Jm(t.prototype,n),i}(vr),Sh=jo(tn.prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ph=jo(tn.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),jo(tn.prototype,"points",[s.m],Object.getOwnPropertyDescriptor(tn.prototype,"points"),tn.prototype),jo(tn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(tn.prototype,"pointsPosition"),tn.prototype),jo(tn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(tn.prototype,"width"),tn.prototype),jo(tn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(tn.prototype,"height"),tn.prototype),tn);function as(e){return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function Rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rh(Object(n),!0).forEach(function(r){zh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function n0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function us(){return us=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=o0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},us.apply(this,arguments)}function o0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Po(e))!==null;);return e}function cs(e,t){return cs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cs(e,t)}function i0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Po(e);if(t){var i=Po(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a0(this,n)}}function a0(e,t){if(t&&(as(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return So(e)}function So(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e){return Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(e)}function zh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Da(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Cn,Bh,ss=(Qn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&cs(o,u)})(i,e);var t,n,r=i0(i);function i(){var o;n0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return zh(So(o=r.call.apply(r,[this].concat(l))),"modelType",ht.ELLIPSE_NODE),Lh(So(o),"rx",Nh,So(o)),Lh(So(o),"ry",Ch,So(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=us(Po(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return Ih(Ih({},o),Mt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&r0(t.prototype,n),i}(vr),Nh=Da(Qn.prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ch=Da(Qn.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Da(Qn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Qn.prototype,"width"),Qn.prototype),Da(Qn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Qn.prototype,"height"),Qn.prototype),Qn);function ls(e){return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function fs(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Hh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fh(Object(n),!0).forEach(function(r){Gh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ps(){return ps=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=l0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ps.apply(this,arguments)}function l0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ko(e))!==null;);return e}function ds(e,t){return ds=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ds(e,t)}function f0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ko(e);if(t){var i=ko(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(e,t){if(t&&(ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ma(e)}function Ma(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ko(e)}function Gh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Na(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var hs,Uh,ys=(Cn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ds(o,u)})(i,e);var t,n,r=f0(i);function i(){var o;c0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Gh(Ma(o=r.call.apply(r,[this].concat(l))),"modelType",ht.POLYGON_NODE),u0(Ma(o),"points",Bh,Ma(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=ps(ko(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return Xh(Xh({},o),Mt(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(m){return{x:m[0]+o-l/2,y:m[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=fs(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=fs(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,l=this.y,d=this.width,m=this.height;return this.points.map(function(_,S){var P=fs(_,2),C=P[0],U=P[1];return{x:u+C-d/2,y:l+U-m/2,id:"".concat(o.id,"_").concat(S)}})}}])&&s0(t.prototype,n),i}(vr),Bh=Na(Cn.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Na(Cn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Cn.prototype,"pointsPosition"),Cn.prototype),Na(Cn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Cn.prototype,"width"),Cn.prototype),Na(Cn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Cn.prototype,"height"),Cn.prototype),Cn);function gs(e){return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function Yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yh(Object(n),!0).forEach(function(r){Wh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vs(){return vs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=g0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},vs.apply(this,arguments)}function g0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ao(e))!==null;);return e}function bs(e,t){return bs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bs(e,t)}function v0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ao(e);if(t){var i=Ao(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b0(this,n)}}function b0(e,t){if(t&&(gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ca(e)}function Ca(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ao(e){return Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(e)}function Wh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ir,ms=(hs=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bs(o,u)})(i,e);var t,n,r=v0(i);function i(){var o;h0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Wh(Ca(o=r.call.apply(r,[this].concat(l))),"modelType",ht.RECT_NODE),d0(Ca(o),"radius",Uh,Ca(o)),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=vs(Ao(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return Vh(Vh({},o),Mt(u))}}])&&y0(t.prototype,n),i}(vr),Uh=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(hs.prototype,"radius",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hs);function Os(e){return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kh(Object(n),!0).forEach(function(r){Zh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _s(){return _s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var r=_0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_s.apply(this,arguments)}function _0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=To(e))!==null;);return e}function ws(e,t){return ws=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ws(e,t)}function w0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=To(e);if(t){var i=To(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x0(this,n)}}function x0(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qh(e)}function qh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function To(e){return To=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},To(e)}function Zh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jh(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var xs=(Ir=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ws(o,u)})(i,e);var t,n,r=w0(i);function i(){var o;m0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Zh(qh(o=r.call.apply(r,[this].concat(l))),"modelType",ht.TEXT_NODE),o}return t=i,(n=[{key:"getTextStyle",value:function(){var o=_s(To(i.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return $h($h({},o),Mt(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return oc({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return oc({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&O0(t.prototype,n),i}(vr),Jh(Ir.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Ir.prototype,"width"),Ir.prototype),Jh(Ir.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Ir.prototype,"height"),Ir.prototype),Ir);function Es(e){return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function E0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function js(e,t){return js=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},js(e,t)}function S0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ra(e);if(t){var i=Ra(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P0(this,n)}}function P0(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qh(e)}function Qh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ra(e){return Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ra(e)}function k0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bn,ey,ty,ny,Ss=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&js(o,u)})(i,e);var t,n,r=S0(i);function i(){var o;E0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return k0(Qh(o=r.call.apply(r,[this].concat(l))),"modelType",ht.HTML_NODE),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}}])&&j0(t.prototype,n),i}(vr);function ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ps(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function A0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var iy=(Bn=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),oy(this,"graphModel",void 0),Ps(this,"isShowHorizontal",ey,this),Ps(this,"isShowVertical",ty,this),Ps(this,"position",ny,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,n=[{key:"getStyle",value:function(){return function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?ry(Object(o),!0).forEach(function(u){oy(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ry(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,u=r.y,l=!1,d=!1,m=0;m<i.length;m++){var _=i[m];if(_.id!==r.id&&(o===_.x&&(l=!0),u===_.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=En(m);else{var _=this.graphModel.getNodeModelById(d);u=En(_)}}for(var S=0;S<i.length;S++){var P=i[S];if(P.id!==r.id){var C=En(P);if(C.minY===u.minY||C.maxY===u.minY){l=!0,o=u.minY;break}if(C.minY===u.maxY||C.maxY===u.maxY){l=!0,o=u.maxY;break}}}return un({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=En(m);else{var _=this.graphModel.getNodeModelById(d);u=En(_)}}for(var S=0;S<i.length;S++){var P=i[S];if(P.id!==r.id){var C=En(P);if(C.minX===u.minX||C.maxX===u.minX){l=!0,o=u.minX;break}if(C.minX===u.maxX||C.maxX===u.maxX){l=!0,o=u.maxX;break}}}return un({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,i);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var m=this.getVerticalSnapline(r,i);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}],n&&A0(t.prototype,n),e}(),ey=li(Bn.prototype,"isShowHorizontal",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ty=li(Bn.prototype,"isShowVertical",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ny=li(Bn.prototype,"position",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li(Bn.prototype,"clearSnapline",[s.k],Object.getOwnPropertyDescriptor(Bn.prototype,"clearSnapline"),Bn.prototype),li(Bn.prototype,"setNodeSnapLine",[s.k],Object.getOwnPropertyDescriptor(Bn.prototype,"setNodeSnapLine"),Bn.prototype),Bn),fi=new Map,ay=function(e){var t=Dr(),n=window.requestAnimationFrame(function r(){if(e(),fi.get(t)){var i=window.requestAnimationFrame(r);fi.set(t,i)}});return fi.set(t,n),t},Ia=function(e){var t=fi.get(e);t&&(window.cancelAnimationFrame(t),fi.delete(e))};function ks(e){return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function pi(){return pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(this,arguments)}function uy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uy(Object(n),!0).forEach(function(r){tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return cy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return cy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function As(e,t){return As=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},As(e,t)}function M0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=za(e);if(t){var i=za(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N0(this,n)}}function N0(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(e)}function er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function za(e){return za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},za(e)}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&As(o,u)})(i,e);var t,n,r=M0(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),tr(er(o=r.call(this)),"preTargetNode",void 0),tr(er(o),"sourceRuleResults",void 0),tr(er(o),"targetRuleResults",void 0),tr(er(o),"dragHandler",void 0),tr(er(o),"t",void 0),tr(er(o),"onDragStart",function(u){var l=u.event,d=o.props,m=d.anchorData,_=d.nodeModel,S=d.graphModel,P=S.overlapMode;S.selectNodeById(_.id),P!==xn.INCREASE&&_.autoToFront&&S.toFront(_.id),S.eventCenter.emit(tt.ANCHOR_DRAGSTART,{data:m,e:l,nodeModel:_}),o.setState({startX:m.x,startY:m.y,endX:m.x,endY:m.y})}),tr(er(o),"onDragging",function(u){var l=u.event,d=o.props,m=d.graphModel,_=d.nodeModel,S=d.anchorData,P=m.transformModel,C=m.eventCenter,U=m.width,W=m.height,oe=m.editConfigModel,re=oe.autoExpand,de=oe.stopMoveGraph,me=l.clientX,Ae=l.clientY,Ee=m.getPointByClient({x:me,y:Ae}),Xe=Ee.domOverlayPosition,Te=Xe.x,Be=Xe.y,Re=Ee.canvasOverlayPosition,lt=Re.x,Et=Re.y;o.t&&Ia(o.t);var mt=[];Te<10?mt=[10,0]:Te+10>U?mt=[-10,0]:Be<10?mt=[0,10]:Be+10>W&&(mt=[0,-10]),o.setState({endX:lt,endY:Et,dragging:!0}),o.moveAnchorEnd(lt,Et),mt.length>0&&!de&&re&&(o.t=ay(function(){var St=T0(mt,2),Ht=St[0],Wt=St[1];P.translate(Ht,Wt);var fn=o.state,or=fn.endX,Rn=fn.endY;o.setState({endX:or-Ht,endY:Rn-Wt}),o.moveAnchorEnd(or-Ht,Rn-Wt)})),C.emit(tt.ANCHOR_DRAG,{data:S,e:l,nodeModel:_})}),tr(er(o),"onDragEnd",function(u){var l=u.event;o.t&&Ia(o.t),o.checkEnd(l),o.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear();var d=o.props,m=d.graphModel,_=d.nodeModel,S=d.anchorData;m.eventCenter.emit(tt.ANCHOR_DRAGEND,{data:S,e:l,nodeModel:_})}),tr(er(o),"checkEnd",function(u){var l=o.props,d=l.graphModel,m=l.nodeModel,_=l.anchorData,S=_.x,P=_.y,C=_.id,U=(d.edgeType,o.state),W=U.endX,oe=U.endY,re=U.dragging,de=oa({x:W,y:oe},d);if(o.preTargetNode&&o.preTargetNode.state!==_t.DEFAULT&&o.preTargetNode.setElementState(_t.DEFAULT),re&&de&&de.node){var me=de.node,Ae=de.anchor.id,Ee="".concat(m.id,"_").concat(me.id,"_").concat(Ae,"_").concat(C),Xe=o.sourceRuleResults.get(Ee)||{},Te=Xe.isAllPass,Be=Xe.msg,Re=o.targetRuleResults.get(Ee)||{},lt=Re.isAllPass,Et=Re.msg;if(Te&&lt){me.setElementState(_t.DEFAULT);var mt=d.edgeGenerator(m.getData(),d.getNodeModelById(de.node.id).getData()),St=d.addEdge(La(La({},mt),{},{sourceNodeId:m.id,sourceAnchorId:C,startPoint:{x:S,y:P},targetNodeId:de.node.id,targetAnchorId:de.anchor.id,endPoint:{x:de.anchor.x,y:de.anchor.y}})),Ht=o.props.anchorData;d.eventCenter.emit(tt.ANCHOR_DROP,{data:Ht,e:u,nodeModel:m,edgeModel:St})}else{var Wt=me.getData();d.eventCenter.emit(tt.CONNECTION_NOT_ALLOWED,{data:Wt,msg:Et||Be})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},o.dragHandler=new dr({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"getAnchorShape",value:function(){var o=this.props,u=o.anchorData,l=o.style,d=o.node.getAnchorShape(u);if(d)return d;var m=u.x,_=u.y,S=La(La({},l),l.hover);return Object(ee.g)("g",null,Object(ee.g)(ui,pi({className:"lf-node-anchor-hover"},S,{x:m,y:_})),Object(ee.g)(ui,pi({className:"lf-node-anchor"},l,{x:m,y:_})))}},{key:"moveAnchorEnd",value:function(o,u){var l=this.props,d=l.graphModel,m=l.nodeModel,_=l.anchorData,S=oa({x:o,y:u},d);if(S){var P=S.node,C=S.anchor.id;if(this.preTargetNode&&this.preTargetNode!==S.node&&this.preTargetNode.setElementState(_t.DEFAULT),_.id===C)return;this.preTargetNode=P;var U="".concat(m.id,"_").concat(P.id,"_").concat(C,"_").concat(_.id);if(!this.targetRuleResults.has(U)){var W=S.anchor,oe=m.isAllowConnectedAsSource(P,_,W),re=P.isAllowConnectedAsTarget(m,_,W);this.sourceRuleResults.set(U,ei(oe)),this.targetRuleResults.set(U,ei(re))}var de=this.sourceRuleResults.get(U).isAllPass,me=this.targetRuleResults.get(U).isAllPass;de&&me?P.setElementState(_t.ALLOW_CONNECT):P.setElementState(_t.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==_t.DEFAULT&&this.preTargetNode.setElementState(_t.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,m=o.endY;return $n(u,l,d,m)>10}},{key:"render",value:function(){var o=this,u=this.state,l=u.startX,d=u.startY,m=u.endX,_=u.endY,S=this.props,P=S.anchorData.edgeAddable,C=S.edgeStyle;return Object(ee.g)("g",{className:"lf-anchor"},Object(ee.g)("g",{onMouseDown:function(U){P!==!1&&o.dragHandler.handleMouseDown(U)}},this.getAnchorShape()),this.isShowLine()&&Object(ee.g)(Oo,pi({x1:l,y1:d,x2:m,y2:_},C,{"pointer-events":"none"})))}}])&&D0(t.prototype,n),i}(ee.a);a(80);function sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sy(Object(n),!0).forEach(function(r){I0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ts(e){return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function L0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return ly(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ly(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fy(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.value,u=e.fontSize,l=e.fill,d=l===void 0?"currentColor":l,m=e.overflowMode,_=m===void 0?"default":m,S=e.textWidth,P=S===void 0?"":S,C=e.model,U={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:d};if(Object.entries(e).forEach(function(Ae){var Ee=L0(Ae,2),Xe=Ee[0],Te=Ee[1];Ts(Te)!=="object"&&(U[Xe]=Te)}),o){var W=String(o).split(/[\r\n]/g),oe=W.length;if(_!=="default"){var re=C.BaseType,de=C.modelType;if(re===Xt.NODE&&de!==ht.TEXT_NODE||re===Xt.EDGE&&P)return function(Ae){var Ee=Ae.value,Xe=Ae.fontSize,Te=Ae.model,Be=Ae.fontFamily,Re=Be===void 0?"":Be,lt=Ae.lineHeight,Et=Ae.wrapPadding,mt=Et===void 0?"0, 0":Et,St=Ae.overflowMode,Ht=Ae.x,Wt=Ae.y,fn=Te.width,or=Te.textHeight,Rn=Ae.textWidth||fn,No=String(Ee).split(/[\r\n]/g),uu=No.length,cu=Cp({rows:No,style:{fontSize:"".concat(Xe,"px"),width:"".concat(Rn,"px"),fontFamily:Re,lineHeight:lt,padding:mt},rowsLength:uu,className:"lf-get-text-height"}),no=Te.height>cu?Te.height:cu;or&&(no=or);var Br=St==="ellipsis";return Br&&(no=Xe+2),Object(ee.g)("g",null,Object(ee.g)("foreignObject",{width:Rn,height:no,x:Ht-Rn/2,y:Wt-no/2},Object(ee.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:no,width:Rn,padding:mt}},Object(ee.g)("div",{className:Br?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Br?No.join(""):"",style:R0({},Ae)},No.map(function(Hr){return Object(ee.g)("div",{className:"lf-node-text--auto-wrap-inner"},Hr)})))))}(e)}if(oe>1){var me=W.map(function(Ae,Ee){var Xe=(Ee-(oe-1)/2)*(u+2);return Object(ee.g)("tspan",{className:"lf-text-tspan",x:n,y:i+Xe},Ae)});return Object(ee.g)("text",U,me)}return Object(ee.g)("text",U,o)}}function Ds(e){return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function Ms(){return Ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(this,arguments)}function z0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return py(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return py(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ns(e,t){return Ns=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ns(e,t)}function H0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ba(e);if(t){var i=Ba(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F0(this,n)}}function F0(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(e){return Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ba(e)}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dy=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ns(o,u)})(i,e);var t,n,r=H0(i);function i(o){var u;(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,i),Qr(Lr(u=r.call(this)),"dragHandler",void 0),Qr(Lr(u),"sumDeltaX",0),Qr(Lr(u),"sumDeltaY",0),Qr(Lr(u),"stepDrag",void 0),Qr(Lr(u),"onDragging",function(d){var m=d.deltaX,_=d.deltaY,S=u.props,P=S.model,C=z0(S.graphModel.transformModel.fixDeltaXY(m,_),2),U=C[0],W=C[1];P.moveText(U,W)}),Qr(Lr(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(_t.TEXT_EDIT)}),Qr(Lr(u),"mouseDownHandle",function(d){var m=u.props,_=m.draggable,S=m.model,P=m.graphModel.editConfigModel.nodeTextDraggable;(_||P)&&(u.stepDrag.model=S,u.stepDrag.handleMouseDown(d))}),o.model;var l=o.draggable;return u.stepDrag=new dr({onDragging:u.onDragging,step:1,isStopPropagation:l}),u}return t=i,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.text,m=l.editConfigModel,_=d.value,S=d.x,P=d.y,C=d.editable,U=d.draggable,W={x:S,y:P,className:"",value:_};C?W.className="lf-element-text":U||m.nodeTextDraggable?W.className="lf-text-draggable":W.className="lf-text-disabled";var oe=u.getTextStyle();return Object(ee.g)(fy,Ms({},W,oe,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ee.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&B0(t.prototype,n),i}(ee.a),X0=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Cs(e){return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Ha(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return hy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return hy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rs(e,t){return Rs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rs(e,t)}function G0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Fa(e);if(t){var i=Fa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U0(this,n)}}function U0(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nn(e)}function nn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fa(e)}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var br=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&Rs(u,l)})(o,e);var t,n,r,i=G0(o);function o(u){var l;(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,o),ln(nn(l=i.call(this)),"t",void 0),ln(nn(l),"moveOffset",void 0),ln(nn(l),"stepDrag",void 0),ln(nn(l),"contextMenuTime",void 0),ln(nn(l),"startTime",void 0),ln(nn(l),"clickTimer",void 0),ln(nn(l),"onDragStart",function(P){var C=P.event,U=C.clientX,W=C.clientY,oe=l.props,re=oe.model,de=oe.graphModel.getPointByClient({x:U,y:W}).canvasOverlayPosition,me=de.x,Ae=de.y;l.moveOffset={x:re.x-me,y:re.y-Ae}}),ln(nn(l),"onDragging",function(P){var C=P.event,U=l.props,W=U.model,oe=U.graphModel,re=oe.editConfigModel,de=re.stopMoveGraph,me=re.autoExpand,Ae=oe.transformModel,Ee=oe.selectNodes,Xe=oe.width,Te=oe.height,Be=oe.gridSize;W.isDragging=!0;var Re=C.clientX,lt=C.clientY,Et=oe.getPointByClient({x:Re,y:lt}).canvasOverlayPosition,mt=Et.x,St=Et.y,Ht=Ha(Ae.CanvasPointToHtmlPoint([mt,St]),2),Wt=Ht[0],fn=Ht[1];if(mt+=l.moveOffset.x,St+=l.moveOffset.y,mt=Tr(mt,Be),St=Tr(St,Be),Xe&&Te){if(!me||de||!(Wt<0||fn<0||Wt>Xe||fn>Te)){var or=Ha(Ae.CanvasPointToHtmlPoint([mt-W.width/2,St-W.height/2]),2),Rn=or[0],No=or[1],uu=Ha(Ae.CanvasPointToHtmlPoint([mt+W.width/2,St+W.height/2]),2),cu=uu[0],no=uu[1],Br=Math.max(Be,20),Hr=[];Rn<0?Hr=[Br,0]:cu>oe.width?Hr=[-Br,0]:No<0?Hr=[0,Br]:no>oe.height&&(Hr=[0,-Br]),l.t&&Ia(l.t);var su=Ee.map(function(lu){return lu.id});su.indexOf(W.id)===-1&&(su=[W.id]),Hr.length>0&&!de&&me?l.t=ay(function(){var lu=Ha(Hr,2),qy=lu[0],Zy=lu[1];Ae.translate(qy,Zy);var N_=-qy/Ae.SCALE_X,C_=-Zy/Ae.SCALE_X;oe.moveNodes(su,N_,C_)}):oe.moveNodes(su,mt-W.x,St-W.y)}}else oe.moveNode2Coordinate(W.id,mt,St)}),ln(nn(l),"onDragEnd",function(){l.t&&Ia(l.t),l.props.model.isDragging=!1}),ln(nn(l),"handleClick",function(P){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var C=l.props,U=C.model,W=C.graphModel,oe={data:U.getData(),e:P,position:W.getPointByClient({x:P.clientX,y:P.clientY}),isSelected:!1,isMultiple:!1},re=P.button===2,de=P.detail===2;if(!re){var me=W.editConfigModel,Ae=ap(P,me);oe.isMultiple=Ae,U.isSelected&&!de&&Ae?(oe.isSelected=!1,U.setSelected(!1)):(W.selectNodeById(U.id,Ae),oe.isSelected=!0,l.toFront()),de?(me.nodeTextEdit&&U.text.editable&&(U.setSelected(!1),W.setElementStateById(U.id,_t.TEXT_EDIT)),W.eventCenter.emit(tt.NODE_DBCLICK,oe)):(W.eventCenter.emit(tt.ELEMENT_CLICK,oe),W.eventCenter.emit(tt.NODE_CLICK,oe))}}}),ln(nn(l),"handleContextMenu",function(P){P.preventDefault();var C=l.props,U=C.model,W=C.graphModel,oe=U.getData(),re=W.getPointByClient({x:P.clientX,y:P.clientY});W.setElementStateById(U.id,_t.SHOW_MENU,re.domOverlayPosition),U.isSelected||W.selectNodeById(U.id),W.eventCenter.emit(tt.NODE_CONTEXTMENU,{data:oe,e:P,position:re}),l.toFront()}),ln(nn(l),"handleMouseDown",function(P){var C=l.props,U=C.model,W=C.graphModel;l.startTime=new Date().getTime(),W.editConfigModel.adjustNodePosition&&U.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(P)}),ln(nn(l),"setHoverON",function(P){var C=l.props,U=C.model,W=C.graphModel;if(!U.isHovered){var oe=U.getData();U.setHovered(!0),W.eventCenter.emit(tt.NODE_MOUSEENTER,{data:oe,e:P})}}),ln(nn(l),"setHoverOFF",function(P){var C=l.props,U=C.model,W=C.graphModel,oe=U.getData();U.isHovered&&(U.setHovered(!1),W.eventCenter.emit(tt.NODE_MOUSELEAVE,{data:oe,e:P}))}),ln(nn(l),"onMouseOut",function(P){X0&&l.setHoverOFF(P)});var d=u.graphModel,m=d.gridSize,_=d.eventCenter,S=u.model;return l.stepDrag=new dr({onDragStart:l.onDragStart,onDragging:l.onDragging,onDragEnd:l.onDragEnd,step:m,eventType:"NODE",isStopPropagation:!1,eventCenter:_,model:S}),l}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,m=l.graphModel,_=d.isSelected,S=d.isHitable,P=d.isDragging,C=d.isShowAnchor;return S&&(_||C)&&!P?ea(d.anchors,function(U,W){var oe=d.getAnchorLineStyle(U),re=d.getAnchorStyle(U);return Object(ee.g)(C0,{anchorData:U,node:u,style:re,edgeStyle:oe,anchorIndex:W,nodeModel:d,graphModel:m,setHoverOFF:u.setHoverOFF})}):[]}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===_t.TEXT_EDIT)return"";if(l.text){var m=d.editConfigModel,_=!1;return(l.text.draggable||m.nodeTextDraggable)&&(_=!0),Object(ee.g)(dy,{editable:m.nodeTextEdit&&l.text.editable,model:l,graphModel:d,draggable:_})}}},{key:"getStateClassName",value:function(){var u=this.props.model,l=u.state,d=u.isDragging,m=u.isSelected,_="lf-node";switch(l){case _t.ALLOW_CONNECT:_+=" lf-node-allow";break;case _t.NOT_ALLOW_CONNECT:_+=" lf-node-not-allow";break;default:_+=" lf-node-default"}return d&&(_+=" lf-isDragging"),m&&(_+=" lf-node-selected"),_}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==xn.INCREASE&&l.autoToFront&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,m=l.graphModel,_=m.editConfigModel,S=_.hideAnchors,P=_.adjustNodePosition,C=m.gridSize,U=m.transformModel.SCALE_X,W=d.isHitable,oe=d.draggable,re=Object(ee.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),S?null:this.getAnchors());return W?(P&&oe&&this.stepDrag.setStep(C*U),u=Object(ee.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},re)):u=Object(ee.g)("g",{className:this.getStateClassName()},re),u}}])&&yy(t.prototype,n),r&&yy(t,r),o}(ee.a);function Is(e){return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Ls(){return Ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(this,arguments)}function Y0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zs(e,t){return zs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zs(e,t)}function W0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xa(e);if(t){var i=Xa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return K0(this,n)}}function K0(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Xa(e){return Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(e)}var Bs=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zs(o,u)})(i,e);var t,n,r=W0(i);function i(){return Y0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)(Cr,Ls({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&V0(t.prototype,n),i}(br);function Hs(e){return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function Fs(){return Fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fs.apply(this,arguments)}function $0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xs(e,t){return Xs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xs(e,t)}function Z0(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ga(e);if(t){var i=Ga(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J0(this,n)}}function J0(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ga(e){return Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ga(e)}var Gs=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Xs(o,u)})(i,e);var t,n,r=Z0(i);function i(){return $0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.r,m=o.getNodeStyle();return Object(ee.g)(ui,Fs({},m,{x:u,y:l,r:d}))}}])&&q0(t.prototype,n),i}(br);function Us(e){return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Q0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return gy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return gy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vy(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(i){var o=Q0(i,2),u=o[0],l=o[1];Us(l)!=="object"&&(r[u]=l)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(i){return i.join(",")}).join(" "),Object(ee.g)("polygon",r)}function Ys(e){return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function Vs(){return Vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vs.apply(this,arguments)}function eO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ws(e,t){return Ws=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ws(e,t)}function nO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ua(e);if(t){var i=Ua(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rO(this,n)}}function rO(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ua(e){return Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ua(e)}var Ks=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ws(o,u)})(i,e);var t,n,r=nO(i);function i(){return eO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.width,m=o.height,_=o.points,S=o.getNodeStyle(),P={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(l-m/2,")")};return Object(ee.g)("g",P,Object(ee.g)(vy,Vs({},S,{points:_,x:u,y:l})))}}])&&tO(t.prototype,n),i}(br);function $s(e){return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function qs(){return qs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qs.apply(this,arguments)}function oO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zs(e,t){return Zs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zs(e,t)}function aO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ya(e);if(t){var i=Ya(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uO(this,n)}}function uO(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ya(e){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ya(e)}var Js=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zs(o,u)})(i,e);var t,n,r=aO(i);function i(){return oO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)("g",null,Object(ee.g)(vy,qs({},u,{points:o.points,x:o.x,y:o.y})))}}])&&iO(t.prototype,n),i}(br);function Qs(e){return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function cO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return by(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return by(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sO(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,l=e.ry,d=l===void 0?4:l,m=e.className,_={cx:n,cy:i,rx:u,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(S){var P=cO(S,2),C=P[0],U=P[1];Qs(U)!=="object"&&(_[C]=U)}),_.className=m?"lf-basic-shape ".concat(m):"lf-basic-shape",Object(ee.g)("ellipse",_)}function el(e){return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function tl(){return tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tl.apply(this,arguments)}function lO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nl(e,t){return nl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},nl(e,t)}function pO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Va(e);if(t){var i=Va(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dO(this,n)}}function dO(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}var rl=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&nl(o,u)})(i,e);var t,n,r=pO(i);function i(){return lO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)(sO,tl({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&fO(t.prototype,n),i}(br);function ol(e){return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function my(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?my(Object(n),!0).forEach(function(r){hO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function il(e,t){return il=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},il(e,t)}function vO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wa(e);if(t){var i=Wa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bO(this,n)}}function bO(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Wa(e){return Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wa(e)}var al=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&il(o,u)})(i,e);var t,n,r=vO(i);function i(){return yO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getBackground",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.width,d=o.height,m=o.x,_=o.y,S=Oy(Oy({},u.background),{},{x:m,y:_-1,width:l,height:d});return Object(ee.g)(Cr,S)}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getBackground())}}])&&gO(t.prototype,n),i}(br);function ul(e){return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function cl(){return cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(this,arguments)}function mO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sl(e,t){return sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sl(e,t)}function _O(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ka(e);if(t){var i=Ka(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wO(this,n)}}function wO(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function di(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ka(e)}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ll=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sl(o,u)})(i,e);var t,n,r=_O(i);function i(){var o;mO(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return $a(di(o=r.call.apply(r,[this].concat(l))),"ref",void 0),$a(di(o),"currentProperties",void 0),$a(di(o),"preProperties",void 0),$a(di(o),"setRef",function(m){o.ref=m}),o}return t=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.height,m=o.width,_=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(ee.g)("foreignObject",cl({},_,{x:u-m/2,y:l-d/2,width:m,height:d,ref:this.setRef}))}}])&&OO(t.prototype,n),i}(br);function fl(e){return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function pl(){return pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pl.apply(this,arguments)}function _y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_y(Object(n),!0).forEach(function(r){yl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dl(e,t){return dl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dl(e,t)}function EO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=qa(e);if(t){var i=qa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jO(this,n)}}function jO(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hl(e)}function hl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(e)}function yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nr,SO=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&dl(o,u)})(i,e);var t,n,r=EO(i);function i(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),yl(hl(u=r.call(this,o)),"setHoverON",function(){u.setState({isHovered:!0})}),yl(hl(u),"setHoverOFF",function(){u.setState({isHovered:!1})}),u.state={isHovered:!1},u}return t=i,(n=[{key:"getBackground",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text,d=o.width,m=u.background||{};if(this.state.isHovered&&u.hover&&u.hover.background&&(m=eo(eo({},m),u.hover.background)),l&&l.value&&m.fill!=="transparent"){var _,S=u.fontSize,P=u.overflowMode,C=u.lineHeight,U=u.wrapPadding,W=u.textWidth,oe=l.value,re=l.x,de=l.y,me=String(oe).split(/[\r\n]/g),Ae=me.length;if(P==="autoWrap"&&W){var Ee=Cp({rows:me,style:{fontSize:"".concat(S,"px"),width:"".concat(W,"px"),lineHeight:C,padding:U},rowsLength:Ae,className:"lf-get-text-height"});_=eo(eo({},m),{},{x:re-1,y:de-1,width:W,height:Ee})}else{me&&me.forEach(function(lt){rd(lt)});var Xe=oc({rows:me,fontSize:S,rowsLength:Ae}),Te=Xe.width,Be=Xe.height;if(P==="ellipsis"&&(Te=W||d,Be=S+2),typeof m.wrapPadding=="string"){var Re=m.wrapPadding.split(",").filter(function(lt){return lt.trim()}).map(function(lt){return parseFloat(lt.trim())});Re.length>0&&Re.length<=4&&(Re.length===1?Re=[Re[0],Re[0],Re[0],Re[0]]:Re.length===2?Re=[Re[0],Re[1],Re[0],Re[1]]:Re.length===3&&(Re=[Re[0],Re[1],Re[2],Re[1]]),Te+=Re[1]+Re[3],Be+=Re[0]+Re[2],re+=(Re[1]-Re[3])/2,de+=(Re[2]-Re[0])/2)}_=eo(eo({},m),{},{x:re-1,y:de-1,width:Te,height:Be})}return Object(ee.g)(Cr,_)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,l=u.value,d=u.x,m=u.y;if(l){var _=eo({x:d,y:m,className:"lf-element-text",value:l},o.getTextStyle());return Object(ee.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ee.g)(fy,pl({},_,{model:o})))}}}])&&xO(t.prototype,n),i}(dy);function gl(e){return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wy(Object(n),!0).forEach(function(r){Sn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return xy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vl(e,t){return vl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vl(e,t)}function AO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Za(e);if(t){var i=Za(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return TO(this,n)}}function TO(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jn(e)}function jn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(e)}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(nr||(nr={}));var Ey=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vl(o,u)})(i,e);var t,n,r=AO(i);function i(o){var u;(function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")})(this,i),Sn(jn(u=r.call(this)),"stepDragData",void 0),Sn(jn(u),"stepDrag",void 0),Sn(jn(u),"oldEdge",void 0),Sn(jn(u),"preTargetNode",void 0),Sn(jn(u),"targetRuleResults",void 0),Sn(jn(u),"sourceRuleResults",void 0),Sn(jn(u),"handleMouseDown",function(_){u.stepDrag&&u.stepDrag.handleMouseDown(_)}),Sn(jn(u),"onDragStart",function(){var _=u.props,S=_.x,P=_.y,C=_.edgeModel,U=C.startPoint,W=C.endPoint,oe=C.pointsList;u.oldEdge={startPoint:U,endPoint:W,pointsList:oe},u.setState({endX:S,endY:P,dragging:!0})}),Sn(jn(u),"onDragging",function(_){var S=_.deltaX,P=_.deltaY,C=u.state,U=C.endX,W=C.endY,oe=u.props,re=oe.graphModel,de=oe.type,me=re.transformModel,Ae=re.editConfigModel,Ee=PO(me.moveCanvasPointByHtml([U,W],S,P),2),Xe=Ee[0],Te=Ee[1];u.setState({endX:Xe,endY:Te,dragging:!0});var Be=u.props.edgeModel,Re=oa({x:U,y:W},re);if(Re&&Re.node&&u.isAllowAdjust(Re).pass){var lt,Et=Be.startPoint,mt=Be.endPoint,St=Be.sourceNode,Ht=Be.targetNode;de===nr.SOURCE?lt={startPoint:{x:Re.anchor.x,y:Re.anchor.y},endPoint:{x:mt.x,y:mt.y},sourceNode:Re.node,targetNode:Ht}:de===nr.TARGET&&(lt={startPoint:{x:Et.x,y:Et.y},endPoint:{x:Re.anchor.x,y:Re.anchor.y},sourceNode:St,targetNode:Re.node}),Be.updateAfterAdjustStartAndEnd(lt)}else de===nr.SOURCE?Be.updateStartPoint({x:Xe,y:Te}):de===nr.TARGET&&Be.updateEndPoint({x:Xe,y:Te});Be.text.value&&Ae.adjustEdge&&Be.setText(Object.assign({},Be.text,Be.textPosition))}),Sn(jn(u),"onDragEnd",function(_){var S=_.event;try{var P;u.setState({dragging:!1});var C=u.props,U=C.graphModel,W=C.edgeModel,oe=C.type,re=u.state,de=re.endX,me=re.endY,Ae=re.dragging,Ee=oa({x:de,y:me},U);if(!Ae)return;var Xe,Te=!1;if(Ee&&Ee.node){var Be=u.isAllowAdjust(Ee),Re=Be.pass,lt=Be.msg,Et=Be.newTargetNode;if(Re){var mt,St=W.getData();Xe=mr(mr({},St),{},{sourceAnchorId:"",targetAnchorId:"",text:(St==null||(mt=St.text)===null||mt===void 0?void 0:mt.value)||""}),oe===nr.SOURCE?(Xe=mr(mr({},U.edgeGenerator(U.getNodeModelById(Ee.node.id).getData(),U.getNodeModelById(W.targetNodeId).getData(),Xe)),{},{sourceNodeId:Ee.node.id,sourceAnchorId:Ee.anchor.id,startPoint:{x:Ee.anchor.x,y:Ee.anchor.y},targetNodeId:W.targetNodeId,endPoint:mr({},W.endPoint)}),W.sourceNodeId===Ee.node.id&&W.sourceAnchorId===Ee.anchor.id&&(Te=!0)):oe===nr.TARGET&&(Xe=mr(mr({},U.edgeGenerator(U.getNodeModelById(W.sourceNodeId).getData(),U.getNodeModelById(Ee.node.id).getData(),Xe)),{},{sourceNodeId:W.sourceNodeId,startPoint:mr({},W.startPoint),targetNodeId:Ee.node.id,targetAnchorId:Ee.anchor.id,endPoint:{x:Ee.anchor.x,y:Ee.anchor.y}}),W.targetNodeId===Ee.node.id&&W.targetAnchorId===Ee.anchor.id&&(Te=!0))}else{Te=!0;var Ht=Et.getData();U.eventCenter.emit(tt.CONNECTION_NOT_ALLOWED,{data:Ht,msg:lt})}}else Te=!0;if(Te)u.recoveryEdge();else{var Wt=W.getData();U.deleteEdgeById(W.id);var fn=U.addEdge(mr({},Xe));U.eventCenter.emit(tt.EDGE_EXCHANGE_NODE,{data:{newEdge:fn.getData(),oldEdge:Wt}})}(P=u.preTargetNode)===null||P===void 0||P.setElementState(_t.DEFAULT)}finally{u.props.graphModel.eventCenter.emit(tt.ADJUST_POINT_DRAGEND,{e:S,data:u.stepDragData})}}),Sn(jn(u),"recoveryEdge",function(){var _=u.props.edgeModel,S=u.oldEdge,P=S.startPoint,C=S.endPoint,U=S.pointsList;_.updateStartPoint(P),_.updateEndPoint(C),_.modelType!==ht.LINE_EDGE&&(_.pointsList=U,_.initPoints())}),Sn(jn(u),"getAdjustPointStyle",function(){var _=u.props,S=_.graphModel.theme;return _.edgeModel,S.edgeAdjust}),u.state={dragging:!1,endX:0,endY:0},u.targetRuleResults=new Map,u.sourceRuleResults=new Map;var l=o.type,d=o.edgeModel,m=o.graphModel.eventCenter;return u.stepDragData={type:l,edgeData:d.getData()},u.stepDrag=new dr({onDragStart:u.onDragStart,onDragging:u.onDragging,onDragEnd:u.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:m,data:u.stepDragData}),u}return t=i,(n=[{key:"isAllowAdjust",value:function(o){var u=this.props,l=u.edgeModel,d=l.id,m=l.sourceNode,_=l.targetNode,S=l.sourceAnchorId,P=l.targetAnchorId,C=u.type,U=null,W=null,oe=null,re=null;if(C===nr.SOURCE?(U=o.node,W=_,oe=o.anchor,re=_.getAnchorInfo(P)):(U=m,W=o.node,re=o.anchor,oe=m.getAnchorInfo(S)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(_t.DEFAULT),this.preTargetNode=o.node,re.id===oe.id)return{pass:!1,msg:"",newTargetNode:W};var de="".concat(U.id,"_").concat(W.id,"_").concat(oe.id,"_").concat(re.id);if(!this.targetRuleResults.has(de)){var me=U.isAllowConnectedAsSource(W,oe,re,d),Ae=W.isAllowConnectedAsTarget(U,oe,re,d);this.sourceRuleResults.set(de,ei(me)),this.targetRuleResults.set(de,ei(Ae))}var Ee=this.sourceRuleResults.get(de),Xe=Ee.isAllPass,Te=Ee.msg,Be=this.targetRuleResults.get(de),Re=Be.isAllPass,lt=Be.msg,Et=Xe&&Re?_t.ALLOW_CONNECT:_t.NOT_ALLOW_CONNECT;return C===nr.SOURCE?U.setElementState(Et):W.setElementState(Et),{pass:Xe&&Re,msg:lt||Te,newTargetNode:W}}},{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=o.getAdjustPointShape,m=o.edgeModel,_=this.state.dragging;return Object(ee.g)("g",{pointerEvents:_?"none":"",onMouseDown:this.handleMouseDown},_?"":d(u,l,m))}}])&&kO(t.prototype,n),i}(ee.a);function bl(e){return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function hi(){return hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hi.apply(this,arguments)}function DO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return jy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(e,t){return ml=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ml(e,t)}function CO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ja(e);if(t){var i=Ja(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return RO(this,n)}}function RO(e,t){if(t&&(bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hn(e)}function Hn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(e)}function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yi=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ml(o,u)})(i,e);var t,n,r=CO(i);function i(){var o;MO(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return rr(Hn(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),rr(Hn(o),"contextMenuTime",void 0),rr(Hn(o),"clickTimer",void 0),rr(Hn(o),"textRef",Object(ee.f)()),rr(Hn(o),"handleHover",function(m,_){var S=o.props,P=S.model,C=S.graphModel.eventCenter;P.setHovered(m);var U=m?tt.EDGE_MOUSEENTER:tt.EDGE_MOUSELEAVE,W=P.getData();C.emit(U,{data:W,e:_})}),rr(Hn(o),"setHoverON",function(m){o.props.model.isHovered||(o.textRef&&o.textRef.current&&o.textRef.current.setHoverON(),o.handleHover(!0,m))}),rr(Hn(o),"setHoverOFF",function(m){o.props.model.isHovered&&(o.textRef&&o.textRef.current&&o.textRef.current.setHoverOFF(),o.handleHover(!1,m))}),rr(Hn(o),"handleContextMenu",function(m){m.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var _=o.props,S=_.model,P=_.graphModel,C=P.getPointByClient({x:m.clientX,y:m.clientY});P.setElementStateById(S.id,_t.SHOW_MENU,C.domOverlayPosition),o.toFront(),S.isSelected||P.selectEdgeById(S.id);var U=S==null?void 0:S.getData();P.eventCenter.emit(tt.EDGE_CONTEXTMENU,{data:U,e:m,position:C})}),rr(Hn(o),"handleMouseDown",function(m){m.stopPropagation(),o.startTime=new Date().getTime()}),rr(Hn(o),"handleMouseUp",function(m){if(o.startTime&&!(new Date().getTime()-o.startTime>200||m.button===2)){var _=m.detail===2,S=o.props,P=S.model,C=S.graphModel,U=P==null?void 0:P.getData(),W=C.getPointByClient({x:m.clientX,y:m.clientY});if(_){var oe=C.editConfigModel,re=C.textEditElement;if(re&&re.id===P.id&&C.setElementStateById(P.id,_t.DEFAULT),oe.edgeTextEdit&&P.text.editable&&C.setElementStateById(P.id,_t.TEXT_EDIT),P.modelType===ht.POLYLINE_EDGE){var de=P,me=C.getPointByClient({x:m.x,y:m.y}).canvasOverlayPosition,Ae=me.x,Ee=me.y,Xe=ad({x:Ae,y:Ee},de.points);de.dbClickPosition=Xe}C.eventCenter.emit(tt.EDGE_DBCLICK,{data:U,e:m,position:W})}else C.eventCenter.emit(tt.ELEMENT_CLICK,{data:U,e:m,position:W}),C.eventCenter.emit(tt.EDGE_CLICK,{data:U,e:m,position:W});var Te=C.editConfigModel;C.selectEdgeById(P.id,ap(m,Te)),o.toFront()}}),o}return t=i,(n=[{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===_t.TEXT_EDIT)return null;var d=!1,m=l.editConfigModel;return(u.text.draggable||m.edgeTextDraggable)&&(d=!0),Object(ee.g)(SO,{ref:this.textRef,editable:m.edgeTextEdit&&u.text.editable,model:u,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getLastTwoPoints",value:function(){var o=this.props.model;return[o.startPoint,o.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var o=this.props.model,u=o.id,l=o.getArrowStyle(),d=l.refY,m=d===void 0?0:d,_=l.refX,S=_===void 0?2:_,P=DO(this.getLastTwoPoints(),2),C=P[0],U=P[1],W="auto";return C!==null&&U!==null&&(W=Pb({x:U.x-C.x,y:U.y-C.y,z:0})*(180/Math.PI)),Object(ee.g)("g",null,Object(ee.g)("defs",null,Object(ee.g)("marker",{id:"marker-start-".concat(u),refX:-S,refY:m,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ee.g)("marker",{id:"marker-end-".concat(u),refX:S,refY:m,overflow:"visible",orient:W,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.props.model.getArrowStyle();return o.stroke,o.strokeWidth,o.offset,o.verticalLength,Object(ee.g)("path",null)}},{key:"getEndArrow",value:function(){var o=this.props.model.getArrowStyle(),u=o.stroke,l=o.strokeWidth,d=o.offset,m=o.verticalLength;return Object(ee.g)("path",{stroke:u,fill:u,strokeWidth:l,transform:"rotate(180)",d:"M 0 0 L ".concat(d," -").concat(m," L ").concat(d," ").concat(m," Z")})}},{key:"getAdjustPointShape",value:function(o,u,l){var d=l.getAdjustPointStyle();return Object(ee.g)(ui,hi({className:"lf-edge-adjust-point"},d,{x:o,y:u}))}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getAdjustStart(),m=u.getAdjustEnd();return Object(ee.g)("g",null,Object(ee.g)(Ey,hi({type:"SOURCE"},d,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:u,graphModel:l})),Object(ee.g)(Ey,hi({type:"TARGET"},m,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:u,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ee.g)("g",null)}},{key:"getAppend",value:function(){return Object(ee.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==xn.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model,l=u.isSelected,d=u.isHitable,m=u.isShowAdjustPoint;return o.graphModel.animation,Object(ee.g)("g",null,Object(ee.g)("g",{className:["lf-edge",!d&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),m&&l?this.getAdjustPoints():"")}}])&&NO(t.prototype,n),i}(ee.a);function Ol(e){return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function IO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Sy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Sy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gi=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=IO(n,2),i=r[0],o=r[1],u=Ol(o);i!=="style"&&u==="object"||(t[i]=o)}),Object(ee.g)("path",t)};function _l(e){return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function wl(){return wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(this,arguments)}function LO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xl(e,t){return xl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},xl(e,t)}function BO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qa(e);if(t){var i=Qa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return HO(this,n)}}function HO(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}var El=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&xl(o,u)})(i,e);var t,n,r=BO(i);function i(){return LO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isAnimation,m=o.arrowConfig,_=o.getEdgeStyle(),S=o.getEdgeAnimationStyle(),P=S.strokeDasharray,C=S.stroke,U=S.strokeDashoffset,W=S.animationName,oe=S.animationDuration,re=S.animationIterationCount,de=S.animationTimingFunction,me=S.animationDirection;return Object(ee.g)(Oo,wl({},_,{x1:u.x,y1:u.y,x2:l.x,y2:l.y},m,d?{strokeDasharray:P,stroke:C,style:{strokeDashoffset:U,animationName:W,animationDuration:oe,animationIterationCount:re,animationTimingFunction:de,animationDirection:me}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(P){var C,U=P.start,W=P.end;if(U.x===W.x&&U.y===W.y)C="";else{var oe={start:U,end:W,offset:10,verticalLength:5},re=ri(ia(ia({},oe),{},{type:"start"})),de=ri(ia(ia({},oe),{},{type:"end"}));C="M".concat(re.leftX," ").concat(re.leftY,` 
    L`).concat(re.rightX," ").concat(re.rightY,` 
    L`).concat(de.rightX," ").concat(de.rightY,`
    L`).concat(de.leftX," ").concat(de.leftY," z")}return{d:C,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,m=u.fill,_=u.strokeDasharray,S=u.stroke;return Object(ee.g)(gi,{d:l,fill:m,strokeWidth:d,stroke:S,strokeDasharray:_})}}])&&zO(t.prototype,n),i}(yi);function jl(e){return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function FO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Py(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Py(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Py(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var XO=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=FO(n,2),i=r[0],o=r[1];(i==="style"||jl(o)!=="object")&&(t[i]=o)}),Object(ee.g)("polyline",t)};function Sl(e){return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ky(Object(n),!0).forEach(function(r){_r(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pl(){return Pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pl.apply(this,arguments)}function GO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ay(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ay(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kl(e,t){return kl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kl(e,t)}function YO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=tu(e);if(t){var i=tu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VO(this,n)}}function VO(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}function Or(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(e)}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Al=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&kl(o,u)})(i,e);var t,n,r=YO(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),_r(Or(o=r.call(this)),"drag",void 0),_r(Or(o),"isDragging",void 0),_r(Or(o),"isShowAdjustPointTemp",void 0),_r(Or(o),"appendInfo",void 0),_r(Or(o),"onDragStart",function(){var u=o.props.model;u.dragAppendStart(),o.isShowAdjustPointTemp=u.isShowAdjustPoint,u.isShowAdjustPoint=!1}),_r(Or(o),"onDragging",function(u){var l=u.deltaX,d=u.deltaY,m=o.props,_=m.model,S=m.graphModel;o.isDragging=!0;var P=S.transformModel,C=S.editConfigModel,U=GO(P.fixDeltaXY(l,d),2),W=U[0],oe=U[1],re=_,de=C.adjustEdgeMiddle;o.appendInfo=de?re.dragAppendSimple(o.appendInfo,{x:W,y:oe}):re.dragAppend(o.appendInfo,{x:W,y:oe})}),_r(Or(o),"onDragEnd",function(){var u=o.props,l=u.model,d=u.graphModel.eventCenter,m=l;m.dragAppendEnd(),o.isDragging=!1,m.isShowAdjustPoint=o.isShowAdjustPointTemp,o.appendInfo=void 0,d.emit(tt.EDGE_ADJUST,{data:m.getData()})}),_r(Or(o),"beforeDragStart",function(u,l){l.dragAble&&o.drag.handleMouseDown(u),o.appendInfo=l}),o.drag=new dr({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.points,l=o.isAnimation,d=o.arrowConfig,m=o.getEdgeStyle(),_=o.getEdgeAnimationStyle(),S=_.strokeDasharray,P=_.stroke,C=_.strokeDashoffset,U=_.animationName,W=_.animationDuration,oe=_.animationIterationCount,re=_.animationTimingFunction,de=_.animationDirection;return Object(ee.g)(XO,Pl({points:u},m,d,l?{strokeDasharray:S,stroke:P,style:{strokeDashoffset:C,animationName:U,animationDuration:W,animationIterationCount:oe,animationTimingFunction:re,animationDirection:de}}:{}))}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},m=Jr(u);return m.length>=2&&(d.start=m[m.length-2],d.end=m[m.length-1]),d}},{key:"getLastTwoPoints",value:function(){var o=this.props.model.points,u=Jr(o);return u.length>=2?[u[u.length-2],u[u.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var m={start:l,end:d,offset:10,verticalLength:5},_=ri(eu(eu({},m),{},{type:"start"})),S=ri(eu(eu({},m),{},{type:"end"}));u="M".concat(_.leftX," ").concat(_.leftY,` 
      L`).concat(_.rightX," ").concat(_.rightY,` 
      L`).concat(S.rightX," ").concat(S.rightY,`
      L`).concat(S.leftX," ").concat(S.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),l=u.d,d=u.strokeWidth,m=u.fill,_=u.strokeDasharray,S=u.stroke;return Object(ee.g)(gi,{d:l,fill:m,strokeWidth:d,stroke:S,strokeDasharray:_})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,m=l.pointsList,_=l.draggable,S=[],P=m.length,C=function(W){var oe="lf-polyline-append",re={start:{x:m[W].x,y:m[W].y},end:{x:m[W+1].x,y:m[W+1].y},startIndex:W,endIndex:W+1,direction:"",dragAble:!0},de=Object(ee.g)("g",{className:oe},o.getAppendShape(re)),me=d.editConfigModel,Ae=me.adjustEdge,Ee=me.adjustEdgeMiddle;if(Ae&&_){var Xe=re.startIndex,Te=re.endIndex,Be=Ee&&(Xe===0||Te===P-1);re.dragAble=!Be,re.start.x===re.end.x?(re.dragAble&&(oe+="-ew-resize"),re.direction=Tt.VERTICAL):re.start.y===re.end.y&&(re.dragAble&&(oe+="-ns-resize"),re.direction=Tt.HORIZONTAL),de=Object(ee.g)("g",{className:o.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(Re){return o.beforeDragStart(Re,re)}},Object(ee.g)("g",{className:oe},o.getAppendShape(re)))}S.push(de)},U=0;U<P-1;U++)C(U);return Object(ee.g)("g",null,S)}}])&&UO(t.prototype,n),i}(yi);function Tl(e){return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function WO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ty(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ty(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dl(){return Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}function KO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ml(e,t){return Ml=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ml(e,t)}function qO(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=nu(e);if(t){var i=nu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function nu(e){return nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nu(e)}var Nl=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ml(o,u)})(i,e);var t,n,r=qO(i);function i(){return KO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle(),l=o.path,d=o.isAnimation,m=o.arrowConfig,_=o.getEdgeAnimationStyle(),S=_.strokeDasharray,P=_.stroke,C=_.strokeDashoffset,U=_.animationName,W=_.animationDuration,oe=_.animationIterationCount,re=_.animationTimingFunction,de=_.animationDirection;return Object(ee.g)(gi,Dl({d:l},u,m,d?{strokeDasharray:S,stroke:P,style:{strokeDashoffset:C,animationName:U,animationDuration:W,animationIterationCount:oe,animationTimingFunction:re,animationDirection:de}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ee.g)(gi,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,m=l.isSelected,_=WO(id(d),2);return{start:_[0],end:_[1],hover:u,isSelected:m}}},{key:"getLastTwoPoints",value:function(){var o=this.props.model.path;return id(o)}}])&&$O(t.prototype,n),i}(yi);function Cl(e){return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(e,t){return Rl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rl(e,t)}function t_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ru(e);if(t){var i=ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return n_(this,n)}}function n_(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(e)}var r_=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rl(o,u)})(i,e);var t,n,r=t_(i);function i(){return QO(this,i),r.apply(this,arguments)}return t=i,n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,m=u.end,_={start:d,end:m,offset:l.offset,verticalLength:l.verticalLength,type:"end"},S=ri(_),P=S.leftX,C=S.leftY,U=S.rightX,W=S.rightY;return function(oe){for(var re=1;re<arguments.length;re++){var de=arguments[re]!=null?arguments[re]:{};re%2?Dy(Object(de),!0).forEach(function(me){JO(oe,me,de[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(de)):Dy(Object(de)).forEach(function(me){Object.defineProperty(oe,me,Object.getOwnPropertyDescriptor(de,me))})}return oe}({d:"M".concat(P," ").concat(C," L").concat(m.x," ").concat(m.y," L").concat(U," ").concat(W," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,l=o.strokeWidth,d=o.stroke,m=o.fill;return Object(ee.g)(gi,{d:u,fill:m,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&e_(t.prototype,n),i}(ee.a),My=function(e,t){return pe(e,t)},o_=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Il=function(){return Ue.a.Date.now()},i_=/\s/,a_=function(e){for(var t=e.length;t--&&i_.test(e.charAt(t)););return t},u_=/^\s+/,c_=function(e){return e&&e.slice(0,a_(e)+1).replace(u_,"")},s_=/^[-+]0x[0-9a-f]+$/i,l_=/^0b[01]+$/i,f_=/^0o[0-7]+$/i,p_=parseInt,Ny=function(e){if(typeof e=="number")return e;if(st(e))return NaN;if(Dt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Dt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=c_(e);var n=l_.test(e);return n||f_.test(e)?p_(e.slice(2),n?2:8):s_.test(e)?NaN:+e},d_=Math.max,h_=Math.min,y_=function(e,t,n){var r,i,o,u,l,d,m=0,_=!1,S=!1,P=!0;if(typeof e!="function")throw new TypeError("Expected a function");function C(me){var Ae=r,Ee=i;return r=i=void 0,m=me,u=e.apply(Ee,Ae)}function U(me){return m=me,l=setTimeout(oe,t),_?C(me):u}function W(me){var Ae=me-d;return d===void 0||Ae>=t||Ae<0||S&&me-m>=o}function oe(){var me=Il();if(W(me))return re(me);l=setTimeout(oe,function(Ae){var Ee=t-(Ae-d);return S?h_(Ee,o-(Ae-m)):Ee}(me))}function re(me){return l=void 0,P&&r?C(me):(r=i=void 0,u)}function de(){var me=Il(),Ae=W(me);if(r=arguments,i=this,d=me,Ae){if(l===void 0)return U(d);if(S)return clearTimeout(l),l=setTimeout(oe,t),C(d)}return l===void 0&&(l=setTimeout(oe,t)),u}return t=Ny(t)||0,Dt(n)&&(_=!!n.leading,o=(S="maxWait"in n)?d_(Ny(n.maxWait)||0,t):o,P="trailing"in n?!!n.trailing:P),de.cancel=function(){l!==void 0&&clearTimeout(l),m=0,r=d=i=l=void 0},de.flush=function(){return l===void 0?u:re(Il())},de},g_=a(167);function v_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cy,Ry,Iy,b_=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),zr(this,"undos",[]),zr(this,"redos",[]),zr(this,"callbacks",[]),zr(this,"stopWatch",null),zr(this,"curData",null),zr(this,"maxSize",50),zr(this,"waitTime",100),zr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){My(o_(this.undos),r)||(this.undos.push(r),My(this.curData,r)||(this.redos=[]),this.eventCenter.emit(tt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Mt(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Mt(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(g_.a)(r,y_(function(){var o=r.modelToHistoryData();o&&i.add(o)},this.waitTime))}}])&&v_(t.prototype,n),e}();function Ll(e){return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function m_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ly(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ly(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zy(Object(n),!0).forEach(function(r){to(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function By(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zl(e,t){return zl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zl(e,t)}function O_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ou(e);if(t){var i=ou(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return __(this,n)}}function __(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mo(e)}function Mo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(e)}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hy,Fy,Xy,Bl=Fn((Iy=Ry=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&zl(u,l)})(o,e);var t,n,r,i=O_(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),to(Mo(u=i.call(this)),"ref",Object(ee.f)()),to(Mo(u),"__prevText",{type:"",text:"",id:""}),to(Mo(u),"keyupHandler",function(l){var d=u.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&d.setElementState(0)}),to(Mo(u),"inputHandler",function(l){var d=l.target.innerText,m=u.props.graphModel.textEditElement;u.__prevText={type:m.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:m.id}}),to(Mo(u),"keydownHandler",function(l){l.stopPropagation()}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,m=d.transformModel,_=d.theme,S=d.textEditElement;if(S){var P;if((P=S.text)===null||P===void 0||!P.value)if(S.BaseType===Xt.EDGE){var C=(S=S).text,U=S.textPosition,W=U.x,oe=U.y;C.x=W,C.y=oe,S.setText(C)}else S=S;var re={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(S.BaseType===Xt.EDGE){var de=_.edgeText,me=de.overflowMode,Ae=de.lineHeight,Ee=de.wrapPadding,Xe=de.textWidth;Xe&&me==="autoWrap"&&(l=Do(Do({},re),{},{width:Xe,minWidth:Xe,lineHeight:Ae,padding:Ee}))}else if(S.BaseType===Xt.NODE){var Te=_.nodeText,Be=Te.overflowMode,Re=Te.lineHeight,lt=Te.wrapPadding,Et=Te.textWidth,mt=S,St=mt.width,Ht=mt.modelType;(Ht!==ht.TEXT_NODE&&Be==="autoWrap"||Ht===ht.TEXT_NODE&&Et)&&(l=Do(Do({},re),{},{width:Et||St,minWidth:Et||St,lineHeight:Re,padding:lt}))}var Wt=S.text,fn=Wt.x,or=Wt.y,Rn=m_(m.CanvasPointToHtmlPoint([fn,or]),2);return{style:Do({left:Rn[0],top:Rn[1]},l)}}}}],(n=[{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,m=l.id;u.updateText(m,d),u.eventCenter.emit(tt.TEXT_UPDATE,Do({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object(ee.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&By(t.prototype,n),r&&By(t,r),o}(ee.a),to(Ry,"toolName","textEdit"),Cy=Iy))||Cy,w_=function(e){return e.modelType===ht.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:i-u/2,y:o-l/2,x1:i+u/2,y1:o+l/2}}(e):e.modelType===ht.POLYLINE_EDGE?function(t){var n=t.points,r=Jr(n),i=oi(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):e.modelType===ht.BEZIER_EDGE?function(t){var n=t.path,r=pa(n),i=oi(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):void 0};function Hl(e){return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Gy(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(_){m=!0,u=_}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||Uy(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x_(e){return function(t){if(Array.isArray(t))return Fl(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Uy(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uy(e,t){if(e){if(typeof e=="string")return Fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fl(e,t):void 0}}function Fl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xl(e,t){return Xl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xl(e,t)}function j_(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=iu(e);if(t){var i=iu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S_(this,n)}}function S_(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vi(e)}function vi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iu(e)}function bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gl=Fn((Xy=Fy=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Xl(o,u)})(i,e);var t,n,r=j_(i);function i(o){var u;(function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")})(this,i),bi(vi(u=r.call(this)),"stepDrag",void 0),bi(vi(u),"handleMouseDown",function(_){u.stepDrag.handleMouseDown(_)}),bi(vi(u),"onDragging",function(_){var S=_.deltaX,P=_.deltaY,C=u.props.graphModel,U=C.getSelectElements(!0);C.moveNodes(U.nodes.map(function(W){return W.id}),S,P)}),bi(vi(u),"handleContextMenu",function(_){_.preventDefault();var S=u.props,P=S.graphModel,C=S.graphModel,U=C.eventCenter,W=C.selectElements,oe=P.getPointByClient({x:_.clientX,y:_.clientY}),re={nodes:[],edges:[]};x_(W.values()).forEach(function(de){de.BaseType===Xt.NODE&&re.nodes.push(de.getData()),de.BaseType===Xt.EDGE&&re.edges.push(de.getData())}),U.emit(tt.SELECTION_CONTEXTMENU,{data:re,e:_,position:oe})});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new dr({onDragging:u.onDragging,step:d,eventType:"SELECTION",eventCenter:m}),u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;u.forEach(function(W){var oe={x:0,y:0,x1:0,y1:0};W.BaseType===Xt.NODE&&(oe=function(re){var de=re.x,me=re.y,Ae=re.width,Ee=re.height;return{x:de-Ae/2,y:me-Ee/2,x1:de+Ae/2,y1:me+Ee/2}}(W)),W.BaseType===Xt.EDGE&&(oe=w_(W)),d=Math.min(d,oe.x),m=Math.min(m,oe.y),_=Math.max(_,oe.x1),S=Math.max(S,oe.y1)});var P=Gy(l.CanvasPointToHtmlPoint([d,m]),2);d=P[0],m=P[1];var C=Gy(l.CanvasPointToHtmlPoint([_,S]),2);_=C[0],S=C[1];var U={left:"".concat(d-10,"px"),top:"".concat(m-10,"px"),width:"".concat(_-d+20,"px"),height:"".concat(S-m+20,"px")};return Object(ee.g)("div",{className:"lf-multiple-select",style:U,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&E_(t.prototype,n),i}(ee.a),bi(Fy,"toolName","multipleSelect"),Hy=Xy))||Hy;function P_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k_=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),au(this,"tools",void 0),au(this,"components",void 0),au(this,"toolMap",new Map),au(this,"instance",void 0),this.instance=r,this.isDisabledTool(Bl.toolName)||this.registerTool(Bl.toolName,Bl),this.isDisabledTool(Gl.toolName)||this.registerTool(Gl.toolName,Gl);var i=r.graphModel;i.eventCenter.on("".concat(tt.GRAPH_TRANSFORM,",").concat(tt.NODE_CLICK,",").concat(tt.BLANK_CLICK," "),function(){var o=i.textEditElement,u=i.editConfigModel,l=u.edgeTextEdit,d=u.nodeTextEdit;(l||d)&&o&&i.textEditElement.setElementState(_t.DEFAULT)})}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&P_(t.prototype,n),e}(),A_=a(168),T_=a.n(A_);function D_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yy=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Ul(this,"mousetrap",void 0),Ul(this,"options",void 0),Ul(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new T_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(Zt(i))i.forEach(function(d){var m=d.keys,_=d.callback,S=d.action;return r.on(m,_,S)});else{var o=i.keys,u=i.callback,l=i.action;this.on(o,u,l)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatKey(o)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&D_(t.prototype,n),e}(),M_=Yy,wr=null;function Vy(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function Wy(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Yl(e){return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function Ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ky(Object(n),!0).forEach(function(r){Bt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ky(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vl=function(){function e(i){var o,u,l=this;(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,e),Bt(this,"container",void 0),Bt(this,"width",void 0),Bt(this,"height",void 0),Bt(this,"graphModel",void 0),Bt(this,"history",void 0),Bt(this,"viewMap",new Map),Bt(this,"tool",void 0),Bt(this,"keyboard",void 0),Bt(this,"dnd",void 0),Bt(this,"options",void 0),Bt(this,"snaplineModel",void 0),Bt(this,"components",[]),Bt(this,"plugins",void 0),Bt(this,"extension",{}),Bt(this,"adapterIn",void 0),Bt(this,"adapterOut",void 0),Bt(this,"getView",function(d){return l.viewMap.get(d)}),i=$d(i),this.options=i,this.container=this.initContainer(i.container),this.plugins=i.plugins,this.graphModel=new Bb(mi({},i)),this.tool=new k_(this),this.history=new b_(this.graphModel.eventCenter),this.dnd=new Rm({lf:this}),this.keyboard=new M_({lf:this,keyboard:i.keyboard}),i.snapline!==!1&&(this.snaplineModel=new iy(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var m=d.data;u.setNodeSnapLine(m)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,m){var _=d.keyboard,S=_.options.keyboard;_.on(["cmd + c","ctrl + c"],function(){if(!S.enabled||m.textEditElement)return!0;var P=d.options.guards,C=m.getSelectElements(!1);return P&&P.beforeClone&&!P.beforeClone(C)||C.nodes.length===0&&C.edges.length===0?(wr=null,!0):((wr=C).nodes.forEach(function(U){return Vy(U,40)}),wr.edges.forEach(function(U){return Wy(U,40)}),!1)}),_.on(["cmd + v","ctrl + v"],function(){if(!S.enabled||m.textEditElement)return!0;if(wr&&(wr.nodes||wr.edges)){d.clearSelectElements();var P=d.addElements(wr);if(!P)return!0;P.nodes.forEach(function(C){return d.selectElementById(C.id,!0)}),P.edges.forEach(function(C){return d.selectElementById(C.id,!0)}),wr.nodes.forEach(function(C){return Vy(C,40)}),wr.edges.forEach(function(C){return Wy(C,40)})}return!1}),_.on(["cmd + z","ctrl + z"],function(){return!S.enabled||!!m.textEditElement||(d.undo(),!1)}),_.on(["cmd + y","ctrl + y"],function(){return!S.enabled||!!m.textEditElement||(d.redo(),!1)}),_.on(["backspace"],function(){if(!S.enabled||m.textEditElement)return!0;var P=m.getSelectElements(!0);return d.clearSelectElements(),P.edges.forEach(function(C){return d.deleteEdge(C.id)}),P.nodes.forEach(function(C){return d.deleteNode(C.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var t,n,r;return t=e,n=[{key:"register",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var l={BaseEdge:yi,BaseEdgeModel:ac,BaseNode:br,BaseNodeModel:vr,RectNode:Bs,RectNodeModel:ms,CircleNode:Gs,CircleNodeModel:es,PolygonNode:Ks,PolygonNodeModel:ys,TextNode:al,TextNodeModel:xs,LineEdge:El,LineEdgeModel:fc,DiamondNode:Js,DiamondNodeModel:is,PolylineEdge:Al,PolylineEdgeModel:yc,BezierEdge:Nl,BezierEdgeModel:Kc,EllipseNode:rl,EllipseNodeModel:ss,HtmlNode:ll,HtmlNodeModel:Ss,h:ee.g,type:i};this.viewMap.forEach(function(P){var C=P.extendKey;C&&(l[C]=P)}),this.graphModel.modelMap.forEach(function(P){var C=P.extendKey;C&&(l[C]=P)});var d=o(l),m=d.view,_=d.model,S=m;u&&!S.isObervered&&(S.isObervered=!0,S=Fe(S)),this.setView(i,S),this.graphModel.setModel(i,_)}else this.registerElement(i)}},{key:"registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=Fe(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"batchRegister",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];o.forEach(function(u){i.registerElement(u)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Bs,model:ms,type:"rect"}),this.registerElement({type:"circle",view:Gs,model:es}),this.registerElement({type:"polygon",view:Ks,model:ys}),this.registerElement({type:"line",view:El,model:fc}),this.registerElement({type:"polyline",view:Al,model:yc}),this.registerElement({type:"bezier",view:Nl,model:Kc}),this.registerElement({type:"text",view:al,model:xs}),this.registerElement({type:"ellipse",view:rl,model:ss}),this.registerElement({type:"diamond",view:Js,model:is}),this.registerElement({type:"html",view:ll,model:Ss})}},{key:"selectElementById",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(i,o),!o&&u&&this.graphModel.toFront(i)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformModel,u=i.coordinate,l=i.id;if(!u){var d=this.getNodeModelById(l);d&&(u=d.getData());var m=this.getEdgeModelById(l);m&&(u=m.textPosition)}var _=u,S=_.x,P=_.y;o.focusOn(S,P,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"resize",value:function(i,o){this.graphModel.resize(i,o),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(i){this.graphModel.setDefaultEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.updateText(i,o)}},{key:"deleteElement",value:function(i){var o,u,l,d=this.getModelById(i);return!!d&&(u=(l=(Bt(o={},Xt.NODE,this.deleteNode),Bt(o,Xt.EDGE,this.deleteEdge),o)[d.BaseType])===null||l===void 0?void 0:l.call(this,i))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(i){return this.graphModel.getElement(i)}},{key:"getDataById",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getData()}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"changeEdgeType",value:function(i,o){this.graphModel.changeEdgeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt.NODE_ADD,u=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(i,o,u)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModelById(i);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(i),d}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModelById(i).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"getNodeModelById",value:function(i){return this.graphModel.getNodeModelById(i)}},{key:"getNodeDataById",value:function(i){var o;return(o=this.graphModel.getNodeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"addEdge",value:function(i){return this.graphModel.addEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,u=this.graphModel.edgesMap[i];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.deleteEdgeById(i),d}},{key:"deleteEdgeByNodeId",value:function(i){var o=i.sourceNodeId,u=i.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(i){var o=this.graphModel.edges,u=i.sourceNodeId,l=i.targetNodeId;if(u&&l){var d=[];return o.forEach(function(S){S.sourceNodeId===u&&S.targetNodeId===l&&d.push(S)}),d}if(u){var m=[];return o.forEach(function(S){S.sourceNodeId===u&&m.push(S)}),m}if(l){var _=[];return o.forEach(function(S){S.targetNodeId===l&&_.push(S)}),_}return[]}},{key:"getEdgeDataById",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(i){return this.graphModel.getNodeIncomingEdge(i)}},{key:"getNodeOutgoingEdge",value:function(i){return this.graphModel.getNodeOutgoingEdge(i)}},{key:"getNodeIncomingNode",value:function(i){return this.graphModel.getNodeIncomingNode(i)}},{key:"getNodeOutgoingNode",value:function(i){return this.graphModel.getNodeOutgoingNode(i)}},{key:"editText",value:function(i){this.graphModel.editText(i)}},{key:"setProperties",value:function(i,o){var u;(u=this.graphModel.getElement(i))===null||u===void 0||u.setProperties(en(o))}},{key:"deleteProperty",value:function(i,o){var u;(u=this.graphModel.getElement(i))===null||u===void 0||u.deleteProperty(o)}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(i){this.graphModel.toFront(i)}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,u=i.nodes,l=i.edges,d={},m={nodes:[],edges:[]},_=0;_<u.length;_++){var S=u[_],P=S.id,C=this.addNode(S);if(!C)return;P&&(d[P]=C.id),m.nodes.push(C)}return l.forEach(function(U){var W=U.sourceNodeId,oe=U.targetNodeId;d[W]&&(W=d[W]),d[oe]&&(oe=d[oe]);var re=o.graphModel.addEdge(mi(mi({},U),{},{sourceNodeId:W,targetNodeId:oe}));m.edges.push(re)}),m}},{key:"getAreaElement",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],d=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(i,o,u,l,d).map(function(m){return m.getData()})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();if(this.adapterOut){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return this.adapterOut.apply(this,[i].concat(u))}return i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfigModel.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=en(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=en(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){return this.graphModel.transformModel.zoom(i,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformModel.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformModel.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformModel;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformModel.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformModel,o=i.TRANSLATE_X,u=i.TRANSLATE_Y;this.translate(-o,-u)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(i,o){o===void 0&&(o=i),this.graphModel.fitView(i,o)}},{key:"openEdgeAnimation",value:function(i){this.graphModel.openEdgeAnimation(i)}},{key:"closeEdgeAnimation",value:function(i){this.graphModel.closeEdgeAnimation(i)}},{key:"on",value:function(i,o){this.graphModel.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.graphModel.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.graphModel.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.graphModel.eventCenter.emit(i,o)}},{key:"initContainer",value:function(i){var o=document.createElement("div");return o.style.position="relative",o.style.width="100%",o.style.height="100%",i.innerHTML="",i.appendChild(o),o}},{key:"installPlugins",value:function(){var i,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(i=this.plugins)!==null&&i!==void 0?i:e.extensions;l.forEach(function(d){var m=d.pluginName||d.name;u.indexOf(m)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(i){if(Yl(i)==="object"){var o=i.install,u=i.render;return o&&o.call(i,this,e),u&&this.components.push(u.bind(i)),void(this.extension[i.pluginName]=i)}var l=i,d=new l({lf:this,LogicFlow:e,options:this.options.pluginsOptions});d.render&&this.components.push(d.render.bind(d)),this.extension[l.pluginName]=d}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var u=new o(mi(mi({},i),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"renderRawData",value:function(i){this.graphModel.graphDataToModel(en(i)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ee.j)(Object(ee.g)(Nm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(tt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.renderRawData(i)}}],r=[{key:"use",value:function(i){var o=i.pluginName;o||(o=i.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,i)}}],n&&$y(t.prototype,n),r&&$y(t,r),e}();function Fn(e){return Fe(e)}Bt(Vl,"extensions",new Map),p.default=Vl}])})})(Kl,Kl.exports);var Ve=Kl.exports;const Jy=R_(Ve);function K_(b,g){return g={exports:{}},b(g,g.exports),g.exports}var $_=K_(function(b){var g=b.exports=function(c,p){if(p||(p=16),c===void 0&&(c=128),c<=0)return"0";for(var a=Math.log(Math.pow(2,c))/Math.log(p),f=2;a===1/0;f*=2)a=Math.log(Math.pow(2,c/f))/Math.log(p)*f;for(var s=a-Math.floor(a),v="",f=0;f<Math.floor(a);f++){var O=Math.floor(Math.random()*p).toString(p);v=O+v}if(s){var x=Math.pow(p,s),O=Math.floor(Math.random()*x).toString(p);v=O+v}var j=parseInt(v,p);return j!==1/0&&j>=Math.pow(2,c)?g(c,p):v};g.rack=function(c,p,a){var f=function(v){var O=0;do{if(O++>10)if(a)c+=a;else throw new Error("too many ID collisions, use more bits");var x=g(c,p)}while(Object.hasOwnProperty.call(s,x));return s[x]=v,x},s=f.hats={};return f.get=function(v){return f.hats[v]},f.set=function(v,O){return f.hats[v]=O,f},f.bits=c||128,f.base=p||16,f}});function ir(b){if(!(this instanceof ir))return new ir(b);b=b||[128,36,1],this._seed=b.length?$_.rack(b[0],b[1],b[2]):b}ir.prototype.next=function(b){return this._seed(b||!0)};ir.prototype.nextPrefixed=function(b,g){var c;do c=b+this.next(!0);while(this.assigned(c));return this.claim(c,g),c};ir.prototype.claim=function(b,g){this._seed.set(b,g||!0)};ir.prototype.assigned=function(b){return this._seed.get(b)||!1};ir.prototype.unclaim=function(b){delete this._seed.hats[b]};ir.prototype.clear=function(){var b=this._seed.hats,g;for(g in b)this.unclaim(g)};var q_=new ir([32,32,1]);function zo(){return q_.next()}var wg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(b){wg(g,b);function g(c,p){var a=this;return c.id||(c.id="Event_"+zo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=b.call(this,c,p)||this,a}return g.prototype.setAttributes=function(){this.r=18},g.prototype.getConnectedTargetRules=function(){var c=b.prototype.getConnectedTargetRules.call(this),p={message:"起始节点不能作为边的终点",validate:function(){return!1}};return c.push(p),c},g.extendKey="StartEventModel",g})(Ve.CircleNodeModel);(function(b){wg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.extendKey="StartEventNode",g})(Ve.CircleNode);var xg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),hu=globalThis&&globalThis.__assign||function(){return hu=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},hu.apply(this,arguments)};(function(b){xg(g,b);function g(c,p){var a=this;return c.id||(c.id="Event_"+zo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=b.call(this,c,p)||this,a}return g.prototype.setAttributes=function(){this.r=18},g.prototype.getConnectedSourceRules=function(){var c=b.prototype.getConnectedSourceRules.call(this),p={message:"结束节点不能作为边的起点",validate:function(){return!1}};return c.push(p),c},g.extendKey="EndEventModel",g})(Ve.CircleNodeModel);(function(b){xg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},g.prototype.getShape=function(){var c=this.props.model,p=c.getNodeStyle(),a=c.x,f=c.y,s=c.r,v=b.prototype.getShape.call(this);return Ve.h("g",{},v,Ve.h("circle",hu(hu({},p),{cx:a,cy:f,r:s-5})))},g.extendKey="EndEventView",g})(Ve.CircleNode);var Eg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Oi=globalThis&&globalThis.__assign||function(){return Oi=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},Oi.apply(this,arguments)};(function(b){Eg(g,b);function g(c,p){var a=this;return c.id||(c.id="Gateway_"+zo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=b.call(this,c,p)||this,a.points=[[25,0],[50,25],[25,50],[0,25]],a}return g.extendKey="ExclusiveGatewayModel",g})(Ve.PolygonNodeModel);(function(b){Eg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.points,O=c.getNodeStyle();return Ve.h("g",{transform:"matrix(1 0 0 1 "+(p-f/2)+" "+(a-s/2)+")"},Ve.h("polygon",Oi(Oi({},O),{x:p,y:a,points:v})),Ve.h("path",Oi({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},O)))},g.extendKey="ExclusiveGatewayNode",g})(Ve.PolygonNode);var jg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),yu=globalThis&&globalThis.__assign||function(){return yu=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},yu.apply(this,arguments)};(function(b){jg(g,b);function g(c,p){var a=this;return c.id||(c.id="Activity_"+zo()),a=b.call(this,c,p)||this,a}return g.extendKey="UserTaskModel",g})(Ve.RectNodeModel);(function(b){jg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.getNodeStyle();return Ve.h("svg",{x:p-f/2+5,y:a-s/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ve.h("path",{fill:v.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},g.prototype.getShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.radius,O=c.getNodeStyle();return Ve.h("g",{},[Ve.h("rect",yu(yu({},O),{x:p-f/2,y:a-s/2,rx:v,ry:v,width:f,height:s})),this.getLabelShape()])},g.extendKey="UserTaskNode",g})(Ve.RectNode);var Sg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),$l=globalThis&&globalThis.__assign||function(){return $l=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},$l.apply(this,arguments)};(function(b){Sg(g,b);function g(c,p){var a=this;return c.id||(c.id="Activity_"+zo()),a=b.call(this,c,p)||this,a}return g.extendKey="ServiceTaskModel",g})(Ve.RectNodeModel);(function(b){Sg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.getNodeStyle();return Ve.h("svg",{x:p-f/2+5,y:a-s/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ve.h("path",{fill:v.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},g.prototype.getShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.radius,O=c.getNodeStyle();return Ve.h("g",{},[Ve.h("rect",$l({x:p-f/2,y:a-s/2,rx:v,ry:v,width:f,height:s},O)),this.getLabelShape()])},g.extendKey="ServiceTaskNode",g})(Ve.RectNode);var Pg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(b){Pg(g,b);function g(c,p){var a=this;return c.id||(c.id="Flow_"+zo()),a=b.call(this,c,p)||this,a}return g.extendKey="SequenceFlowModel",g})(Ve.PolylineEdgeModel);(function(b){Pg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.extendKey="SequenceFlowEdge",g})(Ve.PolylineEdge);var Qy={width:40,height:40},eg={width:40,height:40},tg={width:40,height:40},ng={width:100,height:80},rg={width:100,height:80},Z_=new ir([32,32,1]);function og(){return Z_.next()}function kg(b){return Object.prototype.toString.call(b)}function J_(b){return"  ".repeat(b)}function gu(b){var g=b;return kg(b)==="[object Object]"?(g={},Object.keys(b).forEach(function(c){var p=c;c.charAt(0)==="-"&&(p=c.substring(1)),g[p]=gu(b[c])})):Array.isArray(b)&&(g=[],b.forEach(function(c,p){g[p]=gu(c)})),g}function Q_(b){var g=b;try{typeof g!="string"&&(g=JSON.parse(b))}catch{g=JSON.stringify(gu(b)).replace(/"/g,"'")}return g}var Co=`	
`;function fu(b,g,c){var p=J_(c),a="";if(g==="#text")return Co+p+b;if(g==="#cdata-section")return Co+p+"<![CDATA["+b+"]]>";if(g==="#comment")return Co+p+"<!--"+b+"-->";if((""+g).charAt(0)==="-")return" "+g.substring(1)+'="'+Q_(b)+'"';if(Array.isArray(b))b.forEach(function(O){a+=fu(O,g,c+1)});else if(kg(b)==="[object Object]"){var f=Object.keys(b),s="",v="";a+=(c===0?"":Co+p)+"<"+g,f.forEach(function(O){O.charAt(0)==="-"?s+=fu(b[O],O,c+1):v+=fu(b[O],O,c+1)}),a+=s+(v!==""?">"+v+(Co+p)+"</"+g+">":" />")}else a+=Co+p+("<"+g+">"+b.toString()+"</"+g+">");return a}function e1(b){var g="";for(var c in b)g+=fu(b[c],c,0);return g}var pn=function(){};pn.ObjTree=function(){return this};pn.ObjTree.VERSION="0.23";pn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;pn.ObjTree.prototype.attr_prefix="-";pn.ObjTree.prototype.parseXML=function(b){var g;if(window.DOMParser){var c=new DOMParser,p=c.parseFromString(b,"application/xml");if(!p)return;g=p.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(b),g=c.documentElement);if(g)return this.parseDOM(g)};pn.ObjTree.prototype.parseHTTP=function(b,g,c){var p={};for(var a in g)p[a]=g[a];if(p.method||(typeof p.postBody>"u"&&typeof p.postbody>"u"&&typeof p.parameters>"u"?p.method="get":p.method="post"),c){p.asynchronous=!0;var f=this,s=c,v=p.onComplete;p.onComplete=function(j){var E;j&&j.responseXML&&j.responseXML.documentElement&&(E=f.parseDOM(j.responseXML.documentElement)),s(E,j),v&&v(j)}}else p.asynchronous=!1;var O;if(typeof HTTP<"u"&&HTTP.Request){p.uri=b;var x=new HTTP.Request(p);x&&(O=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(b,p);x&&(O=x.transport)}if(c)return O;if(O&&O.responseXML&&O.responseXML.documentElement)return this.parseDOM(O.responseXML.documentElement)};pn.ObjTree.prototype.parseDOM=function(b){if(b){if(this.__force_array={},this.force_array)for(var g=0;g<this.force_array.length;g++)this.__force_array[this.force_array[g]]=1;var c=this.parseElement(b);if(this.__force_array[b.nodeName]&&(c=[c]),b.nodeType!=11){var p={};p[b.nodeName]=c,c=p}return c}};pn.ObjTree.prototype.parseElement=function(b){if(b.nodeType!=7){if(b.nodeType==3||b.nodeType==4||b.nodeType==8){var g=b.nodeValue.match(/[^\x00-\x20]/);return g==null?void 0:b.nodeValue}var c=null,p={};if(b.attributes&&b.attributes.length){c={};for(var a=0;a<b.attributes.length;a++){var f=b.attributes[a].nodeName;if(typeof f=="string"){var s=b.attributes[a].nodeValue;try{s=JSON.parse(b.attributes[a].nodeValue.replace(/'/g,'"'))}catch{s=b.attributes[a].nodeValue}s&&(f=this.attr_prefix+f,typeof p[f]>"u"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}if(b.childNodes&&b.childNodes.length){var v=!0;c&&(v=!1);for(var a=0;a<b.childNodes.length&&v;a++){var O=b.childNodes[a].nodeType;O==3||O==4||O==8||(v=!1)}if(v){c||(c="");for(var a=0;a<b.childNodes.length;a++)c+=b.childNodes[a].nodeValue}else{c||(c={});for(var a=0;a<b.childNodes.length;a++){var f=b.childNodes[a].nodeName;if(typeof f=="string"){var s=this.parseElement(b.childNodes[a]);s&&(typeof p[f]>"u"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}}else c===null&&(c={});return c}};pn.ObjTree.prototype.addNode=function(b,g,c,p){this.__force_array[g]?(c==1&&(b[g]=[]),b[g][b[g].length]=p):c==1?b[g]=p:c==2?b[g]=[b[g],p]:b[g][b[g].length]=p};pn.ObjTree.prototype.writeXML=function(b){var g=this.hash_to_xml(null,b);return this.xmlDecl+g};pn.ObjTree.prototype.hash_to_xml=function(b,g){var c=[],p=[];for(var a in g)if(g.hasOwnProperty(a)){var f=g[a];a.charAt(0)!=this.attr_prefix?typeof f>"u"||f==null?c[c.length]="<"+a+" />":typeof f=="object"&&f.constructor==Array?c[c.length]=this.array_to_xml(a,f):typeof f=="object"?c[c.length]=this.hash_to_xml(a,f):c[c.length]=this.scalar_to_xml(a,f):p[p.length]=" "+a.substring(1)+'="'+this.xml_escape(f)+'"'}var s=p.join(""),v=c.join("");return typeof b>"u"||b==null||(c.length>0?v.match(/\n/)?v="<"+b+s+`>
`+v+"</"+b+`>
`:v="<"+b+s+">"+v+"</"+b+`>
`:v="<"+b+s+` />
`),v};pn.ObjTree.prototype.array_to_xml=function(b,g){for(var c=[],p=0;p<g.length;p++){var a=g[p];typeof a>"u"||a==null?c[c.length]="<"+b+" />":typeof a=="object"&&a.constructor==Array?c[c.length]=this.array_to_xml(b,a):typeof a=="object"?c[c.length]=this.hash_to_xml(b,a):c[c.length]=this.scalar_to_xml(b,a)}return c.join("")};pn.ObjTree.prototype.scalar_to_xml=function(b,g){return b=="#text"?this.xml_escape(g):"<"+b+">"+this.xml_escape(g)+"</"+b+`>
`};pn.ObjTree.prototype.xml_escape=function(b){return b.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var t1=function(b){return new pn.ObjTree().parseXML(b)},n1=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),ql=globalThis&&globalThis.__assign||function(){return ql=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},ql.apply(this,arguments)},xu=globalThis&&globalThis.__read||function(b,g){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),a,f=[],s;try{for(;(g===void 0||g-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},ar;(function(b){b.START="bpmn:startEvent",b.END="bpmn:endEvent",b.GATEWAY="bpmn:exclusiveGateway",b.USER="bpmn:userTask",b.SYSTEM="bpmn:serviceTask",b.FLOW="bpmn:sequenceFlow"})(ar||(ar={}));var Ag=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],ig=["properties","startPoint","endPoint","pointsList"];function ag(b){var g=b?ig.concat(b):ig;return function(c){function p(a){var f={};return typeof a=="string"?a:Array.isArray(a)?a.map(function(s){return p(s)}):(Object.entries(a).forEach(function(s){var v=xu(s,2),O=v[0],x=v[1];typeof x!="object"?O.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(O)?f[O]=x:f["-"+O]=x:g.includes(O)?f["-"+O]=p(x):f[O]=p(x)}),f)}return p(c)}}function vu(b){var g={};return Object.entries(b).forEach(function(c){var p=xu(c,2),a=p[0],f=p[1];a.indexOf("-")===0?g[a.substring(1)]=gu(f):typeof f=="string"?g[a]=f:Object.prototype.toString.call(f)==="[object Object]"?g[a]=vu(f):Array.isArray(f)?g[a]=f.map(function(s){return vu(s)}):g[a]=f}),g}function r1(b,g,c){var p=new Map;g.nodes.forEach(function(f){var s,v={"-id":f.id};if(!((s=f.text)===null||s===void 0)&&s.value&&(v["-name"]=f.text.value),f.properties){var O=ag(c)(f.properties);Object.assign(v,O)}p.set(f.id,v),b[f.type]?Array.isArray(b[f.type])?b[f.type].push(v):b[f.type]=[b[f.type],v]:b[f.type]=v});var a=g.edges.map(function(f){var s,v,O=p.get(f.targetNodeId);O["bpmn:incoming"]?Array.isArray(O["bpmn:incoming"])?O["bpmn:incoming"].push(f.id):O["bpmn:incoming"]=[O["bpmn:incoming"],f.id]:O["bpmn:incoming"]=f.id;var x={"-id":f.id,"-sourceRef":f.sourceNodeId,"-targetRef":f.targetNodeId};if(!((s=f.text)===null||s===void 0)&&s.value&&(x["-name"]=(v=f.text)===null||v===void 0?void 0:v.value),f.properties){var j=ag(c)(f.properties);Object.assign(x,j)}return x});g.edges.forEach(function(f){var s=p.get(f.sourceNodeId);s["bpmn:outgoing"]?Array.isArray(s["bpmn:outgoing"])?s["bpmn:outgoing"].push(f.id):s["bpmn:outgoing"]=[s["bpmn:outgoing"],f.id]:s["bpmn:outgoing"]=f.id}),b[ar.FLOW]=a}function o1(b,g){b["bpmndi:BPMNEdge"]=g.edges.map(function(c){var p,a=c.id,f=c.pointsList.map(function(v){var O=v.x,x=v.y;return{"-x":O,"-y":x}}),s={"-id":a+"_di","-bpmnElement":a,"di:waypoint":f};return!((p=c.text)===null||p===void 0)&&p.value&&(s["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),s}),b["bpmndi:BPMNShape"]=g.nodes.map(function(c){var p,a=c.id,f=100,s=80,v=c.x,O=c.y,x=Xr.shapeConfigMap.get(c.type);x&&(f=x.width,s=x.height),v-=f/2,O-=s/2;var j={"-id":a+"_di","-bpmnElement":a,"dc:Bounds":{"-x":v,"-y":O,"-width":f,"-height":s}};return!((p=c.text)===null||p===void 0)&&p.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),j})}function i1(b){var g=[],c=[],p=b["bpmn:definitions"];if(p){var a=p["bpmn:process"];Object.keys(a).forEach(function(f){if(f.indexOf("bpmn:")===0){var s=a[f];if(f===ar.FLOW){var v=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=u1(s,v)}else{var O=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];g=g.concat(a1(s,O,f))}}})}return{nodes:g,edges:c}}function a1(b,g,c){var p=[];if(Array.isArray(b))b.forEach(function(s){var v;Array.isArray(g)?v=g.find(function(x){return x["-bpmnElement"]===s["-id"]}):v=g;var O=ug(v,c,s);p.push(O)});else{var a=void 0;Array.isArray(g)?a=g.find(function(s){return s["-bpmnElement"]===b["-id"]}):a=g;var f=ug(a,c,b);p.push(f)}return p}function ug(b,g,c){var p=Number(b["dc:Bounds"]["-x"]),a=Number(b["dc:Bounds"]["-y"]),f=c["-name"],s=Xr.shapeConfigMap.get(g);s&&(p+=s.width/2,a+=s.height/2);var v;Object.entries(c).forEach(function(E){var T=xu(E,2),A=T[0],M=T[1];Ag.indexOf(A)===-1&&(v||(v={}),v[A]=M)}),v&&(v=vu(v));var O;if(f&&(O={x:p,y:a,value:f},b["bpmndi:BPMNLabel"]&&b["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=b["bpmndi:BPMNLabel"]["dc:Bounds"];O.x=Number(x["-x"])+Number(x["-width"])/2,O.y=Number(x["-y"])+Number(x["-height"])/2}var j={id:b["-bpmnElement"],type:g,x:p,y:a,properties:v};return O&&(j.text=O),j}function u1(b,g){var c=[];if(Array.isArray(b))b.forEach(function(a){var f;Array.isArray(g)?f=g.find(function(s){return s["-bpmnElement"]===a["-id"]}):f=g,c.push(cg(f,a))});else{var p=void 0;Array.isArray(g)?p=g.find(function(a){return a["-bpmnElement"]===b["-id"]}):p=g,c.push(cg(p,b))}return c}function cg(b,g){var c,p=g["-name"];if(p){var a=b["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(O){f<O.length&&(f=O.length)}),c={value:p,x:Number(a["-x"])+f*10/2,y:Number(a["-y"])+7}}var s;Object.entries(g).forEach(function(O){var x=xu(O,2),j=x[0],E=x[1];Ag.indexOf(j)===-1&&(s||(s={}),s[j]=E)}),s&&(s=vu(s));var v={id:g["-id"],type:ar.FLOW,pointsList:b["di:waypoint"].map(function(O){return{x:Number(O["-x"]),y:Number(O["-y"])}}),sourceNodeId:g["-sourceRef"],targetNodeId:g["-targetRef"],properties:s};return c&&(v.text=c),v}var Xr=function(){function b(g){var c=this,p=g.lf;this.adapterOut=function(a,f){var s=ql({},c.processAttributes);r1(s,a,f);var v={"-id":"BPMNPlane_1","-bpmnElement":s["-id"]};o1(v,a);var O=c.definitionAttributes;O["bpmn:process"]=s,O["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":v};var x={"bpmn:definitions":O};return x},this.adapterIn=function(a){if(a)return i1(a)},p.adapterIn=function(a){return c.adapterIn(a)},p.adapterOut=function(a,f){return c.adapterOut(a,f)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+og()},this.definitionAttributes={"-id":"Definitions_"+og(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return b.prototype.setCustomShape=function(g,c){b.shapeConfigMap.set(g,c)},b.pluginName="bpmn-adapter",b.shapeConfigMap=new Map,b}();Xr.shapeConfigMap.set(ar.START,{width:Qy.width,height:Qy.height});Xr.shapeConfigMap.set(ar.END,{width:eg.width,height:eg.height});Xr.shapeConfigMap.set(ar.GATEWAY,{width:tg.width,height:tg.height});Xr.shapeConfigMap.set(ar.SYSTEM,{width:ng.width,height:ng.height});Xr.shapeConfigMap.set(ar.USER,{width:rg.width,height:rg.height});(function(b){n1(g,b);function g(c){var p=b.call(this,c)||this;p.adapterXmlIn=function(f){var s=t1(f);return p.adapterIn(s)},p.adapterXmlOut=function(f,s){var v=p.adapterOut(f,s);return e1(v)};var a=c.lf;return a.adapterIn=p.adapterXmlIn,a.adapterOut=p.adapterXmlOut,p}return g.pluginName="bpmnXmlAdapter",g})(Xr);var sg=globalThis&&globalThis.__assign||function(){return sg=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},sg.apply(this,arguments)};globalThis&&globalThis.__read;var lg;(function(b){b.HORIZONTAL="horizontal",b.VERTICAL="vertical"})(lg||(lg={}));var c1=globalThis&&globalThis.__read||function(b,g){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),a,f=[],s;try{for(;(g===void 0||g-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var s1=globalThis&&globalThis.__read||function(b,g){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),a,f=[],s;try{for(;(g===void 0||g-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},l1=globalThis&&globalThis.__spread||function(){for(var b=[],g=0;g<arguments.length;g++)b=b.concat(s1(arguments[g]));return b},f1=function(){function b(g){var c=this,p=g.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){c.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){c.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){c.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){c.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){c.lf.redo()}}],this.lf=p}return b.prototype.render=function(g,c){this.destroy();var p=this.getControlTool();this.toolEl=p,c.appendChild(p),this.domContainer=c},b.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},b.prototype.addItem=function(g){this.controlItems.push(g)},b.prototype.removeItem=function(g){var c=this.controlItems.findIndex(function(p){return p.key===g});return c==-1?null:this.controlItems.splice(c,1)[0]},b.prototype.getControlTool=function(){var g=this,c="lf-control-item",p="lf-control-item disabled",a=document.createElement("div"),f=[];return a.className="lf-control",this.controlItems.forEach(function(s){var v=document.createElement("div"),O=document.createElement("i"),x=document.createElement("span");switch(v.className=p,s.onClick&&(v.onclick=s.onClick.bind(null,g.lf)),s.onMouseEnter&&(v.onmouseenter=s.onMouseEnter.bind(null,g.lf)),s.onMouseLeave&&(v.onmouseleave=s.onMouseLeave.bind(null,g.lf)),O.className=s.iconClass,x.className="lf-control-text",x.title=s.title,x.innerText=s.text,v.append(O,x),s.text){case"上一步":g.lf.on("history:change",function(j){var E=j.data.undoAble;v.className=E?c:p});break;case"下一步":g.lf.on("history:change",function(j){var E=j.data.redoAble;v.className=E?c:p});break;default:v.className=c;break}f.push(v)}),a.append.apply(a,l1(f)),a},b.pluginName="control",b}(),p1=globalThis&&globalThis.__read||function(b,g){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),a,f=[],s;try{for(;(g===void 0||g-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;globalThis&&globalThis.__read;globalThis&&globalThis.__values;function d1(b){if(b.length<=1)return!1;for(var g=0,c=b.length-1;g!==c&&g+1!==c&&c-1!==g;)g++,c--;return g===c?[--g,c]:[g,c]}var Tg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ro=globalThis&&globalThis.__assign||function(){return Ro=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},Ro.apply(this,arguments)},xr=globalThis&&globalThis.__read||function(b,g){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),a,f=[],s;try{for(;(g===void 0||g-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};(function(b){Tg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.pointFilter=function(c){for(var p=c,a=1;a<p.length-1;){var f=xr(p[a-1],2),s=f[0],v=f[1],O=xr(p[a],2),x=O[0],j=O[1],E=xr(p[a+1],2),T=E[0],A=E[1];s===x&&x===T||v===j&&j===A?p.splice(a,1):a++}return p},g.prototype.getEdge=function(){var c=this.props.model,p=c.points,a=c.isAnimation,f=c.arrowConfig,s=c.radius,v=s===void 0?5:s,O=c.getEdgeStyle(),x=c.getEdgeAnimationStyle(),j=this.pointFilter(p.split(" ").map(function(Pe){return Pe.split(",").map(function(Ce){return Number(Ce)})})),E=d1(j);if(E){var T=xr(E,2),A=T[0],M=T[1],N=j[A],R=j[M],I=N.some(function(Pe,Ce){return Pe===R[Ce]});if(!I){var G=(R[1]-N[1])/2,Q=[R[0],R[1]-G],ie=[N[0],N[1]+G];j.splice(A+1,0,ie,Q)}}for(var $=xr(j[0],2),Y=$[0],q=$[1],B="M"+Y+" "+q,D=1;D<j.length-1;D++){var z=xr(j[D-1],2),L=z[0],F=z[1],te=xr(j[D],2),fe=te[0],se=te[1],ye=xr(j[D+1],2),xe=ye[0],ge=ye[1];if(fe===L&&se!==F){var ue=se>F?se-v:se+v;B=B+" L "+fe+" "+ue}if(se===F&&fe!==L){var he=fe>L?fe-v:fe+v;B=B+" L "+he+" "+se}if(B=B+" Q "+fe+" "+se,fe===xe&&se!==ge){var ue=se>ge?se-v:se+v;B=B+" "+fe+" "+ue}if(se===ge&&fe!==xe){var he=fe>xe?fe-v:fe+v;B=B+" "+he+" "+se}}var be=xr(j[j.length-1],2),je=be[0],Ie=be[1];B=B+" L "+je+" "+Ie;var $e=Ro(Ro(Ro({d:B,style:a?x:{}},O),f),{fill:"none"});return Ve.h("path",Ro({d:B},$e))},g})(Ve.PolylineEdge);(function(b){Tg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g})(Ve.PolylineEdgeModel);var tf,Yt,Dg,ro,fg,Mg,Zl,pu={},Ng=[],h1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,nf=Array.isArray;function Fr(b,g){for(var c in g)b[c]=g[c];return b}function Cg(b){var g=b.parentNode;g&&g.removeChild(b)}function _i(b,g,c){var p,a,f,s={};for(f in g)f=="key"?p=g[f]:f=="ref"?a=g[f]:s[f]=g[f];if(arguments.length>2&&(s.children=arguments.length>3?tf.call(arguments,2):c),typeof b=="function"&&b.defaultProps!=null)for(f in b.defaultProps)s[f]===void 0&&(s[f]=b.defaultProps[f]);return du(b,s,p,a,null)}function du(b,g,c,p,a){var f={type:b,props:g,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++Dg};return a==null&&Yt.vnode!=null&&Yt.vnode(f),f}function rf(b){return b.children}function Lo(b,g){this.props=b,this.context=g}function bu(b,g){if(g==null)return b.__?bu(b.__,b.__.__k.indexOf(b)+1):null;for(var c;g<b.__k.length;g++)if((c=b.__k[g])!=null&&c.__e!=null)return c.__e;return typeof b.type=="function"?bu(b):null}function Rg(b){var g,c;if((b=b.__)!=null&&b.__c!=null){for(b.__e=b.__c.base=null,g=0;g<b.__k.length;g++)if((c=b.__k[g])!=null&&c.__e!=null){b.__e=b.__c.base=c.__e;break}return Rg(b)}}function pg(b){(!b.__d&&(b.__d=!0)&&ro.push(b)&&!mu.__r++||fg!==Yt.debounceRendering)&&((fg=Yt.debounceRendering)||Mg)(mu)}function mu(){var b,g,c,p,a,f,s,v,O;for(ro.sort(Zl);b=ro.shift();)b.__d&&(g=ro.length,p=void 0,a=void 0,f=void 0,v=(s=(c=b).__v).__e,(O=c.__P)&&(p=[],a=[],(f=Fr({},s)).__v=s.__v+1,Bg(O,s,f,c.__n,O.ownerSVGElement!==void 0,s.__h!=null?[v]:null,p,v??bu(s),s.__h,a),v1(p,s,a),s.__e!=v&&Rg(s)),ro.length>g&&ro.sort(Zl));mu.__r=0}function Ig(b,g,c,p,a,f,s,v,O,x,j){var E,T,A,M,N,R,I,G,Q,ie,$=0,Y=p&&p.__k||Ng,q=Y.length,B=q,D=g.length;for(c.__k=[],E=0;E<D;E++)(M=c.__k[E]=(M=g[E])==null||typeof M=="boolean"||typeof M=="function"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?du(null,M,null,null,M):nf(M)?du(rf,{children:M},null,null,null):M.__b>0?du(M.type,M.props,M.key,M.ref?M.ref:null,M.__v):M)!=null&&(M.__=c,M.__b=c.__b+1,(G=y1(M,Y,I=E+$,B))===-1?A=pu:(A=Y[G]||pu,Y[G]=void 0,B--),Bg(b,M,A,a,f,s,v,O,x,j),N=M.__e,(T=M.ref)&&A.ref!=T&&(A.ref&&of(A.ref,null,M),j.push(T,M.__c||N,M)),N!=null&&(R==null&&(R=N),ie=!(Q=A===pu||A.__v===null)&&G===I,Q?G==-1&&$--:G!==I&&(G===I+1?($++,ie=!0):G>I?B>D-I?($+=G-I,ie=!0):$--:$=G<I&&G==I-1?G-I:0),I=E+$,ie=ie||G==E&&!Q,typeof M.type!="function"||G===I&&A.__k!==M.__k?typeof M.type=="function"||ie?M.__d!==void 0?(O=M.__d,M.__d=void 0):O=N.nextSibling:O=zg(b,N,O):O=Lg(M,O,b),typeof c.type=="function"&&(c.__d=O)));for(c.__e=R,E=q;E--;)Y[E]!=null&&(typeof c.type=="function"&&Y[E].__e!=null&&Y[E].__e==c.__d&&(c.__d=Y[E].__e.nextSibling),Hg(Y[E],Y[E]))}function Lg(b,g,c){for(var p,a=b.__k,f=0;a&&f<a.length;f++)(p=a[f])&&(p.__=b,g=typeof p.type=="function"?Lg(p,g,c):zg(c,p.__e,g));return g}function zg(b,g,c){return c==null||c.parentNode!==b?b.insertBefore(g,null):g==c&&g.parentNode!=null||b.insertBefore(g,c),g.nextSibling}function y1(b,g,c,p){var a=b.key,f=b.type,s=c-1,v=c+1,O=g[c];if(O===null||O&&a==O.key&&f===O.type)return c;if(p>(O!=null?1:0))for(;s>=0||v<g.length;){if(s>=0){if((O=g[s])&&a==O.key&&f===O.type)return s;s--}if(v<g.length){if((O=g[v])&&a==O.key&&f===O.type)return v;v++}}return-1}function g1(b,g,c,p,a){var f;for(f in c)f==="children"||f==="key"||f in g||Ou(b,f,null,c[f],p);for(f in g)a&&typeof g[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||c[f]===g[f]||Ou(b,f,g[f],c[f],p)}function dg(b,g,c){g[0]==="-"?b.setProperty(g,c??""):b[g]=c==null?"":typeof c!="number"||h1.test(g)?c:c+"px"}function Ou(b,g,c,p,a){var f;e:if(g==="style")if(typeof c=="string")b.style.cssText=c;else{if(typeof p=="string"&&(b.style.cssText=p=""),p)for(g in p)c&&g in c||dg(b.style,g,"");if(c)for(g in c)p&&c[g]===p[g]||dg(b.style,g,c[g])}else if(g[0]==="o"&&g[1]==="n")f=g!==(g=g.replace(/Capture$/,"")),g=g.toLowerCase()in b?g.toLowerCase().slice(2):g.slice(2),b.l||(b.l={}),b.l[g+f]=c,c?p||b.addEventListener(g,f?yg:hg,f):b.removeEventListener(g,f?yg:hg,f);else if(g!=="dangerouslySetInnerHTML"){if(a)g=g.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(g!=="width"&&g!=="height"&&g!=="href"&&g!=="list"&&g!=="form"&&g!=="tabIndex"&&g!=="download"&&g!=="rowSpan"&&g!=="colSpan"&&g in b)try{b[g]=c??"";break e}catch{}typeof c=="function"||(c==null||c===!1&&g[4]!=="-"?b.removeAttribute(g):b.setAttribute(g,c))}}function hg(b){return this.l[b.type+!1](Yt.event?Yt.event(b):b)}function yg(b){return this.l[b.type+!0](Yt.event?Yt.event(b):b)}function Bg(b,g,c,p,a,f,s,v,O,x){var j,E,T,A,M,N,R,I,G,Q,ie,$,Y,q,B,D=g.type;if(g.constructor!==void 0)return null;c.__h!=null&&(O=c.__h,v=g.__e=c.__e,g.__h=null,f=[v]),(j=Yt.__b)&&j(g);try{e:if(typeof D=="function"){if(I=g.props,G=(j=D.contextType)&&p[j.__c],Q=j?G?G.props.value:j.__:p,c.__c?R=(E=g.__c=c.__c).__=E.__E:("prototype"in D&&D.prototype.render?g.__c=E=new D(I,Q):(g.__c=E=new Lo(I,Q),E.constructor=D,E.render=m1),G&&G.sub(E),E.props=I,E.state||(E.state={}),E.context=Q,E.__n=p,T=E.__d=!0,E.__h=[],E._sb=[]),E.__s==null&&(E.__s=E.state),D.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=Fr({},E.__s)),Fr(E.__s,D.getDerivedStateFromProps(I,E.__s))),A=E.props,M=E.state,E.__v=g,T)D.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(D.getDerivedStateFromProps==null&&I!==A&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(I,Q),!E.__e&&(E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(I,E.__s,Q)===!1||g.__v===c.__v)){for(g.__v!==c.__v&&(E.props=I,E.state=E.__s,E.__d=!1),g.__e=c.__e,g.__k=c.__k,g.__k.forEach(function(z){z&&(z.__=g)}),ie=0;ie<E._sb.length;ie++)E.__h.push(E._sb[ie]);E._sb=[],E.__h.length&&s.push(E);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(I,E.__s,Q),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(A,M,N)})}if(E.context=Q,E.props=I,E.__P=b,E.__e=!1,$=Yt.__r,Y=0,"prototype"in D&&D.prototype.render){for(E.state=E.__s,E.__d=!1,$&&$(g),j=E.render(E.props,E.state,E.context),q=0;q<E._sb.length;q++)E.__h.push(E._sb[q]);E._sb=[]}else do E.__d=!1,$&&$(g),j=E.render(E.props,E.state,E.context),E.state=E.__s;while(E.__d&&++Y<25);E.state=E.__s,E.getChildContext!=null&&(p=Fr(Fr({},p),E.getChildContext())),T||E.getSnapshotBeforeUpdate==null||(N=E.getSnapshotBeforeUpdate(A,M)),Ig(b,nf(B=j!=null&&j.type===rf&&j.key==null?j.props.children:j)?B:[B],g,c,p,a,f,s,v,O,x),E.base=g.__e,g.__h=null,E.__h.length&&s.push(E),R&&(E.__E=E.__=null)}else f==null&&g.__v===c.__v?(g.__k=c.__k,g.__e=c.__e):g.__e=b1(c.__e,g,c,p,a,f,s,O,x);(j=Yt.diffed)&&j(g)}catch(z){g.__v=null,(O||f!=null)&&(g.__e=v,g.__h=!!O,f[f.indexOf(v)]=null),Yt.__e(z,g,c)}}function v1(b,g,c){for(var p=0;p<c.length;p++)of(c[p],c[++p],c[++p]);Yt.__c&&Yt.__c(g,b),b.some(function(a){try{b=a.__h,a.__h=[],b.some(function(f){f.call(a)})}catch(f){Yt.__e(f,a.__v)}})}function b1(b,g,c,p,a,f,s,v,O){var x,j,E,T=c.props,A=g.props,M=g.type,N=0;if(M==="svg"&&(a=!0),f!=null){for(;N<f.length;N++)if((x=f[N])&&"setAttribute"in x==!!M&&(M?x.localName===M:x.nodeType===3)){b=x,f[N]=null;break}}if(b==null){if(M===null)return document.createTextNode(A);b=a?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,A.is&&A),f=null,v=!1}if(M===null)T===A||v&&b.data===A||(b.data=A);else{if(f=f&&tf.call(b.childNodes),j=(T=c.props||pu).dangerouslySetInnerHTML,E=A.dangerouslySetInnerHTML,!v){if(f!=null)for(T={},N=0;N<b.attributes.length;N++)T[b.attributes[N].name]=b.attributes[N].value;(E||j)&&(E&&(j&&E.__html==j.__html||E.__html===b.innerHTML)||(b.innerHTML=E&&E.__html||""))}if(g1(b,A,T,a,v),E)g.__k=[];else if(Ig(b,nf(N=g.props.children)?N:[N],g,c,p,a&&M!=="foreignObject",f,s,f?f[0]:c.__k&&bu(c,0),v,O),f!=null)for(N=f.length;N--;)f[N]!=null&&Cg(f[N]);v||("value"in A&&(N=A.value)!==void 0&&(N!==b.value||M==="progress"&&!N||M==="option"&&N!==T.value)&&Ou(b,"value",N,T.value,!1),"checked"in A&&(N=A.checked)!==void 0&&N!==b.checked&&Ou(b,"checked",N,T.checked,!1))}return b}function of(b,g,c){try{typeof b=="function"?b(g):b.current=g}catch(p){Yt.__e(p,c)}}function Hg(b,g,c){var p,a;if(Yt.unmount&&Yt.unmount(b),(p=b.ref)&&(p.current&&p.current!==b.__e||of(p,null,g)),(p=b.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){Yt.__e(f,g)}p.base=p.__P=null,b.__c=void 0}if(p=b.__k)for(a=0;a<p.length;a++)p[a]&&Hg(p[a],g,c||typeof b.type!="function");c||b.__e==null||Cg(b.__e),b.__=b.__e=b.__d=void 0}function m1(b,g,c){return this.constructor(b,c)}tf=Ng.slice,Yt={__e:function(b,g,c,p){for(var a,f,s;g=g.__;)if((a=g.__c)&&!a.__)try{if((f=a.constructor)&&f.getDerivedStateFromError!=null&&(a.setState(f.getDerivedStateFromError(b)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(b,p||{}),s=a.__d),s)return a.__E=a}catch(v){b=v}throw b}},Dg=0,Lo.prototype.setState=function(b,g){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Fr({},this.state),typeof b=="function"&&(b=b(Fr({},c),this.props)),b&&Fr(c,b),b!=null&&this.__v&&(g&&this._sb.push(g),pg(this))},Lo.prototype.forceUpdate=function(b){this.__v&&(this.__e=!0,b&&this.__h.push(b),pg(this))},Lo.prototype.render=rf,ro=[],Mg=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Zl=function(b,g){return b.__v.__b-g.__v.__b},mu.__r=0;var wi=globalThis&&globalThis.__assign||function(){return wi=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},wi.apply(this,arguments)};function af(b){var g=b.x,c=b.y,p=b.width,a=b.height,f=b.radius,s=b.className,v=g-p/2,O=c-a/2,x=wi(wi({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+s},b),{x:v,y:O});return Ve.h("rect",wi({},x))}af.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Io;(function(b){b.NODE="node",b.CIRCLE_NODE="circle-node",b.POLYGON_NODE="polygon-node",b.RECT_NODE="rect-node",b.HTML_NODE="html-node",b.TEXT_NODE="text-node",b.ELLIPSE_NODE="ellipse-node",b.DIAMOND_NODE="diamond-node",b.EDGE="edge",b.LINE_EDGE="line-edge",b.POLYLINE_EDGE="polyline-edge",b.BEZIER_EDGE="bezier-edge",b.GRAPH="graph"})(Io||(Io={}));var O1=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),oo=globalThis&&globalThis.__assign||function(){return oo=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},oo.apply(this,arguments)},_1=globalThis&&globalThis.__read||function(b,g){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),a,f=[],s;try{for(;(g===void 0||g-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},w1=Ve.LogicFlowUtil.StepDrag,x1=function(b){O1(g,b);function g(c){var p=b.call(this)||this;return p.updatePosition=function(a){var f=a.deltaX,s=a.deltaY,v=p.nodeModel,O=v.x,x=v.y;p.nodeModel.x=O+f/2,p.nodeModel.y=x+s/2,p.nodeModel.moveText(f/2,s/2)},p.getResize=function(a){var f=a.index,s=a.deltaX,v=a.deltaY,O=a.width,x=a.height,j=a.PCTResizeInfo,E=a.pct,T=E===void 0?1:E,A={width:O,height:x,deltaX:s,deltaY:v};if(j){var M=4,N=0,R=0;switch(f){case 0:R=(s*-1-v)/M;break;case 1:R=(s-v)/M;break;case 2:R=(s+v)/M;break;case 3:R=(s*-1+v)/M;break}R!==0&&(N=Math.round(R/j.ResizeBasis.basisHeight*1e5)/1e3),j.ResizePCT.widthPCT=Math.max(Math.min(j.ResizePCT.widthPCT+N,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit),j.ResizePCT.hightPCT=Math.max(Math.min(j.ResizePCT.hightPCT+N,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit);var I=Math.round(j.ResizePCT.widthPCT*j.ResizeBasis.basisWidth/100),G=Math.round(j.ResizePCT.hightPCT*j.ResizeBasis.basisHeight/100);switch(f){case 0:s=O-I,v=x-G;break;case 1:s=I-O,v=x-G;break;case 2:s=I-O,v=G-x;break;case 3:s=O-I,v=G-x;break}return A.width=I,A.height=G,A.deltaX=s/T,A.deltaY=v/T,A}switch(f){case 0:A.width=O-s*T,A.height=x-v*T;break;case 1:A.width=O+s*T,A.height=x-v*T;break;case 2:A.width=O+s*T,A.height=x+v*T;break;case 3:A.width=O-s*T,A.height=x+v*T;break}return A},p.updateEdgePointByAnchors=function(){var a=p.nodeModel,f=a.id,s=a.anchors,v=p.getNodeEdges(f);v.sourceEdges.forEach(function(O){var x=s.find(function(j){return j.id===O.sourceAnchorId});O.updateStartPoint({x:x.x,y:x.y})}),v.targetEdges.forEach(function(O){var x=s.find(function(j){return j.id===O.targetAnchorId});O.updateEndPoint({x:x.x,y:x.y})})},p.updateRect=function(a){var f=a.deltaX,s=a.deltaY,v=p.nodeModel,O=v.id,x=v.x,j=v.y,E=v.width,T=v.height,A=v.radius,M=v.PCTResizeInfo,N=p.index,R=p.getResize({index:N,deltaX:f,deltaY:s,width:E,height:T,PCTResizeInfo:M,pct:1}),I=p.nodeModel,G=I.minWidth,Q=I.minHeight,ie=I.maxWidth,$=I.maxHeight;if(R.width<G||R.width>ie||R.height<Q||R.height>$){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:R.deltaX,deltaY:R.deltaY}),p.nodeModel.width=R.width,p.nodeModel.height=R.height,p.nodeModel.setProperties({nodeSize:{width:R.width,height:R.height}}),p.getNodeEdges(O);var Y={x,y:j,width:E,height:T,radius:A},q={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:A};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:Y,afterNode:q})},p.updateEllipse=function(a){var f=a.deltaX,s=a.deltaY,v=p.nodeModel,O=v.id,x=v.rx,j=v.ry,E=v.x,T=v.y,A=v.PCTResizeInfo,M=p.index,N=x,R=j,I=p.getResize({index:M,deltaX:f,deltaY:s,width:N,height:R,PCTResizeInfo:A,pct:1/2}),G=p.nodeModel,Q=G.minWidth,ie=G.minHeight,$=G.maxWidth,Y=G.maxHeight;if(I.width<Q/2||I.width>$/2||I.height<ie/2||I.height>Y/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:I.deltaX,deltaY:I.deltaY}),p.nodeModel.rx=I.width,p.nodeModel.ry=I.height,p.nodeModel.setProperties({nodeSize:{rx:I.width,ry:I.height}}),p.getNodeEdges(O);var q={x:E,y:T},B={rx:I.width,ry:I.height,x:p.nodeModel.x,y:p.nodeModel.y};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:oo(oo({},q),{rx:x,ry:j}),afterNode:B})},p.updateDiamond=function(a){var f=a.deltaX,s=a.deltaY,v=p.nodeModel;v.id;var O=v.rx,x=v.ry,j=v.x,E=v.y,T=v.PCTResizeInfo,A=p.index,M=O,N=x,R=p.getResize({index:A,deltaX:f,deltaY:s,width:M,height:N,PCTResizeInfo:T,pct:1/2}),I=p.nodeModel,G=I.minWidth,Q=I.minHeight,ie=I.maxWidth,$=I.maxHeight;if(R.width<G/2||R.width>ie/2||R.height<Q/2||R.height>$/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:R.deltaX,deltaY:R.deltaY}),p.nodeModel.rx=R.width,p.nodeModel.ry=R.height,p.nodeModel.setProperties({nodeSize:{rx:R.width,ry:R.height}});var Y={x:j,y:E,rx:O,ry:x},q={rx:R.width,ry:R.height,x:p.nodeModel.x,y:p.nodeModel.y};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:Y,afterNode:q})},p.eventEmit=function(a){var f=a.beforeNode,s=a.afterNode,v=p.nodeModel,O=v.id,x=v.modelType,j=v.type,E=oo({id:O,modelType:x,type:j},f),T=oo({id:O,modelType:x,type:j},s);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:E,newNodeSize:T})},p.onDragging=function(a){var f,s=a.deltaX,v=a.deltaY,O=p.graphModel.transformModel,x=p.nodeModel.modelType;f=_1(O.fixDeltaXY(s,v),2),s=f[0],v=f[1],x===Io.RECT_NODE||x===Io.HTML_NODE?p.updateRect({deltaX:s,deltaY:v}):x===Io.ELLIPSE_NODE?p.updateEllipse({deltaX:s,deltaY:v}):x===Io.DIAMOND_NODE&&p.updateDiamond({deltaX:s,deltaY:v})},p.onDragEnd=function(){p.updateEdgePointByAnchors();var a=p.graphModel.gridSize,f=a===void 0?1:a,s=f*Math.round(p.nodeModel.x/f),v=f*Math.round(p.nodeModel.y/f);p.nodeModel.moveTo(s,v)},p.index=c.index,p.nodeModel=c.model,p.graphModel=c.graphModel,p.state={},p.dragHandler=new w1({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:1}),p}return g.prototype.getNodeEdges=function(c){for(var p=this.graphModel,a=p.edges,f=[],s=[],v=0;v<a.length;v++){var O=a[v];O.sourceNodeId===c?f.push(O):a[v].targetNodeId===c&&s.push(O)}return{sourceEdges:f,targetEdges:s}},g.prototype.render=function(){var c=this.props,p=c.x,a=c.y,f=c.index,s=c.model,v=s.getControlPointStyle();return _i("g",{className:"lf-resize-control-"+f},_i(af,oo({className:"lf-node-control"},{x:p,y:a},v,{onMouseDown:this.dragHandler.handleMouseDown})))},g}(Lo),E1=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),_u=globalThis&&globalThis.__assign||function(){return _u=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},_u.apply(this,arguments)},Eu=function(b){E1(g,b);function g(){var c=b.call(this)||this;return c.state={},c}return g.prototype.getResizeControl=function(){var c=this.props,p=c.model,a=c.graphModel,f=p.x,s=p.y,v=p.width,O=p.height,x={minX:f-v/2,minY:s-O/2,maxX:f+v/2,maxY:s+O/2},j=x.minX,E=x.minY,T=x.maxX,A=x.maxY,M=[{x:j,y:E},{x:T,y:E},{x:T,y:A},{x:j,y:A}];return M.map(function(N,R){return _i(x1,_u({index:R},N,{model:p,graphModel:a}))})},g.prototype.getGroupSolid=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.getResizeOutlineStyle();return _i(af,_u({fill:"none"},v,{x:p,y:a,width:f,height:s}))},g.prototype.render=function(){return _i("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},g}(Lo),Fg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),j1=function(b){Fg(g,b);function g(c,p){var a=b.call(this,c,p)||this,f=a.properties.nodeSize;return f&&(a.width=f.width,a.height=f.height),a}return g.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},g.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(c.stroke="none",c.hover&&(c.hover.stroke="none")),c},g.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},g.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},g.prototype.resize=function(c,p){console.log(c,p)},g.prototype.enableProportionResize=function(c){if(c===void 0&&(c=!0),c){var p={widthPCT:100,hightPCT:100},a={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:a,ScaleLimit:f}}else delete this.PCTResizeInfo},g}(Ve.RectNodeModel),S1=function(b){Fg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return Ve.h(Eu,{model:p,graphModel:a})},g.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},g.prototype.getShape=function(){var c=this.props,p=c.model.isSelected,a=c.graphModel.editConfigModel.isSilentMode;return Ve.h("g",null,this.getResizeShape(),p&&!a?this.getControlGroup():"")},g}(Ve.RectNode),Xg={type:"rect",view:S1,model:j1},Gg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(b){Gg(g,b);function g(c,p){var a=b.call(this,c,p)||this,f=a.properties.nodeSize;return f&&(a.rx=f.rx,a.ry=f.ry),a}return g.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},g.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(c.stroke="none",c.hover&&(c.hover.stroke="none")),c},g.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},g.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},g.prototype.enableProportionResize=function(c){if(c===void 0&&(c=!0),c){var p={widthPCT:100,hightPCT:100},a={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:a,ScaleLimit:f}}else delete this.PCTResizeInfo},g})(Ve.EllipseNodeModel);(function(b){Gg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return Ve.h(Eu,{model:p,graphModel:a})},g.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},g.prototype.getShape=function(){var c=this.props,p=c.model,a=c.graphModel.editConfigModel.isSilentMode;return Ve.h("g",null,this.getResizeShape(),p.isSelected&&!a?this.getControlGroup():"")},g})(Ve.EllipseNode);var Jl=globalThis&&globalThis.__assign||function(){return Jl=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},Jl.apply(this,arguments)};function P1(b){var g=b.fillOpacity,c=g===void 0?1:g,p=b.strokeWidth,a=p===void 0?1:p,f=b.strokeOpacity,s=f===void 0?1:f,v=b.fill,O=v===void 0?"transparent":v,x=b.stroke,j=x===void 0?"#000":x,E=b.points,T=b.className,A=T===void 0?"lf-basic-shape":T,M={fill:O,fillOpacity:c,strokeWidth:a,stroke:j,strokeOpacity:s,points:"",className:A};return M.points=E.map(function(N){return N.join(",")}).join(" "),Ve.h("polygon",Jl({},M))}var Ug=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ql=globalThis&&globalThis.__assign||function(){return Ql=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},Ql.apply(this,arguments)};(function(b){Ug(g,b);function g(c,p){var a=b.call(this,c,p)||this,f=a.properties.nodeSize;return f&&(a.rx=f.rx,a.ry=f.ry),a}return g.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},g.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(c.stroke="none",c.hover&&(c.hover.stroke="none")),c},g.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},g.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},g.prototype.enableProportionResize=function(c){if(c===void 0&&(c=!0),c){var p={widthPCT:100,hightPCT:100},a={basisWidth:this.rx,basisHeight:this.ry},f={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:a,ScaleLimit:f}}else delete this.PCTResizeInfo},g})(Ve.DiamondNodeModel);(function(b){Ug(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return Ve.h(Eu,{model:p,graphModel:a})},g.prototype.getResizeShape=function(){var c=this.props.model,p=c.points,a=c.getNodeStyle();return Ve.h("g",null,Ve.h(P1,Ql({},a,{points:p})))},g.prototype.getShape=function(){var c=this.props,p=c.model.isSelected,a=c.graphModel.editConfigModel.isSilentMode;return Ve.h("g",null,this.getResizeShape(),p&&!a?this.getControlGroup():"")},g})(Ve.DiamondNode);var Yg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(b){Yg(g,b);function g(c,p){var a=b.call(this,c,p)||this,f=a.properties.nodeSize;return f&&(a.width=f.width,a.height=f.height),a}return g.prototype.initNodeData=function(c){b.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},g.prototype.getOutlineStyle=function(){var c=b.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(c.stroke="none",c.hover&&(c.hover.stroke="none")),c},g.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},g.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},g.prototype.enableProportionResize=function(c){if(c===void 0&&(c=!0),c){var p={widthPCT:100,hightPCT:100},a={basisWidth:this.width,basisHeight:this.height},f={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:a,ScaleLimit:f}}else delete this.PCTResizeInfo},g})(Ve.HtmlNodeModel);(function(b){Yg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return Ve.h(Eu,{model:p,graphModel:a})},g.prototype.getResizeShape=function(){return b.prototype.getShape.call(this)},g.prototype.getShape=function(){var c=this.props,p=c.model.isSelected,a=c.graphModel.editConfigModel.isSilentMode;return Ve.h("g",null,this.getResizeShape(),p&&!a?this.getControlGroup():"")},g})(Ve.HtmlNode);var Vg=globalThis&&globalThis.__extends||function(){var b=function(g,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},b(g,c)};return function(g,c){b(g,c);function p(){this.constructor=g}g.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),wu=globalThis&&globalThis.__assign||function(){return wu=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},wu.apply(this,arguments)},k1=globalThis&&globalThis.__read||function(b,g){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),a,f=[],s;try{for(;(g===void 0||g-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},A1=globalThis&&globalThis.__spread||function(){for(var b=[],g=0;g<arguments.length;g++)b=b.concat(k1(arguments[g]));return b},gg=500,vg=300,T1=-1e4;(function(b){Vg(g,b);function g(){var c=b!==null&&b.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=gg,c.unfoldedHight=vg,c.childrenLastFoldStatus={},c}return g.prototype.initNodeData=function(c){var p=this;b.prototype.initNodeData.call(this,c);var a=[];Array.isArray(c.children)&&(a=c.children),this.children=new Set(a),this.width=gg,this.height=vg,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=T1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},g.prototype.getResizeOutlineStyle=function(){var c=b.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},g.prototype.foldGroup=function(c){var p=this;if(c!==this.isFolded){this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var a=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var s=p.graphModel.getElement(f),v=s.isFolded;if(s.isGroup&&!s.isFolded&&s.foldGroup(c),s.isGroup&&!c){var O=p.childrenLastFoldStatus[f];O!==void 0&&O!==s.isFolded&&s.foldGroup(O)}p.childrenLastFoldStatus[f]=v,s.visible=!c,a=a.concat(s.incoming.edges.concat(s.outgoing.edges))}),this.foldEdge(c,a)}},g.prototype.getAnchorStyle=function(c){var p=b.prototype.getAnchorStyle.call(this,c);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},g.prototype.foldEdge=function(c,p){var a=this;p.forEach(function(f,s){var v=f.id,O=f.sourceNodeId,x=f.targetNodeId,j=f.startPoint,E=f.endPoint,T=f.type,A=f.text,M=f.getProperties(),N={id:v+"__"+s,sourceNodeId:O,targetNodeId:x,startPoint:j,endPoint:E,type:T,properties:M,text:A==null?void 0:A.value};f.virtual&&a.graphModel.deleteEdgeById(f.id);var R=a.graphModel.group.getNodeGroup(x);R||(R=a.graphModel.getNodeModelById(x));var I=a.graphModel.group.getNodeGroup(O);I||(I=a.graphModel.getNodeModelById(O)),c&&f.visible!==!1&&(a.children.has(O)||a.id===O?(N.startPoint=void 0,N.sourceNodeId=a.id):(N.endPoint=void 0,N.targetNodeId=a.id),(R.id!==a.id||I.id!==a.id)&&a.createVirtualEdge(N),f.visible=!1),!c&&f.visible===!1&&(R&&R.isGroup&&R.isFolded?(N.targetNodeId=R.id,N.endPoint=void 0,a.createVirtualEdge(N)):I&&I.isGroup&&I.isFolded?(N.sourceNodeId=I.id,N.startPoint=void 0,a.createVirtualEdge(N)):f.visible=!0)})},g.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var p=this.graphModel.addEdge(c);p.virtual=!0,p.text.editable=!1,p.isFoldedEdge=!0},g.prototype.isInRange=function(c){var p=c.x1,a=c.y1,f=c.x2,s=c.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&a>=this.y-this.height/2&&s<=this.y+this.height/2},g.prototype.isAllowMoveTo=function(c){var p=c.x1,a=c.y1,f=c.x2,s=c.y2;return{x:p>=this.x-this.width/2&&f<=this.x+this.width/2,y:a>=this.y-this.height/2&&s<=this.y+this.height/2}},g.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},g.prototype.addChild=function(c){this.children.add(c)},g.prototype.removeChild=function(c){this.children.delete(c)},g.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},g.prototype.getData=function(){var c=this,p=b.prototype.getData.call(this);p.children=[],this.children.forEach(function(f){var s=c.graphModel.getNodeModelById(f);s&&!s.virtual&&p.children.push(f)});var a=p.properties;return delete a.groupAddable,delete a.isFolded,p},g.prototype.getHistoryData=function(){var c=b.prototype.getData.call(this);c.children=A1(this.children),c.isGroup=!0;var p=c.properties;return delete p.groupAddable,p.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},g.prototype.isAllowAppendIn=function(c){return!0},g.prototype.toBack=function(){this.zIndex--},g})(Xg.model);(function(b){Vg(g,b);function g(){return b!==null&&b.apply(this,arguments)||this}return g.prototype.getControlGroup=function(){var c=this.props.model,p=c.resizable,a=c.properties;return p&&!a.isFolded?b.prototype.getControlGroup.call(this):null},g.prototype.getAddableShape=function(){var c=this.props.model,p=c.width,a=c.height,f=c.x,s=c.y,v=c.radius,O=c.properties;if(!O.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,j=this.props.model.getAddableOutlineStyle(),E=p+x+8,T=a+x+8;return Ve.h("rect",wu(wu({},j),{width:E,height:T,x:f-E/2,y:s-T/2,rx:v,ry:v}))},g.prototype.getFoldIcon=function(){var c=this.props.model,p=c.x-c.width/2+5,a=c.y-c.height/2+5;if(!c.foldable)return null;var f=Ve.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(p+3)+","+(a+6)+" "+(p+11)+","+(a+6)+" M"+(p+7)+","+(a+2)+" "+(p+7)+","+(a+10):"M "+(p+3)+","+(a+6)+" "+(p+11)+","+(a+6)+" "});return Ve.h("g",{},[Ve.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),f])},g.prototype.getResizeShape=function(){return Ve.h("g",{},[this.getAddableShape(),b.prototype.getResizeShape.call(this),this.getFoldIcon()])},g})(Xg.view);var D1=globalThis&&globalThis.__read||function(b,g){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),a,f=[],s;try{for(;(g===void 0||g-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var bg=globalThis&&globalThis.__assign||function(){return bg=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},bg.apply(this,arguments)},mg=globalThis&&globalThis.__assign||function(){return mg=Object.assign||function(b){for(var g,c=1,p=arguments.length;c<p;c++){g=arguments[c];for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(b[a]=g[a])}return b},mg.apply(this,arguments)},M1=globalThis&&globalThis.__read||function(b,g){var c=typeof Symbol=="function"&&b[Symbol.iterator];if(!c)return b;var p=c.call(b),a,f=[],s;try{for(;(g===void 0||g-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;class N1 extends Ve.RectNode{}class C1 extends Ve.RectNodeModel{setAttributes(){var c=this.properties.status;super.setStyle("stroke","grey"),c==1&&super.setStyle("stroke","green"),c==2&&super.setStyle("stroke","blue"),c==3&&super.setStyle("stroke","red"),this.width=100,this.radius=5,this.height=50}}class R1 extends Ve.CircleNode{}class I1 extends Ve.CircleNodeModel{setAttributes(){var c=this.properties.status;super.setStyle("stroke","grey"),c==1&&super.setStyle("stroke","green"),c==2&&super.setStyle("stroke","blue"),c==3&&super.setStyle("stroke","red"),this.r=25}}const L1=ef("div",{style:{display:"block"},id:"container"},null,-1),G1=I_({__name:"ViewProcessInstanceImage",setup(b,{expose:g}){Jy.use(f1);const c=Wl(!1),p=Wl();g({view:s=>{c.value=!0,F_(s.processInstanceId).then(v=>{f.value=v.data,p.value=new Jy({container:document.querySelector("#container"),width:screen.width*.8-100,height:screen.height*.6,grid:!0,isSilentMode:!0}),p.value.register({type:"cxygzlRect",view:N1,model:C1}),p.value.register({type:"cxygzlCircle",view:R1,model:I1}),p.value.render(f.value)})}});const f=Wl({nodes:[],edges:[]});return(s,v)=>{const O=X_;return Og(),_g("div",null,[L_(O,{modelValue:B_(c),"onUpdate:modelValue":v[0]||(v[0]=x=>H_(c)?c.value=x:null),title:"查看流程图",width:"80%"},{default:z_(()=>[L1]),_:1},8,["modelValue"])])}}});export{G1 as _,X1 as a};
