import{d as x,aX as ge,u as q,D as k,a as g,c as N,e as C,n as $,f as d,_ as B,au as R,s as he,v as U,r as L,h as ye,a5 as f,w as _,k as y,R as j,a6 as xe,q as M,a3 as be,as as Ne,ae as O,l as A,aY as De,am as W,m as G,aD as ke,E as Se,aC as $e,ag as we,ah as Ee}from"./index-d5547550.js";import{E as Le}from"./el-card-39a9c0d0.js";/* empty css                    *//* empty css                */import{a as qe,E as Ce}from"./el-form-item-2de9c3c8.js";/* empty css                */import{u as Be}from"./flow-165b4256.js";import{d as X,g as Fe}from"./getFormWidget-6a62e076.js";import{_ as Me}from"./Area-4b9e77db.js";import{_ as Ue}from"./Date-32b0142e.js";import{_ as Ie}from"./DateTime-32e9f3d3.js";import{_ as Te}from"./Description-f556bd90.js";import{_ as Ae}from"./Input-be908f41.js";import{_ as He}from"./Layout-804820d8.js";import{_ as Re}from"./Money-6fd9e098.js";import{_ as Ye}from"./MultiSelect-77539ed7.js";import{_ as ze}from"./Number-0c6ab0a1.js";import{_ as Pe}from"./Score-4c567d65.js";import{_ as je}from"./SelectDept-7c006d8b.js";import{_ as Oe}from"./SelectMultiDept-38c1199e.js";import{_ as We}from"./SelectMultiUser-6f732754.js";import{_ as Ge}from"./SelectUser-87c65762.js";import{_ as Xe}from"./SingleSelect-a5392d64.js";import{_ as Je}from"./Textarea-dff0b44b.js";import{_ as Ke}from"./Time-40097dd2.js";import{_ as Qe}from"./UploadFile-1765090a.js";import{_ as Ze}from"./UploadImage-f86de743.js";import{E as Ve}from"./index-222e6800.js";import{_ as et}from"./_plugin-vue_export-helper-c27b6911.js";import"./_baseClone-e7eb389f.js";import"./_Uint8Array-c7447712.js";import"./Area-836e6083.js";import"./area-23a735cb.js";import"./el-scrollbar-cbe0c54f.js";import"./el-radio-92787871.js";import"./strings-fbdcd853.js";import"./isEqual-fe47b28a.js";import"./arrays-e667dc24.js";import"./_baseFlatten-c80c9ba3.js";import"./cloneDeep-cfc40afc.js";import"./el-popper-00977718.js";import"./el-tag-de6752b8.js";import"./index-e8e7f773.js";import"./debounce-e2bc871f.js";import"./Date-3e356dbd.js";import"./el-date-picker-2b967550.js";import"./panel-time-pick-ae955f65.js";import"./index-da53d962.js";import"./flatten-36990bb8.js";import"./DateTime-de06f21f.js";import"./Description-41c11d92.js";import"./Empty-e21e601f.js";import"./Input-45ba5ba8.js";import"./Money-ca211554.js";import"./el-text-a7cd3acd.js";import"./el-input-number-f4eeab94.js";import"./MultiSelect-355b84fc.js";import"./el-select-46753b34.js";import"./Number-040385fc.js";import"./Score-a0ed8d55.js";import"./el-rate-1b1664df.js";import"./SelectDept-15a8e478.js";import"./selectAndShow.vue_vue_type_script_setup_true_lang-9eafc7ba.js";import"./employeesDialog-54936475.js";/* empty css                  */import"./selectBox-26a3a753.js";/* empty css                  */import"./selectBox.vue_vue_type_style_index_0_scoped_82c14c6c_lang-f1c14f73.js";import"./index-a7c7b111.js";import"./const-a11e1fef.js";import"./index-85bc974f.js";import"./selectResult-4abbf083.js";/* empty css                                                                     *//* empty css                                                                        */import"./index-a6355ec2.js";import"./use-dialog-27a1e524.js";import"./refs-5fd04da2.js";import"./orgItem-a67c9471.js";import"./SelectMultiDept-7fbc4ddc.js";import"./SelectMultiUser-a6f17dc4.js";import"./SelectUser-e4906c1f.js";import"./SingleSelect-915a5a36.js";import"./Textarea-466c5ec6.js";import"./Time-1bed9846.js";import"./el-time-picker-f79f3178.js";import"./isArrayLikeObject-724a27ce.js";import"./_overRest-d3d6b67b.js";import"./UploadFile-b7fa1437.js";import"./el-progress-562499f2.js";import"./index-15f47425.js";import"./UploadImage-478fe7ac.js";import"./MultiUpload-acf0a282.js";import"./plus-bafa12a0.js";import"./el-link-b4b52dfc.js";import"./el-switch-a81630c6.js";const tt=x({name:"ElContainer"}),at=x({...tt,props:{direction:{type:String}},setup(e){const r=e,t=ge(),a=q("container"),i=k(()=>r.direction==="vertical"?!0:r.direction==="horizontal"?!1:t&&t.default?t.default().some(n=>{const u=n.type.name;return u==="ElHeader"||u==="ElFooter"}):!1);return(o,n)=>(g(),N("section",{class:$([d(a).b(),d(a).is("vertical",d(i))])},[C(o.$slots,"default")],2))}});var rt=B(at,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const ot=x({name:"ElAside"}),lt=x({...ot,props:{width:{type:String,default:null}},setup(e){const r=e,t=q("aside"),a=k(()=>r.width?t.cssVarBlock({width:r.width}):{});return(i,o)=>(g(),N("aside",{class:$(d(t).b()),style:R(d(a))},[C(i.$slots,"default")],6))}});var V=B(lt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const it=x({name:"ElFooter"}),nt=x({...it,props:{height:{type:String,default:null}},setup(e){const r=e,t=q("footer"),a=k(()=>r.height?t.cssVarBlock({height:r.height}):{});return(i,o)=>(g(),N("footer",{class:$(d(t).b()),style:R(d(a))},[C(i.$slots,"default")],6))}});var ee=B(nt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const st=x({name:"ElHeader"}),mt=x({...st,props:{height:{type:String,default:null}},setup(e){const r=e,t=q("header"),a=k(()=>r.height?t.cssVarBlock({height:r.height}):{});return(i,o)=>(g(),N("header",{class:$(d(t).b()),style:R(d(a))},[C(i.$slots,"default")],6))}});var te=B(mt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const pt=x({name:"ElMain"}),ut=x({...pt,setup(e){const r=q("main");return(t,a)=>(g(),N("main",{class:$(d(r).b())},[C(t.$slots,"default")],2))}});var ae=B(ut,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const dt=he(rt,{Aside:V,Footer:ee,Header:te,Main:ae}),ft=U(V);U(ee);U(te);const ct=U(ae);function J(e,r){let t=e.props.minLength,a=e.props.maxLength,i=e.props.value,o=e.props.regex,n=e.props.regexDesc;if(t&&a&&a<t)return{valid:!1,msg:e.name+":长度设置错误"};if(r.$isNotBlank(o)&&!r.$isNotBlank(n))return{valid:!1,msg:e.name+":请填写正则表达式提示语"};if(r.$isNotBlank(i)){if(t&&i.length<t)return{valid:!1,msg:e.name+":默认值长度不能小于"+t};if(a&&i.length>a)return{valid:!1,msg:e.name+":默认值长度不能大于"+a};if(r.$isNotBlank(o)){var u=new RegExp(o,"g");if(!u.test(i))return{valid:!1,msg:e.name+":默认值不符合正则表达式"}}}return{valid:!0}}function _t(e,r){let t=e.placeholder;return r.$isBlank(t)?{valid:!1,msg:e.name+":请设置提示"}:{valid:!0}}function vt(e,r){let t=e.props.min,a=e.props.max,i=e.props.value,o="HH:mm:ss";if(t&&a){let n=r.$moment(t,o);if(r.$moment(a,o).isBefore(n))return{valid:!1,msg:e.name+":值范围设置错误"}}if(i){let n=r.$moment(i,o);if(t){let u=r.$moment(t,o);if(n.isBefore(u))return{valid:!1,msg:e.name+":默认值不能小于"+t}}if(a&&r.$moment(a,o).isBefore(n))return{valid:!1,msg:e.name+":默认值不能大于"+a}}return{valid:!0}}function gt(e,r){let t=e.props.min,a=e.props.max,i=e.props.value,o="YYYY-MM-DD";if(t&&a){let n=r.$moment(t,o);if(r.$moment(a,o).isBefore(n))return{valid:!1,msg:e.name+":值范围设置错误"}}if(i){let n=r.$moment(i,o);if(t){let u=r.$moment(t,o);if(n.isBefore(u))return{valid:!1,msg:e.name+":默认值不能小于"+t}}if(a&&r.$moment(a,o).isBefore(n))return{valid:!1,msg:e.name+":默认值不能大于"+a}}return{valid:!0}}function ht(e,r){let t=e.props.min,a=e.props.max,i=e.props.value,o="YYYY-MM-DD HH:mm:ss";if(t&&a){let n=r.$moment(t,o);if(r.$moment(a,o).isBefore(n))return{valid:!1,msg:e.name+":值范围设置错误"}}if(i){let n=r.$moment(i,o);if(t){let u=r.$moment(t,o);if(n.isBefore(u))return{valid:!1,msg:e.name+":默认值不能小于"+t}}if(a&&r.$moment(a,o).isBefore(n))return{valid:!1,msg:e.name+":默认值不能大于"+a}}return{valid:!0}}function K(e,r){let t=e.props.min,a=e.props.max,i=e.props.value,o=e.props.radixNum;if(t&&a&&a<t)return{valid:!1,msg:e.name+":值范围设置错误"};if(o){if(t&&r.$getNumberRadixNum(t)>o)return{valid:!1,msg:e.name+":最小值小数点位数不能超过"+o};if(a&&r.$getNumberRadixNum(a)>o)return{valid:!1,msg:e.name+":最大值小数点位数不能超过"+o}}if(i){if(o&&r.$getNumberRadixNum(i)>o)return{valid:!1,msg:e.name+":默认值小数点位数不能超过"+o};if(t&&i<t)return{valid:!1,msg:e.name+":默认值不能小于"+t};if(a&&i>a)return{valid:!1,msg:e.name+":默认值不能大于"+a}}return{valid:!0}}function yt(e,r){let t=e.props.min,a=e.props.max;if(t&&a&&a<t)return{valid:!1,msg:e.name+":数量范围设置错误"};let i=e.props.value;if(i.length==0)return{valid:!1,msg:e.name+":内部表单不能为空"};for(var o of i){let n=re[o.type];if(n){let u=n(o,r);if(!u.valid)return{valid:!1,msg:e.name+":"+u.msg}}}return{valid:!0}}function Q(e,r){var t=e.props.options;if(t||(t=[]),t.length<1)return{valid:!1,msg:e.name+":请设置选项"};{var a=t.map(o=>o.key);let i=Array.from(new Set(a));if(a.length>i.length)return{valid:!1,msg:e.name+":选项值不能重复"}}if(t.filter(o=>r.$isBlank(o.key)||r.$isBlank(o.value)).length>0)return{valid:!1,msg:e.name+":选项不能为空"};{var a=t.map(n=>n.value);let o=Array.from(new Set(a));if(a.length>o.length)return{valid:!1,msg:e.name+":选项标签不能重复"}}return{valid:!0}}function Z(e,r){let t=e.props.min,a=e.props.max;return t&&a&&a<t?{valid:!1,msg:e.name+":数量设置错误"}:{valid:!0}}let re={Input:J,Textarea:J,Number:K,Money:K,Description:_t,Date:gt,DateTime:ht,Time:vt,SingleSelect:Q,MultiSelect:Q,UploadFile:Z,Layout:yt,UploadImage:Z};const oe={},H=Object.assign({"../form/config/Area.vue":Me,"../form/config/Date.vue":Ue,"../form/config/DateTime.vue":Ie,"../form/config/Description.vue":Te,"../form/config/Input.vue":Ae,"../form/config/Layout.vue":He,"../form/config/Money.vue":Re,"../form/config/MultiSelect.vue":Ye,"../form/config/Number.vue":ze,"../form/config/Score.vue":Pe,"../form/config/SelectDept.vue":je,"../form/config/SelectMultiDept.vue":Oe,"../form/config/SelectMultiUser.vue":We,"../form/config/SelectUser.vue":Ge,"../form/config/SingleSelect.vue":Xe,"../form/config/Textarea.vue":Je,"../form/config/Time.vue":Ke,"../form/config/UploadFile.vue":Qe,"../form/config/UploadImage.vue":Ze});for(let e in H){const r=H[e].default.__name;oe[r]=H[e].default}const xt=[{name:"文本",formList:[{name:"单行文本",type:"Input",typeName:"单行文本",icon:"EditPen",placeholder:"请填写",required:!1,props:{value:"",regex:"",regexDesc:"",minLength:void 0,maxLength:void 0}},{name:"多行文本",icon:"More",type:"Textarea",typeName:"多行文本",placeholder:"请填写",required:!1,props:{value:""}},{name:"说明",icon:"ChatLineSquare",type:"Description",typeName:"说明",placeholder:"请填写",required:!1,props:{value:""}}]},{name:"数值",formList:[{name:"数字",type:"Number",icon:"Edit",typeName:"数字",placeholder:"请填写",required:!1,props:{radixNum:0}},{name:"金额",type:"Money",icon:"Money",typeName:"金额",placeholder:"请填写",required:!1,props:{radixNum:0}}]},{name:"日期-时间",formList:[{name:"日期",type:"Date",icon:"Calendar",typeName:"日期",placeholder:"请选择",required:!1,props:{radixNum:0}},{name:"日期时间",type:"DateTime",icon:"AlarmClock",typeName:"日期时间",placeholder:"请选择",required:!1,props:{radixNum:0}},{name:"时间",type:"Time",icon:"Timer",typeName:"时间",placeholder:"请选择",required:!1,props:{radixNum:0}}]},{name:"选项",formList:[{name:"单选",icon:"Select",type:"SingleSelect",typeName:"单选",placeholder:"请选择",required:!1,props:{options:[{key:"",value:""}]}},{name:"多选",type:"MultiSelect",typeName:"多选",icon:"Finished",placeholder:"请选择",required:!1,props:{value:[],options:[{key:"",value:""}]}}]},{name:"其他",formList:[{name:"图片",type:"UploadImage",typeName:"图片",icon:"Picture",placeholder:"请选择",required:!1,props:{value:[],min:1,max:10,maxSize:10}},{name:"文件",type:"UploadFile",typeName:"文件",icon:"Upload",placeholder:"请选择",required:!1,props:{value:[],min:1,max:10,maxSize:10,suffixArray:[]}},{name:"单用户",type:"SelectUser",typeName:"单用户",placeholder:"请选择",icon:"User",required:!1,props:{multi:!1,self:!1,value:[]}},{name:"多用户",type:"SelectMultiUser",typeName:"多用户",placeholder:"请选择",icon:"User",required:!1,props:{multi:!0,self:!1,value:[]}},{name:"单部门",icon:"OfficeBuilding",type:"SelectDept",typeName:"单部门",placeholder:"请选择",required:!1,props:{multi:!1,self:!1,value:[]}},{name:"多部门",icon:"OfficeBuilding",type:"SelectMultiDept",typeName:"多部门",placeholder:"请选择",required:!1,props:{multi:!0,self:!1,value:[]}},{name:"地区",type:"Area",typeName:"地区",icon:"Position",placeholder:"请选择",required:!1,props:{value:{}}},{name:"评分",type:"Score",typeName:"评分",icon:"StarFilled",placeholder:"请评分",required:!1,props:{value:0,min:1,max:10,halfSelect:!1,radixNum:1}},{name:"明细",type:"Layout",typeName:"明细",icon:"ShoppingBag",placeholder:"请选择",required:!1,props:{value:[],min:1,max:10}}]}],bt=e=>(we("data-v-5aa4b6cc"),e=e(),Ee(),e),Nt={effect:"dark",style:{"background-color":"white","margin-top":"0px","padding-top":"20px"}},Dt=bt(()=>y("h4",{style:{"text-align":"center"}},"组件库",-1)),kt={style:{"padding-left":"60px"}},St={class:"zj"},$t={style:{display:"flex","flex-direction":"row"}},wt={class:"f11"},Et={class:"drag-content"},Lt={style:{"text-align":"center","font-size":"15px","font-weight":"bold","margin-bottom":"20px"}},qt={class:"drag-content-inner"},Ct=["onClick"],Bt={key:0,class:"f22"},Ft={class:"card-header"},Mt=x({__name:"step2",setup(e,{expose:r}){const t=L(!1),a=L();var i=k(()=>b.step2),o=k(()=>{var l={};return i.value.forEach(s=>l[s.id]=s),l});const n=k(()=>{let l=b.step1.name;return w.$isBlank(l)?"未命名表单":l});var u=l=>{if(console.log(l,p.value),!p.value)return!1;if(p.value.id===l)return!0;let v=b.step2.filter(c=>c.type==="Layout"&&c.id===l);for(var h of v){var E=h.props.value.filter(S=>S.id===p.value.id);if(E.length>0)return!0}return!1};const le=l=>(l.id=w.$getRandomId(),l),ie=l=>{var v;let s=b.step2.filter(h=>h.id===l)[0];s.type==="Layout"&&p.value&&s.props.value.filter(c=>c.id===p.value.id).length>0&&(p.value=void 0),b.setStep2(b.step2.filter(h=>h.id!==l)),p.value&&((v=p.value)==null?void 0:v.id)===l&&(p.value=void 0)},p=L(),ne=L(!1),se=l=>{p.value=b.step2.filter(s=>s.id===l)[0],ne.value=!0},me=l=>{p.value=l};let b=Be();const pe=l=>Fe[l],ue=l=>oe[l],{proxy:w}=ye(),de=l=>{t.value=!1,I.value=w.$deepCopy(I.value)};let I=L(xt),F=k({get:()=>{let l=b.step2;return(l==null?void 0:l.length)==0?[{type:"Empty",name:""}]:l},set:l=>{let s=l.filter(v=>v.type!="Empty");b.setStep2(w.$deepCopy(s))}});return r({validate:l=>{var s=[];let v=i.value;v.length==0&&s.push("表单不能为空");for(var h of v){let c=re[h.type];if(c){let S=c(h,w);S.valid||s.push(S.msg)}}Array.from(new Set(v.map(c=>c.name))).length<v.length&&s.push("表单名称不能重复"),l(s.length==0,s)}}),(l,s)=>{const v=ke,h=ft,E=Se,c=qe,S=Ce,Y=$e,fe=Ve,ce=Le,_e=ct,ve=dt;return g(),N("div",null,[f(ve,null,{default:_(()=>[f(h,{width:"400px"},{default:_(()=>[y("div",Nt,[Dt,(g(!0),N(j,null,xe(d(I),(m,z)=>(g(),N(j,null,[y("h5",kt,M(m.name),1),f(d(X),{modelValue:m.formList,"onUpdate:modelValue":D=>m.formList=D,"ghost-class":"ghost","force-fallback":!0,"item-key":"index",sort:!1,onEnd:de,onStart:s[0]||(s[0]=D=>t.value=!0),class:"leftItem",animation:300,group:{name:"dragFormList",pull:"clone",put:!1},clone:le},{item:_(({element:D})=>[y("div",St,[f(v,{size:"large",style:{width:"100%"},icon:l.$icon[D.icon]},{default:_(()=>[be(M(D.name),1)]),_:2},1032,["icon"])])]),_:2},1032,["modelValue","onUpdate:modelValue"])],64))),256))])]),_:1}),f(_e,null,{default:_(()=>[y("div",$t,[y("div",wt,[y("div",Et,[y("div",Lt,M(n.value),1),y("div",qt,[f(S,{"label-position":"top"},{default:_(()=>[f(d(X),{modelValue:d(F),"onUpdate:modelValue":s[1]||(s[1]=m=>Ne(F)?F.value=m:F=m),style:{"min-height":"600px","background-color":"var(--el-bg-color-page)"},"item-key":"index",sort:!0,effect:"dark",group:{name:"dragFormList",pull:!0,put:!0}},{item:_(({element:m,index:z})=>{var D,P;return[y("div",{class:$(["okcomponent border line",{"active-component":d(u)(m.id)}]),effect:"dark",onClick:O(T=>se(m.id),["stop"])},[m.type!="Empty"?(g(),A(E,{key:0,class:"deleteIcon",onClick:O(T=>ie(m.id),["stop"])},{default:_(()=>[f(d(De))]),_:2},1032,["onClick"])):W("",!0),f(c,{label:(D=d(o)[m.id])==null?void 0:D.name,required:(P=d(o)[m.id])==null?void 0:P.required},{default:_(()=>[(g(),A(G(pe(m.type)),{style:{width:"100%"},onShowPanel:me,index:z,id:m.id,form:d(o)[m.id],"onUpdate:form":T=>d(o)[m.id]=T},null,40,["index","id","form","onUpdate:form"]))]),_:2},1032,["label","required"])],10,Ct)]}),_:1},8,["modelValue"])]),_:1})])])]),p.value?(g(),N("div",Bt,[f(ce,{class:"box-card"},{header:_(()=>{var m;return[y("div",Ft,M((m=p.value)==null?void 0:m.typeName),1)]}),default:_(()=>[f(S,{"label-width":"120px","label-position":"top"},{default:_(()=>[f(c,{required:"",label:"标题"},{default:_(()=>[f(Y,{modelValue:p.value.name,"onUpdate:modelValue":s[2]||(s[2]=m=>p.value.name=m),maxlength:"10"},null,8,["modelValue"])]),_:1}),f(c,{label:"提示",required:p.value.type==="Description"},{default:_(()=>[f(Y,{modelValue:p.value.placeholder,"onUpdate:modelValue":s[3]||(s[3]=m=>p.value.placeholder=m),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["required"]),(g(),A(G(ue(p.value.type)),{id:p.value.id,ref_key:"currentFormConfigRef",ref:a},null,8,["id"])),f(c,{label:"其他"},{default:_(()=>[f(fe,{modelValue:p.value.required,"onUpdate:modelValue":s[4]||(s[4]=m=>p.value.required=m),label:"必填"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])):W("",!0)])]),_:1})]),_:1})])}}});const Dr=et(Mt,[["__scopeId","data-v-5aa4b6cc"]]);export{Dr as default};
