import{D as V,h as U,a as p,c as g,a5 as l,w as n,f as d,l as _,a3 as m,R as y,a6 as k,q as C,k as c,am as b,aD as M}from"./index-d5547550.js";import{E as O}from"./el-card-39a9c0d0.js";import{E as j}from"./el-tag-de6752b8.js";/* empty css                */import{a as q,E as z}from"./el-form-item-2de9c3c8.js";import{E as A}from"./el-switch-a81630c6.js";import"./index-a7c7b111.js";import{u as H}from"./index-71f0fd6b.js";import J from"./condition-7334fe6b.js";import{u as K}from"./flow-165b4256.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import"./_baseClone-e7eb389f.js";import"./_Uint8Array-c7447712.js";import"./const-a11e1fef.js";import"./area-23a735cb.js";import"./el-scrollbar-cbe0c54f.js";import"./index-222e6800.js";import"./isEqual-fe47b28a.js";import"./flatten-36990bb8.js";import"./_baseFlatten-c80c9ba3.js";import"./_overRest-d3d6b67b.js";import"./el-radio-92787871.js";import"./strings-fbdcd853.js";import"./arrays-e667dc24.js";import"./cloneDeep-cfc40afc.js";import"./el-popper-00977718.js";import"./index-e8e7f773.js";import"./debounce-e2bc871f.js";/* empty css                    */import"./el-time-picker-f79f3178.js";import"./panel-time-pick-ae955f65.js";import"./index-da53d962.js";import"./isArrayLikeObject-724a27ce.js";import"./el-date-picker-2b967550.js";import"./el-input-number-f4eeab94.js";import"./el-select-46753b34.js";import"./index-6e9421a4.js";import"./selectAndShow.vue_vue_type_script_setup_true_lang-9eafc7ba.js";import"./employeesDialog-54936475.js";/* empty css                  */import"./selectBox-26a3a753.js";/* empty css                  *//* empty css                */import"./selectBox.vue_vue_type_style_index_0_scoped_82c14c6c_lang-f1c14f73.js";import"./index-85bc974f.js";import"./selectResult-4abbf083.js";/* empty css                                                                     *//* empty css                                                                        */import"./index-a6355ec2.js";import"./use-dialog-27a1e524.js";import"./refs-5fd04da2.js";import"./orgItem-a67c9471.js";const Q={class:"demo-tagInput"},W={class:"tag-wrap"},X={class:"tag-wrap"},Y={class:"card-header"},Z={style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},tt={__name:"conditionGroup",props:{data:{type:Object,default:()=>{}}},emits:["update:data"],setup(h,{emit:$}){const E=h,v=(t,e,a)=>{i.value.groupRelation.push({type:e,exp:a,name:t})},R=t=>{i.value.groupRelation.splice(t,1)},D=()=>{i.value.groupRelation.splice(0,i.value.groupRelation.length)};let i=V({get(){return E.data},set(t){$("update:data",t)}});H();const B=t=>{var e;(e=i.value)==null||e.conditionList.splice(t,1)},G=(t,e)=>{var a;(a=i.value)==null||a.conditionList[t].conditionList.splice(e,1)},S=()=>{var t;console.log(i.value),(t=i.value)==null||t.conditionList.push({mode:!0,conditionList:[{}]})},T=(t,e)=>{let a=t.conditionList;a||(a=[]),a.push({}),t.conditionList=a};let F=K();return V(()=>F.step2),U(),(t,e)=>{const a=A,x=q,w=z,s=M,I=j,L=O;return p(),g("div",null,[l(w,{"label-width":"120px"},{default:n(()=>[l(x,{label:"条件组关系"},{default:n(()=>[l(a,{modelValue:d(i).groupRelationMode,"onUpdate:modelValue":e[0]||(e[0]=r=>d(i).groupRelationMode=r),"active-text":"固定关系","inactive-text":"自定义关系"},null,8,["modelValue"])]),_:1})]),_:1}),d(i).groupRelationMode?(p(),_(w,{key:0,"label-width":"120px"},{default:n(()=>[l(x,{label:"固定关系"},{default:n(()=>[l(a,{modelValue:d(i).mode,"onUpdate:modelValue":e[1]||(e[1]=r=>d(i).mode=r),"active-text":"且","inactive-text":"或"},null,8,["modelValue"])]),_:1})]),_:1})):(p(),_(w,{key:1,"label-width":"120px"},{default:n(()=>[l(x,{label:"自定义关系"},{default:n(()=>{var r,u;return[l(s,{icon:t.$icon.Delete,onClick:D,type:"danger",text:""},{default:n(()=>[m("清空选项")]),_:1},8,["icon"]),l(L,{style:{"min-height":"200px",width:"100%"}},{default:n(()=>[(p(!0),g(y,null,k(d(i).groupRelation,(o,f)=>(p(),_(I,{style:{"margin-bottom":"10px"},key:o.name,class:"mx-1",size:"large",closable:"",onClose:N=>R(f),type:o.type},{default:n(()=>[m(C(o.name),1)]),_:2},1032,["onClose","type"]))),128))]),_:1}),c("div",Q,[c("div",W,[l(s,{type:"success",onClick:e[2]||(e[2]=o=>v("或","success","||"))},{default:n(()=>[m(" 或 ")]),_:1}),l(s,{type:"success",onClick:e[3]||(e[3]=o=>v("且","success","&&"))},{default:n(()=>[m(" 且 ")]),_:1}),l(s,{type:"danger",onClick:e[4]||(e[4]=o=>v("(","danger","("))},{default:n(()=>[m(" ( ")]),_:1}),l(s,{type:"danger",onClick:e[5]||(e[5]=o=>v(")","danger",")"))},{default:n(()=>[m(" ) ")]),_:1})]),c("div",X,[(p(!0),g(y,null,k((u=(r=d(i))==null?void 0:r.conditionList)==null?void 0:u.length,o=>(p(),_(s,{type:"primary",style:{"margin-top":"10px"},key:o,onClick:f=>v("条件组"+o,"primary","c"+o)},{default:n(()=>[m(C("条件组"+o),1)]),_:2},1032,["onClick"]))),128))])])]}),_:1})]),_:1})),(p(!0),g(y,null,k(d(i).conditionList,(r,u)=>(p(),_(L,{class:"box-card",key:u,style:{"margin-bottom":"20px"}},{header:n(()=>[c("div",Y,[c("span",null,"条件组"+C(u+1),1),l(a,{modelValue:r.mode,"onUpdate:modelValue":o=>r.mode=o,"active-text":"且","inactive-text":"或"},null,8,["modelValue","onUpdate:modelValue"]),d(i).conditionList.length>1?(p(),_(s,{key:0,text:"",onClick:o=>B(u),icon:t.$icon.Delete},null,8,["onClick","icon"])):b("",!0)])]),default:n(()=>[(p(!0),g(y,null,k(r.conditionList,(o,f)=>(p(),g("div",{key:f},[c("div",Z,[c("div",null,C(f==0?"当":r.mode?"且":"或"),1),c("div",null,[r.conditionList.length>1?(p(),_(s,{key:0,text:"",onClick:N=>G(u,f),icon:t.$icon.Delete},null,8,["onClick","icon"])):b("",!0)])]),l(J,{condition:o},null,8,["condition"])]))),128)),l(s,{dark:"",type:"success",style:{"margin-top":"20px"},onClick:o=>T(r,u)},{default:n(()=>[m("添加条件")]),_:2},1032,["onClick"])]),_:2},1024))),128)),l(s,{dark:"",type:"primary",onClick:S},{default:n(()=>[m("添加条件组")]),_:1})])}}},Zt=P(tt,[["__scopeId","data-v-55fa4428"]]);export{Zt as default};
