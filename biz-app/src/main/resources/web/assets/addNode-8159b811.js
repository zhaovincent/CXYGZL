import{h as m,r as _,a as N,c as f,k as e,a5 as h,w as u,f as v,as as I,ag as y,ah as g}from"./index-d5547550.js";import"./el-popper-00977718.js";import{E as k}from"./el-popover-07a17928.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import"./dropdown-b09318e3.js";const d=l=>(y("data-v-2b84a6aa"),l=l(),g(),l),R={class:"add-node-btn-box"},P={class:"add-node-btn"},$={class:"add-node-popover-body"},b=d(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"")],-1)),w=d(()=>e("p",null,"审批人",-1)),x=[b,w],U=d(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"")],-1)),C=d(()=>e("p",null,"抄送人",-1)),M=[U,C],S=d(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"")],-1)),T=d(()=>e("p",null,"条件分支",-1)),V=[S,T],O=d(()=>e("div",{class:"item-wrapper"},[e("i",{class:"icon icon-icon_share_fill iconfont"})],-1)),E=d(()=>e("p",null,"并行分支",-1)),F=[O,E],B=d(()=>e("div",{class:"item-wrapper"},[e("i",{class:"icon icon-icon_exponent iconfont"})],-1)),j=d(()=>e("p",null,"包容分支",-1)),H=[B,j],A=d(()=>e("div",{class:"item-wrapper"},[e("i",{class:"icon icon-icon_robot_fill iconfont"})],-1)),G=d(()=>e("p",null,"触发器",-1)),J=[A,G],q=d(()=>e("div",{class:"item-wrapper"},[e("i",{class:"icon icon-icon_check iconfont"})],-1)),D=d(()=>e("p",null,"延时器",-1)),z=[q,D],K=d(()=>e("div",{class:"item-wrapper"},[e("i",{class:"icon icon-icon_transpond iconfont"})],-1)),Q=d(()=>e("p",null,"动态路由",-1)),W=[K,Q],X=d(()=>e("div",{class:"item-wrapper"},[e("i",{class:"icon icon-icon_pc_sharelink1 iconfont"})],-1)),Y=d(()=>e("p",null,"子流程",-1)),Z=[X,Y],ee=d(()=>e("button",{class:"btn",type:"button"},[e("span",{class:"iconfont"},"")],-1)),oe={__name:"addNode",props:{childNodeP:{type:Object,default:()=>({})},currentNode:{type:Object,default:()=>({})}},emits:["update:childNodeP"],setup(l,{emit:p}){const t=l,{proxy:i}=m();let c=_(!1);const a=n=>{if(c.value=!1,n!=4&&n!=5&&n!=8){var o;n==1?o={id:i.$getRandomId(),nodeName:"审批人",error:!0,type:1,parentId:t.currentNode.id,assignedType:1,multiple:!1,multipleMode:1,completeRate:100,deptLeaderLevel:1,formUserId:"",formUserName:"",formPerms:{},nobody:{handler:"TO_PASS",assignedUser:[]},sameAsStarter:{handler:"TO_CONTINUE"},refuse:{handler:"TO_END",nodeId:""},operList:[{key:"pass",checked:!0,edit:!1,name:"通过",type:"primary",defaultName:"通过"},{key:"refuse",checked:!0,edit:!1,name:"拒绝",type:"danger",defaultName:"拒绝"},{key:"reject",checked:!1,edit:!1,name:"驳回",type:"danger",icon:"Back",defaultName:"驳回"},{key:"frontJoin",checked:!1,edit:!1,name:"委派",type:"success",icon:"CirclePlus",defaultName:"委派"},{key:"backJoin",checked:!1,edit:!1,name:"转办",type:"warning",icon:"Position",defaultName:"转办"}],childNode:t.childNodeP,nodeUserList:[]}:n==6?o={id:i.$getRandomId(),nodeName:"触发器",error:!0,type:6,parentId:t.currentNode.id,childNode:t.childNodeP,httpSetting:{url:"",header:[{field:"",valueMode:!0,value:""}],body:[{field:"",valueMode:!0,value:""}],result:[{field:"",valueMode:!0,value:""}]}}:n==7?o={id:i.$getRandomId(),nodeName:"延时器",error:!0,type:7,parentId:t.currentNode.id,childNode:t.childNodeP,mode:!0,delayUnit:"TS",value:""}:n==10?o={id:i.$getRandomId(),nodeName:"动态路由",error:!0,type:n,parentId:t.currentNode.id,childNode:t.childNodeP,list:[{groupRelationMode:!0,mode:!0,error:!0,nodeId:"",placeHolder:"",groupRelation:[],conditionList:[]}]}:n==9?o={id:i.$getRandomId(),nodeName:"子流程",error:!0,type:9,parentId:t.currentNode.id,childNode:t.childNodeP,starterMode:1,starterValue:"",multiple:!1,completeRate:100,sequential:!1,multipleMode:1,multipleModeValue:"",multipleSubFormId:"",subFlowId:"",subFlowName:"",pcFormList:[],cpFormList:[]}:n==2&&(o={id:i.$getRandomId(),parentId:t.currentNode.id,nodeName:"抄送人",type:2,error:!0,childNode:t.childNodeP,nodeUserList:[],formPerms:{}}),p("update:childNodeP",o)}else if(n==4){let s=i.$getRandomId();p("update:childNodeP",{nodeName:"条件分支",type:4,id:s,parentId:t.currentNode.id,childNode:t.childNodeP,conditionNodes:[{id:i.$getRandomId(),nodeName:"条件1",mode:!0,groupRelationMode:!0,groupRelation:[],error:!0,type:3,parentId:s,priorityLevel:1,conditionList:[{mode:!0,conditionList:[{key:"",value:"",expression:""}]}],nodeUserList:[],childNode:null},{nodeName:"条件2",type:3,groupRelationMode:!0,groupRelation:[],id:i.$getRandomId(),mode:!0,error:!1,parentId:s,priorityLevel:2,conditionList:[{mode:!0,conditionList:[{key:"",expression:""}]}],nodeUserList:[],childNode:null}]})}else if(n==8){let s=i.$getRandomId();p("update:childNodeP",{nodeName:"包容分支",type:8,id:s,parentId:t.currentNode.id,childNode:t.childNodeP,conditionNodes:[{id:i.$getRandomId(),nodeName:"条件1",mode:!0,groupRelationMode:!0,groupRelation:[],error:!0,type:3,parentId:s,priorityLevel:1,conditionList:[{mode:!0,conditionList:[{key:"",expression:""}]}],nodeUserList:[],childNode:null},{nodeName:"条件2",type:3,groupRelationMode:!0,groupRelation:[],id:i.$getRandomId(),mode:!0,error:!1,parentId:s,priorityLevel:2,conditionList:[{mode:!0,conditionList:[{key:"",expression:""}]}],nodeUserList:[],childNode:null}]})}else if(n==5){let s=i.$getRandomId();p("update:childNodeP",{nodeName:"并行分支",type:5,id:s,parentId:t.currentNode.id,childNode:t.childNodeP,conditionNodes:[{id:i.$getRandomId(),nodeName:"分支1",placeHolder:"满足条件",parentId:s,error:!1,type:3,priorityLevel:1,conditionList:[],nodeUserList:[],childNode:null},{nodeName:"分支2",type:3,id:i.$getRandomId(),parentId:s,error:!1,placeHolder:"满足条件",priorityLevel:2,conditionList:[],nodeUserList:[],childNode:null}]})}};return(n,o)=>{const s=k;return N(),f("div",R,[e("div",P,[h(s,{placement:"right-start",modelValue:v(c),"onUpdate:modelValue":o[9]||(o[9]=r=>I(c)?c.value=r:c=r),width:"350px"},{reference:u(()=>[ee]),default:u(()=>[e("div",$,[e("a",{class:"add-node-popover-item approver",onClick:o[0]||(o[0]=r=>a(1))},x),e("a",{class:"add-node-popover-item notifier",onClick:o[1]||(o[1]=r=>a(2))},M),e("a",{class:"add-node-popover-item condition",onClick:o[2]||(o[2]=r=>a(4))},V),e("a",{class:"add-node-popover-item ParallelGateway",onClick:o[3]||(o[3]=r=>a(5))},F),e("a",{class:"add-node-popover-item InclusiveGateway",onClick:o[4]||(o[4]=r=>a(8))},H),e("a",{class:"add-node-popover-item trigger",onClick:o[5]||(o[5]=r=>a(6))},J),e("a",{class:"add-node-popover-item delay",onClick:o[6]||(o[6]=r=>a(7))},z),e("a",{class:"add-node-popover-item route",onClick:o[7]||(o[7]=r=>a(10))},W),e("a",{class:"add-node-popover-item subProcess",onClick:o[8]||(o[8]=r=>a(9))},Z)])]),_:1},8,["modelValue"])])])}}},re=L(oe,[["__scopeId","data-v-2b84a6aa"]]);export{re as default};
