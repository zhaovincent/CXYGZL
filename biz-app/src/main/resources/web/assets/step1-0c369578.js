import{d as y,h as E,K as k,ab as w,r as S,o as q,L as U,D as F,a as n,c as d,k as C,a5 as t,w as m,f as a,ae as B,R as h,a6 as N,l as M,aC as R}from"./index-d5547550.js";import{E as $}from"./el-card-39a9c0d0.js";/* empty css                */import"./el-tag-de6752b8.js";import{E as D,a as G}from"./el-select-46753b34.js";import"./el-scrollbar-cbe0c54f.js";import"./el-popper-00977718.js";import{a as K,E as O}from"./el-form-item-2de9c3c8.js";import{q as j}from"./index-6d308f65.js";import{S as z}from"./SingleUpload-ae616f10.js";import{_ as g}from"./selectAndShow.vue_vue_type_script_setup_true_lang-9eafc7ba.js";import{u as A}from"./flow-165b4256.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import"./strings-fbdcd853.js";import"./isEqual-fe47b28a.js";import"./_Uint8Array-c7447712.js";import"./debounce-e2bc871f.js";import"./index-e8e7f773.js";import"./_baseClone-e7eb389f.js";import"./el-progress-562499f2.js";import"./cloneDeep-cfc40afc.js";/* empty css                */import"./plus-bafa12a0.js";import"./index-15f47425.js";import"./employeesDialog-54936475.js";/* empty css                  */import"./selectBox-26a3a753.js";/* empty css                  *//* empty css                    */import"./selectBox.vue_vue_type_style_index_0_scoped_82c14c6c_lang-f1c14f73.js";import"./index-a7c7b111.js";import"./const-a11e1fef.js";import"./index-222e6800.js";import"./flatten-36990bb8.js";import"./_baseFlatten-c80c9ba3.js";import"./_overRest-d3d6b67b.js";import"./index-85bc974f.js";import"./selectResult-4abbf083.js";/* empty css                                                                     *//* empty css                                                                        */import"./index-a6355ec2.js";import"./use-dialog-27a1e524.js";import"./refs-5fd04da2.js";import"./orgItem-a67c9471.js";const J={class:"container-div"},P=y({__name:"step1",props:{groupId:{type:String,default:void 0}},setup(f,{expose:_}){const c=f,{proxy:b}=E();_({validate:p=>{b.$refs.ruleForm.validate((e,l)=>{var i=[];if(!e)for(var s in l)i.push(l[s][0].message);p(e,i)})}});const v=k({name:[{required:!0,message:"请填写名称",trigger:"blur"},{min:2,max:10,message:"2-10个字符",trigger:"blur"}],remark:[{required:!1,message:"请填写描述",trigger:"blur"},{min:2,max:20,message:"2-20个字符",trigger:"blur"}],groupId:[{required:!0,message:"请选择分组",trigger:"change"}],logo:[{required:!0,message:"请上传图标",trigger:"change"}],admin:[{required:!0,message:"请选择管理员",trigger:"change"}]});w();const u=S([]);q(()=>{j().then(({data:p})=>{u.value=p})}),U(()=>c.groupId,p=>{p&&(r.value.groupId=p)});let x=A();var r=F(()=>x.step1);return(p,e)=>{const l=K,i=R,s=D,V=G,L=O,I=$;return n(),d("div",null,[C("div",J,[t(I,{class:"box-card",style:{"padding-right":"10%","padding-left":"10%","margin-top":"20px"}},{default:m(()=>[t(L,{ref:"ruleForm",model:a(r),rules:v,"label-position":"top","status-icon":"","label-width":"120px",onSubmit:e[6]||(e[6]=B(()=>{},["prevent"]))},{default:m(()=>[t(l,{label:"图标",prop:"logo"},{default:m(()=>[t(z,{modelValue:a(r).logo,"onUpdate:modelValue":e[0]||(e[0]=o=>a(r).logo=o)},null,8,["modelValue"])]),_:1}),t(l,{label:"名称",prop:"name"},{default:m(()=>[t(i,{maxlength:"10",modelValue:a(r).name,"onUpdate:modelValue":e[1]||(e[1]=o=>a(r).name=o)},null,8,["modelValue"])]),_:1}),t(l,{label:"说明",prop:"remark"},{default:m(()=>[t(i,{maxlength:"20",modelValue:a(r).remark,"onUpdate:modelValue":e[2]||(e[2]=o=>a(r).remark=o)},null,8,["modelValue"])]),_:1}),t(l,{label:"分组",prop:"groupId"},{default:m(()=>[t(V,{style:{width:"100%"},modelValue:a(r).groupId,"onUpdate:modelValue":e[3]||(e[3]=o=>a(r).groupId=o),placeholder:"请选择流程组"},{default:m(()=>[(n(!0),d(h,null,N(u.value,o=>(n(),M(s,{key:o.id+"",label:o.groupName,value:o.id+""},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(l,{label:"谁可以发起该流程（默认全员）",prop:"rangeList"},{default:m(()=>[t(g,{orgList:a(r).rangeList,"onUpdate:orgList":e[4]||(e[4]=o=>a(r).rangeList=o),type:"org",multiple:!0},null,8,["orgList"])]),_:1}),t(l,{label:"管理员",prop:"admin"},{default:m(()=>[t(g,{orgList:a(r).admin,"onUpdate:orgList":e[5]||(e[5]=o=>a(r).admin=o),type:"user",multiple:!1},null,8,["orgList"])]),_:1})]),_:1},8,["model","rules"])]),_:1})])])}}});const Ge=H(P,[["__scopeId","data-v-f1b275b7"]]);export{Ge as default};
