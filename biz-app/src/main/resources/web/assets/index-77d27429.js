import{a as r,c as B,k as N,d as j,r as m,K as C,o as Q,a5 as e,w as o,f as n,l as p,a3 as _,P as A,q as K,as as O,am as G,a7 as g,an as H,aB as J}from"./index-e01dade3.js";import{v as W}from"./el-loading-b076b1a7.js";import{E as X}from"./el-card-16bdf0d8.js";import{_ as Y}from"./index-1cadfa40.js";import{E as Z,a as ee}from"./el-table-column-7cf019e1.js";import"./el-checkbox-123bf6dd.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-ee5283d6.js";import"./el-scrollbar-f2029ad1.js";import{_ as te,a as oe,b as ae}from"./search-93a6394a.js";import{E as ne}from"./el-tag-929563f7.js";/* empty css                */import{E as x,a as le}from"./el-form-item-85be6a3a.js";import{E as re,a as se}from"./el-select-c154265f.js";import{q as ie,d as _e,r as me}from"./index-e7ff780e.js";import"./isEqual-47390e81.js";import"./_Uint8Array-aeb50f83.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./_baseClone-59dac119.js";import"./isArrayLikeObject-a5301880.js";import"./_overRest-a79e0547.js";import"./_baseFlatten-6e5398bc.js";import"./debounce-bf37b7f7.js";import"./index-6b517de5.js";import"./flatten-178b99bc.js";import"./strings-6464b592.js";const pe={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ce=N("path",{fill:"currentColor",d:"M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),de=[ce];function ue(T,h){return r(),B("svg",pe,de)}const fe={name:"ep-check",render:ue},ge={class:"app-container"},he={class:"search"},Ae=j({name:"Role",inheritAttrs:!1,__name:"index",setup(T){const h=m(x),s=m(!1),y=m([]),c=m(0),l=C({pageNum:1,pageSize:10}),k=m();C({sort:1,status:1,key:"",name:""});function u(){s.value=!0,ie(l).then(({data:i})=>{k.value=i.records,c.value=i.total}).finally(()=>{s.value=!1})}function v(){h.value.resetFields(),l.pageNum=1,l.readed=void 0,u()}function M(i){const a=[i||y.value].join(",");if(!a){g.warning("请勾选删除项");return}H.confirm("确认删除已选中的数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{s.value=!0,_e(a).then(()=>{g.success("删除成功"),v()}).finally(()=>s.value=!1)})}m();function V(i){const a=[i||y.value].join(",");if(!a){g.warning("请勾选删除项");return}s.value=!0,me(a).then(()=>{g.success("处理成功"),v()}).finally(()=>s.value=!1)}return Q(()=>{u()}),(i,a)=>{const w=re,q=se,b=le,z=te,f=J,R=oe,S=x,d=Z,E=ne,F=fe,L=ae,$=ee,U=Y,D=X,I=W;return r(),B("div",ge,[N("div",he,[e(S,{ref_key:"queryFormRef",ref:h,model:n(l),inline:!0},{default:o(()=>[e(b,{prop:"keywords",label:"是否已读"},{default:o(()=>[e(q,{clearable:"",modelValue:n(l).readed,"onUpdate:modelValue":a[0]||(a[0]=t=>n(l).readed=t),placeholder:"选择"},{default:o(()=>[(r(),p(w,{key:!0,label:"已读",value:!0})),(r(),p(w,{key:!1,label:"未读",value:!1}))]),_:1},8,["modelValue"])]),_:1}),e(b,null,{default:o(()=>[e(f,{type:"primary",onClick:u},{default:o(()=>[e(z),_("搜索")]),_:1}),e(f,{onClick:v},{default:o(()=>[e(R),_("重置")]),_:1})]),_:1})]),_:1},8,["model"])]),e(D,{shadow:"never"},{default:o(()=>[A((r(),p($,{ref:"dataTableRef",data:n(k),"highlight-current-row":"",border:""},{default:o(()=>[e(d,{label:"标题",prop:"title",width:"200"}),e(d,{label:"内容",prop:"dataScope","min-width":"250"},{default:o(t=>[_(K(t.row.content),1)]),_:1}),e(d,{label:"时间",prop:"createTime","min-width":"100"}),e(d,{label:"状态",align:"center",width:"100"},{default:o(t=>[t.row.readed?(r(),p(E,{key:0,type:"success"},{default:o(()=>[_("已读")]),_:1})):(r(),p(E,{key:1,type:"info"},{default:o(()=>[_("未读")]),_:1}))]),_:1}),e(d,{fixed:"right",label:"操作",width:"220"},{default:o(t=>[e(f,{type:"success",size:"small",link:"",disabled:t.row.readed,onClick:P=>V(t.row.id)},{default:o(()=>[e(F),_("已读 ")]),_:2},1032,["disabled","onClick"]),e(f,{type:"danger",size:"small",link:"",onClick:P=>M(t.row.id)},{default:o(()=>[e(L),_("删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[I,n(s)]]),n(c)>0?(r(),p(U,{key:0,total:n(c),"onUpdate:total":a[1]||(a[1]=t=>O(c)?c.value=t:null),page:n(l).pageNum,"onUpdate:page":a[2]||(a[2]=t=>n(l).pageNum=t),limit:n(l).pageSize,"onUpdate:limit":a[3]||(a[3]=t=>n(l).pageSize=t),onPagination:u},null,8,["total","page","limit"])):G("",!0)]),_:1})])}}});export{Ae as default};
