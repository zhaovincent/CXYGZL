import{d as P,r as m,K as A,o as L,D as j,a as d,c as y,a5 as t,w as a,P as F,l as C,f as o,a3 as l,as as E,am as b,k as n,q as h,aD as K}from"./index-d5547550.js";import{v as Q}from"./el-loading-7d43f325.js";import{E as G}from"./el-drawer-75c80c60.js";/* empty css                  */import{E as H}from"./el-text-a7cd3acd.js";import{E as J}from"./el-card-39a9c0d0.js";import{_ as O}from"./index-bc35b8c7.js";import{E as W,a as X}from"./el-table-column-ec0cff67.js";/* empty css                    */import"./el-tooltip-4ed993c7.js";import"./el-popper-00977718.js";import"./el-scrollbar-cbe0c54f.js";import{_ as Y,a as Z}from"./ViewProcessInstanceImage.vue_vue_type_script_setup_true_lang-ccfa6d07.js";import{_ as tt}from"./position-9c3f4805.js";import"./el-tag-de6752b8.js";import{_ as ot,a as et}from"./refuse-b0e80fe1.js";import{_ as rt}from"./getFormWidget-6a62e076.js";import{_ as at}from"./FlowNodeFormatData.vue_vue_type_script_setup_true_lang-2be44824.js";import{e as it,g as st}from"./index-8f215b9b.js";import{E as mt}from"./index-85bc974f.js";import{_ as pt}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-dialog-27a1e524.js";import"./el-select-46753b34.js";import"./strings-fbdcd853.js";import"./isEqual-fe47b28a.js";import"./_Uint8Array-c7447712.js";import"./debounce-e2bc871f.js";import"./index-e8e7f773.js";import"./_baseClone-e7eb389f.js";import"./isArrayLikeObject-724a27ce.js";import"./_overRest-d3d6b67b.js";import"./_baseFlatten-c80c9ba3.js";import"./index-222e6800.js";import"./flatten-36990bb8.js";/* empty css                  */import"./index-a6355ec2.js";import"./refs-5fd04da2.js";import"./Area-836e6083.js";import"./area-23a735cb.js";import"./el-radio-92787871.js";import"./arrays-e667dc24.js";import"./cloneDeep-cfc40afc.js";import"./Date-3e356dbd.js";import"./el-date-picker-2b967550.js";import"./panel-time-pick-ae955f65.js";import"./index-da53d962.js";import"./DateTime-de06f21f.js";import"./Description-41c11d92.js";import"./Empty-e21e601f.js";import"./Input-45ba5ba8.js";import"./el-form-item-2de9c3c8.js";/* empty css                */import"./Money-ca211554.js";import"./el-input-number-f4eeab94.js";import"./MultiSelect-355b84fc.js";import"./Number-040385fc.js";import"./Score-a0ed8d55.js";import"./el-rate-1b1664df.js";import"./SelectDept-15a8e478.js";import"./selectAndShow.vue_vue_type_script_setup_true_lang-9eafc7ba.js";import"./employeesDialog-54936475.js";import"./selectBox-26a3a753.js";import"./selectBox.vue_vue_type_style_index_0_scoped_82c14c6c_lang-f1c14f73.js";import"./index-a7c7b111.js";import"./flow-165b4256.js";import"./const-a11e1fef.js";import"./selectResult-4abbf083.js";/* empty css                                                                     *//* empty css                                                                        */import"./orgItem-a67c9471.js";import"./SelectMultiDept-7fbc4ddc.js";import"./SelectMultiUser-a6f17dc4.js";import"./SelectUser-e4906c1f.js";import"./SingleSelect-915a5a36.js";import"./Textarea-466c5ec6.js";import"./Time-1bed9846.js";import"./el-time-picker-f79f3178.js";import"./UploadFile-b7fa1437.js";import"./el-progress-562499f2.js";import"./index-15f47425.js";import"./UploadImage-478fe7ac.js";import"./MultiUpload-acf0a282.js";import"./plus-bafa12a0.js";/* empty css                */import"./el-tab-pane-a6cb13f9.js";import"./el-divider-6edec4d7.js";const lt={class:"app-container"},nt={style:{position:"relative"}},ct={style:{display:"flex","flex-direction":"row"}},_t={class:"f11"},dt={class:"f22"},ut={key:0,class:"iconclass",src:ot},ft={key:1,class:"iconclass",src:et},vt=P({__name:"cc",setup(gt){const u=m(!1),f=m(!1);m([]);const c=m(0),_=A({pageNum:1,pageSize:10}),I=m(),v=m(),D=i=>{v.value=i,it({id:i.id}).then(e=>{s.value=e.data,u.value=!0})},s=m(),k=m(),z=i=>{k.value.view(i)};function x(){f.value=!0,st(_).then(({data:i})=>{I.value=i.records,c.value=i.total}).finally(()=>{f.value=!1})}L(()=>{x()});const R=j(()=>{var i={};for(var e of s.value.formItems)i[e.id]=e.props.value;return i});return(i,e)=>{const p=W,V=tt,N=K,T=Z,U=X,q=O,g=J,w=H,B=mt,S=G,$=Q;return d(),y("div",lt,[t(g,{shadow:"never"},{default:a(()=>[F((d(),C(U,{ref:"dataTableRef",data:o(I),"highlight-current-row":"",border:""},{default:a(()=>[t(p,{label:"分组",prop:"groupName",width:"100"}),t(p,{label:"流程",prop:"processName",width:"150"}),t(p,{label:"发起人",prop:"startUserName",width:"150"}),t(p,{label:"发起时间",prop:"startTime",width:"200"}),t(p,{label:"节点",prop:"nodeName",width:"200"}),t(p,{label:"抄送时间",prop:"nodeTime",width:"200"}),t(p,{fixed:"right",label:"操作"},{default:a(r=>[t(N,{type:"primary",size:"small",link:"",onClick:M=>D(r.row)},{default:a(()=>[t(V),l(" 查看 ")]),_:2},1032,["onClick"]),t(N,{type:"primary",size:"small",link:"",onClick:M=>z(r.row)},{default:a(()=>[t(T),l(" 流程图 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[$,o(f)]]),o(c)>0?(d(),C(q,{key:0,total:o(c),"onUpdate:total":e[0]||(e[0]=r=>E(c)?c.value=r:null),page:o(_).pageNum,"onUpdate:page":e[1]||(e[1]=r=>o(_).pageNum=r),limit:o(_).pageSize,"onUpdate:limit":e[2]||(e[2]=r=>o(_).pageSize=r),onPagination:x},null,8,["total","page","limit"])):b("",!0)]),_:1}),t(S,{modelValue:o(u),"onUpdate:modelValue":e[3]||(e[3]=r=>E(u)?u.value=r:null),direction:"rtl",size:"400px"},{header:a(()=>[t(w,{size:"large",tag:"b",type:"info"},{default:a(()=>[l("流程详情")]),_:1})]),default:a(()=>[t(g,{style:{"margin-bottom":"20px"}},{default:a(()=>[n("div",nt,[n("div",ct,[n("div",_t,[t(B,{shape:"square",size:50,src:o(s).starterAvatarUrl},{default:a(()=>[l(h(o(s).starterName.substring(0,1)),1)]),_:1},8,["src"])]),n("div",dt,[n("div",null,[t(w,{tag:"b",size:"large",type:"primary"},{default:a(()=>{var r;return[l(h((r=o(s))==null?void 0:r.processName),1)]}),_:1})]),n("div",null,[t(w,{size:"small"},{default:a(()=>[l(h(o(s).startTime),1)]),_:1})])])]),o(s).processInstanceResult==1?(d(),y("img",ut)):b("",!0),o(s).processInstanceResult==2?(d(),y("img",ft)):b("",!0)])]),_:1}),t(g,{class:"box-card"},{default:a(()=>[t(rt,{ref:"formRenderRef","form-list":o(s).formItems},null,8,["form-list"])]),_:1}),t(at,{disableSelect:!0,formData:o(R),processInstanceId:o(v).processInstanceId,"flow-id":o(v).flowId,ref:"flowNodeFormatRef"},null,8,["formData","processInstanceId","flow-id"])]),_:1},8,["modelValue"]),t(Y,{ref_key:"viewImageRef",ref:k},null,512)])}}});const Xo=pt(vt,[["__scopeId","data-v-f7d1924c"]]);export{Xo as default};
