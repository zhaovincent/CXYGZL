import{h as m,r as u,a as f,c as N,k as e,a5 as h,w as _,f as v,as as I,ag as y,ah as L}from"./index-e01dade3.js";import"./el-popper-ee5283d6.js";import{E as g}from"./el-popover-70136418.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import"./dropdown-b5481c97.js";const t=r=>(y("data-v-f2a78f52"),r=r(),L(),r),b={class:"add-node-btn-box"},x={class:"add-node-btn"},U={class:"add-node-popover-body"},$=t(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"")],-1)),k=t(()=>e("p",null,"审批人",-1)),w=[$,k],R=t(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"")],-1)),C=t(()=>e("p",null,"抄送人",-1)),O=[R,C],S=t(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"")],-1)),T=t(()=>e("p",null,"条件分支",-1)),E=[S,T],V=t(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"")],-1)),B=t(()=>e("p",null,"并行分支",-1)),M=[V,B],j=t(()=>e("button",{class:"btn",type:"button"},[e("span",{class:"iconfont"},"")],-1)),A={__name:"addNode",props:{childNodeP:{type:Object,default:()=>({})},currentNode:{type:Object,default:()=>({})}},emits:["update:childNodeP"],setup(r,{emit:c}){const s=r,{proxy:n}=m();let l=u(!1);const p=i=>{if(l.value=!1,i!=4&&i!=5){var o;i==1?o={id:n.$getRandomId(),nodeName:"审批人",error:!0,type:1,parentId:s.currentNode.id,assignedType:1,multiple:!1,multipleMode:1,deptLeaderLevel:1,formUserId:"",formUserName:"",formPerms:{},nobody:{handler:"TO_PASS",assignedUser:[]},sameAsStarter:{handler:"TO_CONTINUE"},refuse:{handler:"TO_END",nodeId:""},childNode:s.childNodeP,nodeUserList:[]}:i==2&&(o={id:n.$getRandomId(),parentId:s.currentNode.id,nodeName:"抄送人",type:2,error:!0,childNode:s.childNodeP,nodeUserList:[],formPerms:{}}),c("update:childNodeP",o)}else if(i==4){let d=n.$getRandomId();c("update:childNodeP",{nodeName:"条件分支",type:4,id:d,parentId:s.currentNode.id,childNode:s.childNodeP,conditionNodes:[{id:n.$getRandomId(),nodeName:"条件1",groupMode:!0,error:!0,type:3,parentId:d,priorityLevel:1,conditionList:[{mode:!0,conditionList:[{key:"",expression:""}]}],nodeUserList:[],childNode:null},{nodeName:"条件2",type:3,id:n.$getRandomId(),groupMode:!0,error:!1,parentId:d,priorityLevel:2,conditionList:[{mode:!0,conditionList:[{key:"",expression:""}]}],nodeUserList:[],childNode:null}]})}else if(i==5){let d=n.$getRandomId();c("update:childNodeP",{nodeName:"并行分支",type:5,id:d,parentId:s.currentNode.id,childNode:s.childNodeP,conditionNodes:[{id:n.$getRandomId(),nodeName:"分支1",placeHolder:"满足条件",parentId:d,error:!1,type:3,priorityLevel:1,conditionList:[],nodeUserList:[],childNode:null},{nodeName:"分支2",type:3,id:n.$getRandomId(),parentId:d,error:!1,placeHolder:"满足条件",priorityLevel:2,conditionList:[],nodeUserList:[],childNode:null}]})}};return(i,o)=>{const d=g;return f(),N("div",b,[e("div",x,[h(d,{placement:"right-start",modelValue:v(l),"onUpdate:modelValue":o[4]||(o[4]=a=>I(l)?l.value=a:l=a),width:"250px"},{reference:_(()=>[j]),default:_(()=>[e("div",U,[e("a",{class:"add-node-popover-item approver",onClick:o[0]||(o[0]=a=>p(1))},w),e("a",{class:"add-node-popover-item notifier",onClick:o[1]||(o[1]=a=>p(2))},O),e("a",{class:"add-node-popover-item condition",onClick:o[2]||(o[2]=a=>p(4))},E),e("a",{class:"add-node-popover-item ParallelGateway",onClick:o[3]||(o[3]=a=>p(5))},M)])]),_:1},8,["modelValue"])])])}}},F=P(A,[["__scopeId","data-v-f2a78f52"]]);export{F as default};
