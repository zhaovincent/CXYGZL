import{r as P,D as i,L as c,a as y,l as C,w as n,k as V,a5 as m,f as u,as as S}from"./index-e01dade3.js";import{E as U}from"./el-drawer-51597e24.js";import{E as k,a as x}from"./el-tab-pane-5b128a44.js";import{_ as B}from"./selectAndShow.vue_vue_type_script_setup_true_lang-a708354f.js";import{u as F}from"./flow-2349aa77.js";import{u as N}from"./index-219f5c7e.js";import T from"./formPerm-7089267e.js";import"./el-dialog-1471a1af.js";import"./refs-dd65b3fd.js";import"./strings-6464b592.js";import"./employeesDialog-3166dde1.js";import"./selectBox-a8819872.js";import"./el-avatar-63a3488d.js";import"./el-checkbox-123bf6dd.js";import"./isEqual-47390e81.js";import"./_Uint8Array-aeb50f83.js";import"./flatten-178b99bc.js";import"./_baseFlatten-6e5398bc.js";import"./_overRest-a79e0547.js";/* empty css                */import"./index-8f0c79b2.js";import"./index-126d0406.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./selectResult-ca10c7f8.js";import"./orgItem-da1d9713.js";import"./el-tag-929563f7.js";import"./el-radio-70657465.js";const h={class:"demo-drawer__content"},ne={__name:"promoterDrawer",setup(z){let f=N(),r=P({}),v=F(),d=i(()=>f.starterConfigData);c(d,a=>{r.value=a.value});const w=i(()=>v.step2),g=()=>{let a=w.value;var e={};let o=r.value.formPerms;console.log(o);for(var t of a)if(e[t.id]="E",o[t.id]&&(e[t.id]=o[t.id]),t.type==="Layout"){let l=t.props.value;for(var s of l)e[s.id]="E",o[s.id]&&(e[s.id]=o[s.id])}r.value.formPerms=e};let{setPromoter:b,setStarterConfig:D}=f,E=i(()=>f.promoterDrawer),p=i({get(){return E.value},set(){_()}});c(d,a=>{r.value=a.value});const L=()=>{D({value:r.value,flag:!0,id:d.value.id}),_()},_=()=>{b(!1)};return(a,e)=>{const o=k,t=x,s=U;return y(),C(s,{"append-to-body":!0,title:"发起人",modelValue:u(p),"onUpdate:modelValue":e[1]||(e[1]=l=>S(p)?p.value=l:p=l),class:"set_promoter","show-close":!1,onOpen:g,size:550,"before-close":L},{default:n(()=>[V("div",h,[m(t,{type:"border-card"},{default:n(()=>[m(o,{label:"设置发起人"},{default:n(()=>[m(B,{orgList:u(r).nodeUserList,"onUpdate:orgList":e[0]||(e[0]=l=>u(r).nodeUserList=l),type:"org",multiple:!0},null,8,["orgList"])]),_:1}),m(o,{label:"表单权限"},{default:n(()=>[m(T,{"form-perm":u(r).formPerms},null,8,["form-perm"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])}}};export{ne as default};
