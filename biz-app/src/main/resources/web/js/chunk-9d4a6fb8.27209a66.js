(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d4a6fb8"],{"023d":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["DESIGN"===e.mode?i("div",[i("el-button",{attrs:{size:"small",icon:"el-icon-paperclip",round:""}},[e._v("选择文件")]),i("ellipsis",{staticClass:"el-upload__tip",attrs:{slot:"tip",row:1,content:e.placeholder+e.sizeTip,hoverTip:""},slot:"tip"})],1):i("div",[i("el-upload",{attrs:{disabled:e.disabled,"on-success":e.uploadSuccess,"file-list":e._value,headers:e.uploadHeaders,"on-preview":e.clickFile,action:e.uploadUrl,"on-remove":e.handleRemove,limit:e.maxNumber,"with-credentials":"",multiple:e.maxNumber>0,data:e.uploadParams,"auto-upload":!0,"before-upload":e.beforeUpload}},[i("el-button",{attrs:{size:"small",icon:"el-icon-paperclip",round:""}},[e._v("选择文件")]),i("ellipsis",{staticClass:"el-upload__tip",attrs:{slot:"tip",row:1,content:e.placeholder+e.sizeTip,hoverTip:""},slot:"tip"})],1)],1)])},n=[],o=(i("99af"),i("4de4"),i("b0c0"),i("a9e3"),i("4d63"),i("ac1f"),i("25f0"),i("b85c")),l=i("8f73"),r=i("2957"),s={mixins:[l["a"]],name:"ImageUpload",components:{},props:{placeholder:{type:String,default:"请选择附件"},value:{type:Array,default:function(){return[]}},maxSize:{type:Number,default:5},onlyRead:{type:Boolean,default:!1},maxNumber:{type:Number,default:10},fileTypes:{type:Array,default:function(){return[]}},perm:{type:String,default:"E"}},mounted:function(){"R"===this.perm&&(this.disabled=!0)},watch:{fList:{handler:function(e){console.log(e),this.$emit("input",e)},deep:!0}},computed:{sizeTip:function(){return this.fileTypes.length>0?" | 只允许上传[".concat(String(this.fileTypes).replaceAll(",","、"),"]格式的文件，且单个附件不超过").concat(this.maxSize,"MB"):this.maxSize>0?" | 单个附件不超过".concat(this.maxSize,"MB"):""}},data:function(){return{fList:[],uploadHeaders:{cxygzl:localStorage.getItem("cxygzl")},uploadUrl:r["a"].BASE_URL+"/file/upload",disabled:!1,uploadParams:{}}},methods:{beforeUpload:function(e){var t=e.name,i=!1;if(this.fileTypes.length>0){var a,n=Object(o["a"])(this.fileTypes);try{for(n.s();!(a=n.n()).done;){var l=a.value,r=new RegExp(l+"$","i");if(r.test(t)){i=!0;break}}}catch(s){n.e(s)}finally{n.f()}}if(i){if(!(this.maxSize>0&&e.size/1024/1024>this.maxSize))return!0;this.$message.warning("单张图片最大不超过 ".concat(this.maxSize,"MB"))}else this.$message.warning("文件格式错误");return!1},handleRemove:function(e,t){this.fList=t.filter((function(t){return t.uid!=e.uid}))},handlePictureCardPreview:function(e){console.log(e)},clickFile:function(e){console.log(e),this.onlyRead||window.open(e.url)},uploadSuccess:function(e,t,i){t.url=e,this.fList.push(t)}}},u=s,c=i("2877"),d=Object(c["a"])(u,a,n,!1,null,"d5c37a9a",null);t["default"]=d.exports},"8f73":function(e,t,i){"use strict";t["a"]={props:{mode:{type:String,default:"DESIGN"},required:{type:Boolean,default:!1}},data:function(){return{}},computed:{_value:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}}},"99af":function(e,t,i){"use strict";var a=i("23e7"),n=i("d039"),o=i("e8b5"),l=i("861d"),r=i("7b0b"),s=i("50c4"),u=i("8418"),c=i("65f0"),d=i("1dde"),p=i("b622"),f=i("2d00"),h=p("isConcatSpreadable"),m=9007199254740991,b="Maximum allowed index exceeded",v=f>=51||!n((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),y=d("concat"),g=function(e){if(!l(e))return!1;var t=e[h];return void 0!==t?!!t:o(e)},w=!v||!y;a({target:"Array",proto:!0,forced:w},{concat:function(e){var t,i,a,n,o,l=r(this),d=c(l,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(o=-1===t?l:arguments[t],g(o)){if(n=s(o.length),p+n>m)throw TypeError(b);for(i=0;i<n;i++,p++)i in o&&u(d,p,o[i])}else{if(p>=m)throw TypeError(b);u(d,p++,o)}return d.length=p,d}})}}]);
//# sourceMappingURL=chunk-9d4a6fb8.27209a66.js.map